(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var j6=Object.defineProperty,C6=(e,t,n)=>t in e?j6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ON=(e,t,n)=>C6(e,typeof t!="symbol"?t+"":t,n);function M6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W5={exports:{}},Wg={},H5={exports:{}},ln={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ep=Symbol.for("react.element"),E6=Symbol.for("react.portal"),A6=Symbol.for("react.fragment"),P6=Symbol.for("react.strict_mode"),T6=Symbol.for("react.profiler"),O6=Symbol.for("react.provider"),D6=Symbol.for("react.context"),I6=Symbol.for("react.forward_ref"),_6=Symbol.for("react.suspense"),L6=Symbol.for("react.memo"),F6=Symbol.for("react.lazy"),DN=Symbol.iterator;function R6(e){return e===null||typeof e!="object"?null:(e=DN&&e[DN]||e["@@iterator"],typeof e=="function"?e:null)}var K5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y5=Object.assign,G5={};function Yu(e,t,n){this.props=e,this.context=t,this.refs=G5,this.updater=n||K5}Yu.prototype.isReactComponent={};Yu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function X5(){}X5.prototype=Yu.prototype;function ww(e,t,n){this.props=e,this.context=t,this.refs=G5,this.updater=n||K5}var kw=ww.prototype=new X5;kw.constructor=ww;Y5(kw,Yu.prototype);kw.isPureReactComponent=!0;var IN=Array.isArray,Q5=Object.prototype.hasOwnProperty,Sw={current:null},Z5={key:!0,ref:!0,__self:!0,__source:!0};function J5(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Q5.call(t,r)&&!Z5.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:ep,type:e,key:i,ref:o,props:a,_owner:Sw.current}}function $6(e,t){return{$$typeof:ep,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nw(e){return typeof e=="object"&&e!==null&&e.$$typeof===ep}function B6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _N=/\/+/g;function Ey(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B6(""+e.key):t.toString(36)}function $m(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ep:case E6:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Ey(o,0):r,IN(a)?(n="",e!=null&&(n=e.replace(_N,"$&/")+"/"),$m(a,t,n,"",function(c){return c})):a!=null&&(Nw(a)&&(a=$6(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(_N,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",IN(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Ey(i,s);o+=$m(i,t,n,l,a)}else if(l=R6(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Ey(i,s++),o+=$m(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gp(e,t,n){if(e==null)return e;var r=[],a=0;return $m(e,r,"","",function(i){return t.call(n,i,a++)}),r}function U6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $a={current:null},Bm={transition:null},z6={ReactCurrentDispatcher:$a,ReactCurrentBatchConfig:Bm,ReactCurrentOwner:Sw};function eP(){throw Error("act(...) is not supported in production builds of React.")}ln.Children={map:Gp,forEach:function(e,t,n){Gp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gp(e,function(){t++}),t},toArray:function(e){return Gp(e,function(t){return t})||[]},only:function(e){if(!Nw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ln.Component=Yu;ln.Fragment=A6;ln.Profiler=T6;ln.PureComponent=ww;ln.StrictMode=P6;ln.Suspense=_6;ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z6;ln.act=eP;ln.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Y5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Sw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Q5.call(t,l)&&!Z5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:ep,type:e.type,key:a,ref:i,props:r,_owner:o}};ln.createContext=function(e){return e={$$typeof:D6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:O6,_context:e},e.Consumer=e};ln.createElement=J5;ln.createFactory=function(e){var t=J5.bind(null,e);return t.type=e,t};ln.createRef=function(){return{current:null}};ln.forwardRef=function(e){return{$$typeof:I6,render:e}};ln.isValidElement=Nw;ln.lazy=function(e){return{$$typeof:F6,_payload:{_status:-1,_result:e},_init:U6}};ln.memo=function(e,t){return{$$typeof:L6,type:e,compare:t===void 0?null:t}};ln.startTransition=function(e){var t=Bm.transition;Bm.transition={};try{e()}finally{Bm.transition=t}};ln.unstable_act=eP;ln.useCallback=function(e,t){return $a.current.useCallback(e,t)};ln.useContext=function(e){return $a.current.useContext(e)};ln.useDebugValue=function(){};ln.useDeferredValue=function(e){return $a.current.useDeferredValue(e)};ln.useEffect=function(e,t){return $a.current.useEffect(e,t)};ln.useId=function(){return $a.current.useId()};ln.useImperativeHandle=function(e,t,n){return $a.current.useImperativeHandle(e,t,n)};ln.useInsertionEffect=function(e,t){return $a.current.useInsertionEffect(e,t)};ln.useLayoutEffect=function(e,t){return $a.current.useLayoutEffect(e,t)};ln.useMemo=function(e,t){return $a.current.useMemo(e,t)};ln.useReducer=function(e,t,n){return $a.current.useReducer(e,t,n)};ln.useRef=function(e){return $a.current.useRef(e)};ln.useState=function(e){return $a.current.useState(e)};ln.useSyncExternalStore=function(e,t,n){return $a.current.useSyncExternalStore(e,t,n)};ln.useTransition=function(){return $a.current.useTransition()};ln.version="18.3.1";H5.exports=ln;var v=H5.exports;const Hg=wo(v),V6=M6({__proto__:null,default:Hg},[v]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var q6=v,W6=Symbol.for("react.element"),H6=Symbol.for("react.fragment"),K6=Object.prototype.hasOwnProperty,Y6=q6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G6={key:!0,ref:!0,__self:!0,__source:!0};function tP(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)K6.call(t,r)&&!G6.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:W6,type:e,key:i,ref:o,props:a,_owner:Y6.current}}Wg.Fragment=H6;Wg.jsx=tP;Wg.jsxs=tP;W5.exports=Wg;var u=W5.exports,tb={},nP={exports:{}},Ci={},rP={exports:{}},aP={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(B,re){var k=B.length;B.push(re);e:for(;0<k;){var O=k-1>>>1,E=B[O];if(0<a(E,re))B[O]=re,B[k]=E,k=O;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var re=B[0],k=B.pop();if(k!==re){B[0]=k;e:for(var O=0,E=B.length,j=E>>>1;O<j;){var V=2*(O+1)-1,Q=B[V],W=V+1,H=B[W];if(0>a(Q,k))W<E&&0>a(H,Q)?(B[O]=H,B[W]=k,O=W):(B[O]=Q,B[V]=k,O=V);else if(W<E&&0>a(H,k))B[O]=H,B[W]=k,O=W;else break e}}return re}function a(B,re){var k=B.sortIndex-re.sortIndex;return k!==0?k:B.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,p=3,m=!1,h=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=B)r(c),re.sortIndex=re.expirationTime,t(l,re);else break;re=n(c)}}function S(B){if(y=!1,w(B),!h)if(n(l)!==null)h=!0,ce(C);else{var re=n(c);re!==null&&$(S,re.startTime-B)}}function C(B,re){h=!1,y&&(y=!1,g(T),T=-1),m=!0;var k=p;try{for(w(re),f=n(l);f!==null&&(!(f.expirationTime>re)||B&&!P());){var O=f.callback;if(typeof O=="function"){f.callback=null,p=f.priorityLevel;var E=O(f.expirationTime<=re);re=e.unstable_now(),typeof E=="function"?f.callback=E:f===n(l)&&r(l),w(re)}else r(l);f=n(l)}if(f!==null)var j=!0;else{var V=n(c);V!==null&&$(S,V.startTime-re),j=!1}return j}finally{f=null,p=k,m=!1}}var N=!1,M=null,T=-1,L=5,A=-1;function P(){return!(e.unstable_now()-A<L)}function I(){if(M!==null){var B=e.unstable_now();A=B;var re=!0;try{re=M(!0,B)}finally{re?z():(N=!1,M=null)}}else N=!1}var z;if(typeof b=="function")z=function(){b(I)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=I,z=function(){J.postMessage(null)}}else z=function(){x(I,0)};function ce(B){M=B,N||(N=!0,z())}function $(B,re){T=x(function(){B(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,ce(C))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var k=p;p=re;try{return B()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,re){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var k=p;p=B;try{return re()}finally{p=k}},e.unstable_scheduleCallback=function(B,re,k){var O=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?O+k:O):k=O,B){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=k+E,B={id:d++,callback:re,priorityLevel:B,startTime:k,expirationTime:E,sortIndex:-1},k>O?(B.sortIndex=k,t(c,B),n(l)===null&&B===n(c)&&(y?(g(T),T=-1):y=!0,$(S,k-O))):(B.sortIndex=E,t(l,B),h||m||(h=!0,ce(C))),B},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(B){var re=p;return function(){var k=p;p=re;try{return B.apply(this,arguments)}finally{p=k}}}})(aP);rP.exports=aP;var X6=rP.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Q6=v,Si=X6;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iP=new Set,cf={};function Sc(e,t){Mu(e,t),Mu(e+"Capture",t)}function Mu(e,t){for(cf[e]=t,e=0;e<t.length;e++)iP.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nb=Object.prototype.hasOwnProperty,Z6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LN={},FN={};function J6(e){return nb.call(FN,e)?!0:nb.call(LN,e)?!1:Z6.test(e)?FN[e]=!0:(LN[e]=!0,!1)}function e$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function t$(e,t,n,r){if(t===null||typeof t>"u"||e$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ba(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var fa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fa[e]=new Ba(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fa[t]=new Ba(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fa[e]=new Ba(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fa[e]=new Ba(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fa[e]=new Ba(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fa[e]=new Ba(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fa[e]=new Ba(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fa[e]=new Ba(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fa[e]=new Ba(e,5,!1,e.toLowerCase(),null,!1,!1)});var jw=/[\-:]([a-z])/g;function Cw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jw,Cw);fa[t]=new Ba(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jw,Cw);fa[t]=new Ba(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jw,Cw);fa[t]=new Ba(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fa[e]=new Ba(e,1,!1,e.toLowerCase(),null,!1,!1)});fa.xlinkHref=new Ba("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fa[e]=new Ba(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mw(e,t,n,r){var a=fa.hasOwnProperty(t)?fa[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t$(t,n,a,r)&&(n=null),r||a===null?J6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ws=Q6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xp=Symbol.for("react.element"),Jc=Symbol.for("react.portal"),eu=Symbol.for("react.fragment"),Ew=Symbol.for("react.strict_mode"),rb=Symbol.for("react.profiler"),oP=Symbol.for("react.provider"),sP=Symbol.for("react.context"),Aw=Symbol.for("react.forward_ref"),ab=Symbol.for("react.suspense"),ib=Symbol.for("react.suspense_list"),Pw=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),lP=Symbol.for("react.offscreen"),RN=Symbol.iterator;function hd(e){return e===null||typeof e!="object"?null:(e=RN&&e[RN]||e["@@iterator"],typeof e=="function"?e:null)}var gr=Object.assign,Ay;function Fd(e){if(Ay===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ay=t&&t[1]||""}return`
`+Ay+e}var Py=!1;function Ty(e,t){if(!e||Py)return"";Py=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Py=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fd(e):""}function n$(e){switch(e.tag){case 5:return Fd(e.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return e=Ty(e.type,!1),e;case 11:return e=Ty(e.type.render,!1),e;case 1:return e=Ty(e.type,!0),e;default:return""}}function ob(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eu:return"Fragment";case Jc:return"Portal";case rb:return"Profiler";case Ew:return"StrictMode";case ab:return"Suspense";case ib:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sP:return(e.displayName||"Context")+".Consumer";case oP:return(e._context.displayName||"Context")+".Provider";case Aw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pw:return t=e.displayName||null,t!==null?t:ob(e.type)||"Memo";case zs:t=e._payload,e=e._init;try{return ob(e(t))}catch{}}return null}function r$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ob(t);case 8:return t===Ew?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a$(e){var t=cP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qp(e){e._valueTracker||(e._valueTracker=a$(e))}function uP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sb(e,t){var n=t.checked;return gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $N(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dP(e,t){t=t.checked,t!=null&&Mw(e,"checked",t,!1)}function lb(e,t){dP(e,t);var n=dl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cb(e,t.type,n):t.hasOwnProperty("defaultValue")&&cb(e,t.type,dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function BN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cb(e,t,n){(t!=="number"||fh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rd=Array.isArray;function yu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ub(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function UN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(Rd(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dl(n)}}function fP(e,t){var n=dl(t.value),r=dl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function db(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zp,mP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zp=Zp||document.createElement("div"),Zp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i$=["Webkit","ms","Moz","O"];Object.keys(qd).forEach(function(e){i$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qd[t]=qd[e]})});function hP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qd.hasOwnProperty(e)&&qd[e]?(""+t).trim():t+"px"}function gP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=hP(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var o$=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fb(e,t){if(t){if(o$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function pb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mb=null;function Tw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hb=null,vu=null,bu=null;function VN(e){if(e=rp(e)){if(typeof hb!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Qg(t),hb(e.stateNode,e.type,t))}}function yP(e){vu?bu?bu.push(e):bu=[e]:vu=e}function vP(){if(vu){var e=vu,t=bu;if(bu=vu=null,VN(e),t)for(e=0;e<t.length;e++)VN(t[e])}}function bP(e,t){return e(t)}function xP(){}var Oy=!1;function wP(e,t,n){if(Oy)return e(t,n);Oy=!0;try{return bP(e,t,n)}finally{Oy=!1,(vu!==null||bu!==null)&&(xP(),vP())}}function df(e,t){var n=e.stateNode;if(n===null)return null;var r=Qg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var gb=!1;if(us)try{var gd={};Object.defineProperty(gd,"passive",{get:function(){gb=!0}}),window.addEventListener("test",gd,gd),window.removeEventListener("test",gd,gd)}catch{gb=!1}function s$(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Wd=!1,ph=null,mh=!1,yb=null,l$={onError:function(e){Wd=!0,ph=e}};function c$(e,t,n,r,a,i,o,s,l){Wd=!1,ph=null,s$.apply(l$,arguments)}function u$(e,t,n,r,a,i,o,s,l){if(c$.apply(this,arguments),Wd){if(Wd){var c=ph;Wd=!1,ph=null}else throw Error(Ue(198));mh||(mh=!0,yb=c)}}function Nc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qN(e){if(Nc(e)!==e)throw Error(Ue(188))}function d$(e){var t=e.alternate;if(!t){if(t=Nc(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return qN(a),e;if(i===r)return qN(a),t;i=i.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function SP(e){return e=d$(e),e!==null?NP(e):null}function NP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NP(e);if(t!==null)return t;e=e.sibling}return null}var jP=Si.unstable_scheduleCallback,WN=Si.unstable_cancelCallback,f$=Si.unstable_shouldYield,p$=Si.unstable_requestPaint,Er=Si.unstable_now,m$=Si.unstable_getCurrentPriorityLevel,Ow=Si.unstable_ImmediatePriority,CP=Si.unstable_UserBlockingPriority,hh=Si.unstable_NormalPriority,h$=Si.unstable_LowPriority,MP=Si.unstable_IdlePriority,Kg=null,Fo=null;function g$(e){if(Fo&&typeof Fo.onCommitFiberRoot=="function")try{Fo.onCommitFiberRoot(Kg,e,void 0,(e.current.flags&128)===128)}catch{}}var uo=Math.clz32?Math.clz32:b$,y$=Math.log,v$=Math.LN2;function b$(e){return e>>>=0,e===0?32:31-(y$(e)/v$|0)|0}var Jp=64,em=4194304;function $d(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=$d(s):(i&=o,i!==0&&(r=$d(i)))}else o=n&~a,o!==0?r=$d(o):i!==0&&(r=$d(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-uo(t),a=1<<n,r|=e[n],t&=~a;return r}function x$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-uo(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=x$(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function vb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EP(){var e=Jp;return Jp<<=1,!(Jp&4194240)&&(Jp=64),e}function Dy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-uo(t),e[t]=n}function k$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-uo(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Dw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-uo(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var On=0;function AP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PP,Iw,TP,OP,DP,bb=!1,tm=[],el=null,tl=null,nl=null,ff=new Map,pf=new Map,Ks=[],S$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HN(e,t){switch(e){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":ff.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(t.pointerId)}}function yd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=rp(t),t!==null&&Iw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function N$(e,t,n,r,a){switch(t){case"focusin":return el=yd(el,e,t,n,r,a),!0;case"dragenter":return tl=yd(tl,e,t,n,r,a),!0;case"mouseover":return nl=yd(nl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ff.set(i,yd(ff.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,pf.set(i,yd(pf.get(i)||null,e,t,n,r,a)),!0}return!1}function IP(e){var t=ql(e.target);if(t!==null){var n=Nc(t);if(n!==null){if(t=n.tag,t===13){if(t=kP(n),t!==null){e.blockedOn=t,DP(e.priority,function(){TP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Um(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mb=r,n.target.dispatchEvent(r),mb=null}else return t=rp(n),t!==null&&Iw(t),e.blockedOn=n,!1;t.shift()}return!0}function KN(e,t,n){Um(e)&&n.delete(t)}function j$(){bb=!1,el!==null&&Um(el)&&(el=null),tl!==null&&Um(tl)&&(tl=null),nl!==null&&Um(nl)&&(nl=null),ff.forEach(KN),pf.forEach(KN)}function vd(e,t){e.blockedOn===t&&(e.blockedOn=null,bb||(bb=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,j$)))}function mf(e){function t(a){return vd(a,e)}if(0<tm.length){vd(tm[0],e);for(var n=1;n<tm.length;n++){var r=tm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(el!==null&&vd(el,e),tl!==null&&vd(tl,e),nl!==null&&vd(nl,e),ff.forEach(t),pf.forEach(t),n=0;n<Ks.length;n++)r=Ks[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ks.length&&(n=Ks[0],n.blockedOn===null);)IP(n),n.blockedOn===null&&Ks.shift()}var xu=ws.ReactCurrentBatchConfig,yh=!0;function C$(e,t,n,r){var a=On,i=xu.transition;xu.transition=null;try{On=1,_w(e,t,n,r)}finally{On=a,xu.transition=i}}function M$(e,t,n,r){var a=On,i=xu.transition;xu.transition=null;try{On=4,_w(e,t,n,r)}finally{On=a,xu.transition=i}}function _w(e,t,n,r){if(yh){var a=xb(e,t,n,r);if(a===null)Vy(e,t,r,vh,n),HN(e,r);else if(N$(a,e,t,n,r))r.stopPropagation();else if(HN(e,r),t&4&&-1<S$.indexOf(e)){for(;a!==null;){var i=rp(a);if(i!==null&&PP(i),i=xb(e,t,n,r),i===null&&Vy(e,t,r,vh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Vy(e,t,r,null,n)}}var vh=null;function xb(e,t,n,r){if(vh=null,e=Tw(r),e=ql(e),e!==null)if(t=Nc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vh=e,null}function _P(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m$()){case Ow:return 1;case CP:return 4;case hh:case h$:return 16;case MP:return 536870912;default:return 16}default:return 16}}var Xs=null,Lw=null,zm=null;function LP(){if(zm)return zm;var e,t=Lw,n=t.length,r,a="value"in Xs?Xs.value:Xs.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return zm=a.slice(e,1<r?1-r:void 0)}function Vm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nm(){return!0}function YN(){return!1}function Mi(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nm:YN,this.isPropagationStopped=YN,this}return gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nm)},persist:function(){},isPersistent:nm}),t}var Gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fw=Mi(Gu),np=gr({},Gu,{view:0,detail:0}),E$=Mi(np),Iy,_y,bd,Yg=gr({},np,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bd&&(bd&&e.type==="mousemove"?(Iy=e.screenX-bd.screenX,_y=e.screenY-bd.screenY):_y=Iy=0,bd=e),Iy)},movementY:function(e){return"movementY"in e?e.movementY:_y}}),GN=Mi(Yg),A$=gr({},Yg,{dataTransfer:0}),P$=Mi(A$),T$=gr({},np,{relatedTarget:0}),Ly=Mi(T$),O$=gr({},Gu,{animationName:0,elapsedTime:0,pseudoElement:0}),D$=Mi(O$),I$=gr({},Gu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_$=Mi(I$),L$=gr({},Gu,{data:0}),XN=Mi(L$),F$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$$[e])?!!t[e]:!1}function Rw(){return B$}var U$=gr({},np,{key:function(e){if(e.key){var t=F$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rw,charCode:function(e){return e.type==="keypress"?Vm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z$=Mi(U$),V$=gr({},Yg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QN=Mi(V$),q$=gr({},np,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rw}),W$=Mi(q$),H$=gr({},Gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),K$=Mi(H$),Y$=gr({},Yg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G$=Mi(Y$),X$=[9,13,27,32],$w=us&&"CompositionEvent"in window,Hd=null;us&&"documentMode"in document&&(Hd=document.documentMode);var Q$=us&&"TextEvent"in window&&!Hd,FP=us&&(!$w||Hd&&8<Hd&&11>=Hd),ZN=" ",JN=!1;function RP(e,t){switch(e){case"keyup":return X$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $P(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tu=!1;function Z$(e,t){switch(e){case"compositionend":return $P(t);case"keypress":return t.which!==32?null:(JN=!0,ZN);case"textInput":return e=t.data,e===ZN&&JN?null:e;default:return null}}function J$(e,t){if(tu)return e==="compositionend"||!$w&&RP(e,t)?(e=LP(),zm=Lw=Xs=null,tu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FP&&t.locale!=="ko"?null:t.data;default:return null}}var eB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eB[e.type]:t==="textarea"}function BP(e,t,n,r){yP(r),t=bh(t,"onChange"),0<t.length&&(n=new Fw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kd=null,hf=null;function tB(e){QP(e,0)}function Gg(e){var t=au(e);if(uP(t))return e}function nB(e,t){if(e==="change")return t}var UP=!1;if(us){var Fy;if(us){var Ry="oninput"in document;if(!Ry){var t2=document.createElement("div");t2.setAttribute("oninput","return;"),Ry=typeof t2.oninput=="function"}Fy=Ry}else Fy=!1;UP=Fy&&(!document.documentMode||9<document.documentMode)}function n2(){Kd&&(Kd.detachEvent("onpropertychange",zP),hf=Kd=null)}function zP(e){if(e.propertyName==="value"&&Gg(hf)){var t=[];BP(t,hf,e,Tw(e)),wP(tB,t)}}function rB(e,t,n){e==="focusin"?(n2(),Kd=t,hf=n,Kd.attachEvent("onpropertychange",zP)):e==="focusout"&&n2()}function aB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gg(hf)}function iB(e,t){if(e==="click")return Gg(t)}function oB(e,t){if(e==="input"||e==="change")return Gg(t)}function sB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ho=typeof Object.is=="function"?Object.is:sB;function gf(e,t){if(ho(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!nb.call(t,a)||!ho(e[a],t[a]))return!1}return!0}function r2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a2(e,t){var n=r2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r2(n)}}function VP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?VP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qP(){for(var e=window,t=fh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fh(e.document)}return t}function Bw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lB(e){var t=qP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&VP(n.ownerDocument.documentElement,n)){if(r!==null&&Bw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=a2(n,i);var o=a2(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cB=us&&"documentMode"in document&&11>=document.documentMode,nu=null,wb=null,Yd=null,kb=!1;function i2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kb||nu==null||nu!==fh(r)||(r=nu,"selectionStart"in r&&Bw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yd&&gf(Yd,r)||(Yd=r,r=bh(wb,"onSelect"),0<r.length&&(t=new Fw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nu)))}function rm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ru={animationend:rm("Animation","AnimationEnd"),animationiteration:rm("Animation","AnimationIteration"),animationstart:rm("Animation","AnimationStart"),transitionend:rm("Transition","TransitionEnd")},$y={},WP={};us&&(WP=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function Xg(e){if($y[e])return $y[e];if(!ru[e])return e;var t=ru[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in WP)return $y[e]=t[n];return e}var HP=Xg("animationend"),KP=Xg("animationiteration"),YP=Xg("animationstart"),GP=Xg("transitionend"),XP=new Map,o2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(e,t){XP.set(e,t),Sc(t,[e])}for(var By=0;By<o2.length;By++){var Uy=o2[By],uB=Uy.toLowerCase(),dB=Uy[0].toUpperCase()+Uy.slice(1);yl(uB,"on"+dB)}yl(HP,"onAnimationEnd");yl(KP,"onAnimationIteration");yl(YP,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(GP,"onTransitionEnd");Mu("onMouseEnter",["mouseout","mouseover"]);Mu("onMouseLeave",["mouseout","mouseover"]);Mu("onPointerEnter",["pointerout","pointerover"]);Mu("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bd));function s2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,u$(r,t,void 0,e),e.currentTarget=null}function QP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;s2(a,s,c),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;s2(a,s,c),i=l}}}if(mh)throw e=yb,mh=!1,yb=null,e}function Xn(e,t){var n=t[Mb];n===void 0&&(n=t[Mb]=new Set);var r=e+"__bubble";n.has(r)||(ZP(t,e,2,!1),n.add(r))}function zy(e,t,n){var r=0;t&&(r|=4),ZP(n,e,r,t)}var am="_reactListening"+Math.random().toString(36).slice(2);function yf(e){if(!e[am]){e[am]=!0,iP.forEach(function(n){n!=="selectionchange"&&(fB.has(n)||zy(n,!1,e),zy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[am]||(t[am]=!0,zy("selectionchange",!1,t))}}function ZP(e,t,n,r){switch(_P(t)){case 1:var a=C$;break;case 4:a=M$;break;default:a=_w}n=a.bind(null,t,n,e),a=void 0,!gb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vy(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=ql(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}wP(function(){var c=i,d=Tw(n),f=[];e:{var p=XP.get(e);if(p!==void 0){var m=Fw,h=e;switch(e){case"keypress":if(Vm(n)===0)break e;case"keydown":case"keyup":m=z$;break;case"focusin":h="focus",m=Ly;break;case"focusout":h="blur",m=Ly;break;case"beforeblur":case"afterblur":m=Ly;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=GN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=P$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=W$;break;case HP:case KP:case YP:m=D$;break;case GP:m=K$;break;case"scroll":m=E$;break;case"wheel":m=G$;break;case"copy":case"cut":case"paste":m=_$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=QN}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=df(b,g),S!=null&&y.push(vf(b,S,w)))),x)break;b=b.return}0<y.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==mb&&(h=n.relatedTarget||n.fromElement)&&(ql(h)||h[ds]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=c,h=h?ql(h):null,h!==null&&(x=Nc(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=c),m!==h)){if(y=GN,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=QN,S="onPointerLeave",g="onPointerEnter",b="pointer"),x=m==null?p:au(m),w=h==null?p:au(h),p=new y(S,b+"leave",m,n,d),p.target=x,p.relatedTarget=w,S=null,ql(d)===c&&(y=new y(g,b+"enter",h,n,d),y.target=w,y.relatedTarget=x,S=y),x=S,m&&h)t:{for(y=m,g=h,b=0,w=y;w;w=qc(w))b++;for(w=0,S=g;S;S=qc(S))w++;for(;0<b-w;)y=qc(y),b--;for(;0<w-b;)g=qc(g),w--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break t;y=qc(y),g=qc(g)}y=null}else y=null;m!==null&&l2(f,p,m,y,!1),h!==null&&x!==null&&l2(f,x,h,y,!0)}}e:{if(p=c?au(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=nB;else if(e2(p))if(UP)C=oB;else{C=aB;var N=rB}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=iB);if(C&&(C=C(e,c))){BP(f,C,n,d);break e}N&&N(e,p,c),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&cb(p,"number",p.value)}switch(N=c?au(c):window,e){case"focusin":(e2(N)||N.contentEditable==="true")&&(nu=N,wb=c,Yd=null);break;case"focusout":Yd=wb=nu=null;break;case"mousedown":kb=!0;break;case"contextmenu":case"mouseup":case"dragend":kb=!1,i2(f,n,d);break;case"selectionchange":if(cB)break;case"keydown":case"keyup":i2(f,n,d)}var M;if($w)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else tu?RP(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(FP&&n.locale!=="ko"&&(tu||T!=="onCompositionStart"?T==="onCompositionEnd"&&tu&&(M=LP()):(Xs=d,Lw="value"in Xs?Xs.value:Xs.textContent,tu=!0)),N=bh(c,T),0<N.length&&(T=new XN(T,e,null,n,d),f.push({event:T,listeners:N}),M?T.data=M:(M=$P(n),M!==null&&(T.data=M)))),(M=Q$?Z$(e,n):J$(e,n))&&(c=bh(c,"onBeforeInput"),0<c.length&&(d=new XN("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=M))}QP(f,t)})}function vf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bh(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=df(e,n),i!=null&&r.unshift(vf(e,i,a)),i=df(e,t),i!=null&&r.push(vf(e,i,a))),e=e.return}return r}function qc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function l2(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,a?(l=df(n,i),l!=null&&o.unshift(vf(n,l,s))):a||(l=df(n,i),l!=null&&o.push(vf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var pB=/\r\n?/g,mB=/\u0000|\uFFFD/g;function c2(e){return(typeof e=="string"?e:""+e).replace(pB,`
`).replace(mB,"")}function im(e,t,n){if(t=c2(t),c2(e)!==t&&n)throw Error(Ue(425))}function xh(){}var Sb=null,Nb=null;function jb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cb=typeof setTimeout=="function"?setTimeout:void 0,hB=typeof clearTimeout=="function"?clearTimeout:void 0,u2=typeof Promise=="function"?Promise:void 0,gB=typeof queueMicrotask=="function"?queueMicrotask:typeof u2<"u"?function(e){return u2.resolve(null).then(e).catch(yB)}:Cb;function yB(e){setTimeout(function(){throw e})}function qy(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),mf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);mf(t)}function rl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function d2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xu=Math.random().toString(36).slice(2),_o="__reactFiber$"+Xu,bf="__reactProps$"+Xu,ds="__reactContainer$"+Xu,Mb="__reactEvents$"+Xu,vB="__reactListeners$"+Xu,bB="__reactHandles$"+Xu;function ql(e){var t=e[_o];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ds]||n[_o]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=d2(e);e!==null;){if(n=e[_o])return n;e=d2(e)}return t}e=n,n=e.parentNode}return null}function rp(e){return e=e[_o]||e[ds],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function au(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Qg(e){return e[bf]||null}var Eb=[],iu=-1;function vl(e){return{current:e}}function Jn(e){0>iu||(e.current=Eb[iu],Eb[iu]=null,iu--)}function qn(e,t){iu++,Eb[iu]=e.current,e.current=t}var fl={},Sa=vl(fl),Qa=vl(!1),sc=fl;function Eu(e,t){var n=e.type.contextTypes;if(!n)return fl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Za(e){return e=e.childContextTypes,e!=null}function wh(){Jn(Qa),Jn(Sa)}function f2(e,t,n){if(Sa.current!==fl)throw Error(Ue(168));qn(Sa,t),qn(Qa,n)}function JP(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ue(108,r$(e)||"Unknown",a));return gr({},n,r)}function kh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fl,sc=Sa.current,qn(Sa,e),qn(Qa,Qa.current),!0}function p2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=JP(e,t,sc),r.__reactInternalMemoizedMergedChildContext=e,Jn(Qa),Jn(Sa),qn(Sa,e)):Jn(Qa),qn(Qa,n)}var Go=null,Zg=!1,Wy=!1;function eT(e){Go===null?Go=[e]:Go.push(e)}function xB(e){Zg=!0,eT(e)}function bl(){if(!Wy&&Go!==null){Wy=!0;var e=0,t=On;try{var n=Go;for(On=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Go=null,Zg=!1}catch(a){throw Go!==null&&(Go=Go.slice(e+1)),jP(Ow,bl),a}finally{On=t,Wy=!1}}return null}var ou=[],su=0,Sh=null,Nh=0,Bi=[],Ui=0,lc=null,es=1,ts="";function Ll(e,t){ou[su++]=Nh,ou[su++]=Sh,Sh=e,Nh=t}function tT(e,t,n){Bi[Ui++]=es,Bi[Ui++]=ts,Bi[Ui++]=lc,lc=e;var r=es;e=ts;var a=32-uo(r)-1;r&=~(1<<a),n+=1;var i=32-uo(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,es=1<<32-uo(t)+a|n<<a|r,ts=i+e}else es=1<<i|n<<a|r,ts=e}function Uw(e){e.return!==null&&(Ll(e,1),tT(e,1,0))}function zw(e){for(;e===Sh;)Sh=ou[--su],ou[su]=null,Nh=ou[--su],ou[su]=null;for(;e===lc;)lc=Bi[--Ui],Bi[Ui]=null,ts=Bi[--Ui],Bi[Ui]=null,es=Bi[--Ui],Bi[Ui]=null}var xi=null,vi=null,or=!1,oo=null;function nT(e,t){var n=Vi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function m2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xi=e,vi=rl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xi=e,vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lc!==null?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xi=e,vi=null,!0):!1;default:return!1}}function Ab(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pb(e){if(or){var t=vi;if(t){var n=t;if(!m2(e,t)){if(Ab(e))throw Error(Ue(418));t=rl(n.nextSibling);var r=xi;t&&m2(e,t)?nT(r,n):(e.flags=e.flags&-4097|2,or=!1,xi=e)}}else{if(Ab(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,or=!1,xi=e}}}function h2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function om(e){if(e!==xi)return!1;if(!or)return h2(e),or=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jb(e.type,e.memoizedProps)),t&&(t=vi)){if(Ab(e))throw rT(),Error(Ue(418));for(;t;)nT(e,t),t=rl(t.nextSibling)}if(h2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vi=rl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vi=null}}else vi=xi?rl(e.stateNode.nextSibling):null;return!0}function rT(){for(var e=vi;e;)e=rl(e.nextSibling)}function Au(){vi=xi=null,or=!1}function Vw(e){oo===null?oo=[e]:oo.push(e)}var wB=ws.ReactCurrentBatchConfig;function xd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function sm(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function g2(e){var t=e._init;return t(e._payload)}function aT(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=sl(g,b),g.index=0,g.sibling=null,g}function i(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,b,w,S){return b===null||b.tag!==6?(b=Zy(w,g.mode,S),b.return=g,b):(b=a(b,w),b.return=g,b)}function l(g,b,w,S){var C=w.type;return C===eu?d(g,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zs&&g2(C)===b.type)?(S=a(b,w.props),S.ref=xd(g,b,w),S.return=g,S):(S=Xm(w.type,w.key,w.props,null,g.mode,S),S.ref=xd(g,b,w),S.return=g,S)}function c(g,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Jy(w,g.mode,S),b.return=g,b):(b=a(b,w.children||[]),b.return=g,b)}function d(g,b,w,S,C){return b===null||b.tag!==7?(b=ec(w,g.mode,S,C),b.return=g,b):(b=a(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zy(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xp:return w=Xm(b.type,b.key,b.props,null,g.mode,w),w.ref=xd(g,null,b),w.return=g,w;case Jc:return b=Jy(b,g.mode,w),b.return=g,b;case zs:var S=b._init;return f(g,S(b._payload),w)}if(Rd(b)||hd(b))return b=ec(b,g.mode,w,null),b.return=g,b;sm(g,b)}return null}function p(g,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:s(g,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xp:return w.key===C?l(g,b,w,S):null;case Jc:return w.key===C?c(g,b,w,S):null;case zs:return C=w._init,p(g,b,C(w._payload),S)}if(Rd(w)||hd(w))return C!==null?null:d(g,b,w,S,null);sm(g,w)}return null}function m(g,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,s(b,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xp:return g=g.get(S.key===null?w:S.key)||null,l(b,g,S,C);case Jc:return g=g.get(S.key===null?w:S.key)||null,c(b,g,S,C);case zs:var N=S._init;return m(g,b,w,N(S._payload),C)}if(Rd(S)||hd(S))return g=g.get(w)||null,d(b,g,S,C,null);sm(b,S)}return null}function h(g,b,w,S){for(var C=null,N=null,M=b,T=b=0,L=null;M!==null&&T<w.length;T++){M.index>T?(L=M,M=null):L=M.sibling;var A=p(g,M,w[T],S);if(A===null){M===null&&(M=L);break}e&&M&&A.alternate===null&&t(g,M),b=i(A,b,T),N===null?C=A:N.sibling=A,N=A,M=L}if(T===w.length)return n(g,M),or&&Ll(g,T),C;if(M===null){for(;T<w.length;T++)M=f(g,w[T],S),M!==null&&(b=i(M,b,T),N===null?C=M:N.sibling=M,N=M);return or&&Ll(g,T),C}for(M=r(g,M);T<w.length;T++)L=m(M,g,T,w[T],S),L!==null&&(e&&L.alternate!==null&&M.delete(L.key===null?T:L.key),b=i(L,b,T),N===null?C=L:N.sibling=L,N=L);return e&&M.forEach(function(P){return t(g,P)}),or&&Ll(g,T),C}function y(g,b,w,S){var C=hd(w);if(typeof C!="function")throw Error(Ue(150));if(w=C.call(w),w==null)throw Error(Ue(151));for(var N=C=null,M=b,T=b=0,L=null,A=w.next();M!==null&&!A.done;T++,A=w.next()){M.index>T?(L=M,M=null):L=M.sibling;var P=p(g,M,A.value,S);if(P===null){M===null&&(M=L);break}e&&M&&P.alternate===null&&t(g,M),b=i(P,b,T),N===null?C=P:N.sibling=P,N=P,M=L}if(A.done)return n(g,M),or&&Ll(g,T),C;if(M===null){for(;!A.done;T++,A=w.next())A=f(g,A.value,S),A!==null&&(b=i(A,b,T),N===null?C=A:N.sibling=A,N=A);return or&&Ll(g,T),C}for(M=r(g,M);!A.done;T++,A=w.next())A=m(M,g,T,A.value,S),A!==null&&(e&&A.alternate!==null&&M.delete(A.key===null?T:A.key),b=i(A,b,T),N===null?C=A:N.sibling=A,N=A);return e&&M.forEach(function(I){return t(g,I)}),or&&Ll(g,T),C}function x(g,b,w,S){if(typeof w=="object"&&w!==null&&w.type===eu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xp:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===eu){if(N.tag===7){n(g,N.sibling),b=a(N,w.props.children),b.return=g,g=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zs&&g2(C)===N.type){n(g,N.sibling),b=a(N,w.props),b.ref=xd(g,N,w),b.return=g,g=b;break e}n(g,N);break}else t(g,N);N=N.sibling}w.type===eu?(b=ec(w.props.children,g.mode,S,w.key),b.return=g,g=b):(S=Xm(w.type,w.key,w.props,null,g.mode,S),S.ref=xd(g,b,w),S.return=g,g=S)}return o(g);case Jc:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(g,b.sibling),b=a(b,w.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=Jy(w,g.mode,S),b.return=g,g=b}return o(g);case zs:return N=w._init,x(g,b,N(w._payload),S)}if(Rd(w))return h(g,b,w,S);if(hd(w))return y(g,b,w,S);sm(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(g,b.sibling),b=a(b,w),b.return=g,g=b):(n(g,b),b=Zy(w,g.mode,S),b.return=g,g=b),o(g)):n(g,b)}return x}var Pu=aT(!0),iT=aT(!1),jh=vl(null),Ch=null,lu=null,qw=null;function Ww(){qw=lu=Ch=null}function Hw(e){var t=jh.current;Jn(jh),e._currentValue=t}function Tb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wu(e,t){Ch=e,qw=lu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ga=!0),e.firstContext=null)}function Ki(e){var t=e._currentValue;if(qw!==e)if(e={context:e,memoizedValue:t,next:null},lu===null){if(Ch===null)throw Error(Ue(308));lu=e,Ch.dependencies={lanes:0,firstContext:e}}else lu=lu.next=e;return t}var Wl=null;function Kw(e){Wl===null?Wl=[e]:Wl.push(e)}function oT(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Kw(t)):(n.next=a.next,a.next=n),t.interleaved=n,fs(e,r)}function fs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vs=!1;function Yw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function al(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,fs(e,n)}return a=r.interleaved,a===null?(t.next=t,Kw(r)):(t.next=a.next,a.next=t),r.interleaved=t,fs(e,n)}function qm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dw(e,n)}}function y2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mh(e,t,n,r){var a=e.updateQueue;Vs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,y=s;switch(p=t,m=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=gr({},f,p);break e;case 2:Vs=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);uc|=o,e.lanes=o,e.memoizedState=f}}function v2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ue(191,a));a.call(r)}}}var ap={},Ro=vl(ap),xf=vl(ap),wf=vl(ap);function Hl(e){if(e===ap)throw Error(Ue(174));return e}function Gw(e,t){switch(qn(wf,t),qn(xf,e),qn(Ro,ap),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:db(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=db(t,e)}Jn(Ro),qn(Ro,t)}function Tu(){Jn(Ro),Jn(xf),Jn(wf)}function lT(e){Hl(wf.current);var t=Hl(Ro.current),n=db(t,e.type);t!==n&&(qn(xf,e),qn(Ro,n))}function Xw(e){xf.current===e&&(Jn(Ro),Jn(xf))}var fr=vl(0);function Eh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hy=[];function Qw(){for(var e=0;e<Hy.length;e++)Hy[e]._workInProgressVersionPrimary=null;Hy.length=0}var Wm=ws.ReactCurrentDispatcher,Ky=ws.ReactCurrentBatchConfig,cc=0,hr=null,zr=null,ea=null,Ah=!1,Gd=!1,kf=0,kB=0;function ma(){throw Error(Ue(321))}function Zw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ho(e[n],t[n]))return!1;return!0}function Jw(e,t,n,r,a,i){if(cc=i,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wm.current=e===null||e.memoizedState===null?CB:MB,e=n(r,a),Gd){i=0;do{if(Gd=!1,kf=0,25<=i)throw Error(Ue(301));i+=1,ea=zr=null,t.updateQueue=null,Wm.current=EB,e=n(r,a)}while(Gd)}if(Wm.current=Ph,t=zr!==null&&zr.next!==null,cc=0,ea=zr=hr=null,Ah=!1,t)throw Error(Ue(300));return e}function e1(){var e=kf!==0;return kf=0,e}function Oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ea===null?hr.memoizedState=ea=e:ea=ea.next=e,ea}function Yi(){if(zr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=zr.next;var t=ea===null?hr.memoizedState:ea.next;if(t!==null)ea=t,zr=e;else{if(e===null)throw Error(Ue(310));zr=e,e={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},ea===null?hr.memoizedState=ea=e:ea=ea.next=e}return ea}function Sf(e,t){return typeof t=="function"?t(e):t}function Yy(e){var t=Yi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=zr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var d=c.lane;if((cc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,hr.lanes|=d,uc|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=s,ho(r,t.memoizedState)||(Ga=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,hr.lanes|=i,uc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gy(e){var t=Yi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ho(i,t.memoizedState)||(Ga=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function cT(){}function uT(e,t){var n=hr,r=Yi(),a=t(),i=!ho(r.memoizedState,a);if(i&&(r.memoizedState=a,Ga=!0),r=r.queue,t1(pT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ea!==null&&ea.memoizedState.tag&1){if(n.flags|=2048,Nf(9,fT.bind(null,n,r,a,t),void 0,null),ta===null)throw Error(Ue(349));cc&30||dT(n,t,a)}return a}function dT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fT(e,t,n,r){t.value=n,t.getSnapshot=r,mT(t)&&hT(e)}function pT(e,t,n){return n(function(){mT(t)&&hT(e)})}function mT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ho(e,n)}catch{return!0}}function hT(e){var t=fs(e,1);t!==null&&fo(t,e,1,-1)}function b2(e){var t=Oo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sf,lastRenderedState:e},t.queue=e,e=e.dispatch=jB.bind(null,hr,e),[t.memoizedState,e]}function Nf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gT(){return Yi().memoizedState}function Hm(e,t,n,r){var a=Oo();hr.flags|=e,a.memoizedState=Nf(1|t,n,void 0,r===void 0?null:r)}function Jg(e,t,n,r){var a=Yi();r=r===void 0?null:r;var i=void 0;if(zr!==null){var o=zr.memoizedState;if(i=o.destroy,r!==null&&Zw(r,o.deps)){a.memoizedState=Nf(t,n,i,r);return}}hr.flags|=e,a.memoizedState=Nf(1|t,n,i,r)}function x2(e,t){return Hm(8390656,8,e,t)}function t1(e,t){return Jg(2048,8,e,t)}function yT(e,t){return Jg(4,2,e,t)}function vT(e,t){return Jg(4,4,e,t)}function bT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xT(e,t,n){return n=n!=null?n.concat([e]):null,Jg(4,4,bT.bind(null,t,e),n)}function n1(){}function wT(e,t){var n=Yi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kT(e,t){var n=Yi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ST(e,t,n){return cc&21?(ho(n,t)||(n=EP(),hr.lanes|=n,uc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ga=!0),e.memoizedState=n)}function SB(e,t){var n=On;On=n!==0&&4>n?n:4,e(!0);var r=Ky.transition;Ky.transition={};try{e(!1),t()}finally{On=n,Ky.transition=r}}function NT(){return Yi().memoizedState}function NB(e,t,n){var r=ol(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jT(e))CT(t,n);else if(n=oT(e,t,n,r),n!==null){var a=La();fo(n,e,r,a),MT(n,t,r)}}function jB(e,t,n){var r=ol(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jT(e))CT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,ho(s,o)){var l=t.interleaved;l===null?(a.next=a,Kw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=oT(e,t,a,r),n!==null&&(a=La(),fo(n,e,r,a),MT(n,t,r))}}function jT(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function CT(e,t){Gd=Ah=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function MT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dw(e,n)}}var Ph={readContext:Ki,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},CB={readContext:Ki,useCallback:function(e,t){return Oo().memoizedState=[e,t===void 0?null:t],e},useContext:Ki,useEffect:x2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hm(4194308,4,bT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hm(4,2,e,t)},useMemo:function(e,t){var n=Oo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=NB.bind(null,hr,e),[r.memoizedState,e]},useRef:function(e){var t=Oo();return e={current:e},t.memoizedState=e},useState:b2,useDebugValue:n1,useDeferredValue:function(e){return Oo().memoizedState=e},useTransition:function(){var e=b2(!1),t=e[0];return e=SB.bind(null,e[1]),Oo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hr,a=Oo();if(or){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),ta===null)throw Error(Ue(349));cc&30||dT(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,x2(pT.bind(null,r,i,e),[e]),r.flags|=2048,Nf(9,fT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Oo(),t=ta.identifierPrefix;if(or){var n=ts,r=es;n=(r&~(1<<32-uo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=kf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MB={readContext:Ki,useCallback:wT,useContext:Ki,useEffect:t1,useImperativeHandle:xT,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:kT,useReducer:Yy,useRef:gT,useState:function(){return Yy(Sf)},useDebugValue:n1,useDeferredValue:function(e){var t=Yi();return ST(t,zr.memoizedState,e)},useTransition:function(){var e=Yy(Sf)[0],t=Yi().memoizedState;return[e,t]},useMutableSource:cT,useSyncExternalStore:uT,useId:NT,unstable_isNewReconciler:!1},EB={readContext:Ki,useCallback:wT,useContext:Ki,useEffect:t1,useImperativeHandle:xT,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:kT,useReducer:Gy,useRef:gT,useState:function(){return Gy(Sf)},useDebugValue:n1,useDeferredValue:function(e){var t=Yi();return zr===null?t.memoizedState=e:ST(t,zr.memoizedState,e)},useTransition:function(){var e=Gy(Sf)[0],t=Yi().memoizedState;return[e,t]},useMutableSource:cT,useSyncExternalStore:uT,useId:NT,unstable_isNewReconciler:!1};function ao(e,t){if(e&&e.defaultProps){t=gr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ob(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var e0={isMounted:function(e){return(e=e._reactInternals)?Nc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=La(),a=ol(e),i=is(r,a);i.payload=t,n!=null&&(i.callback=n),t=al(e,i,a),t!==null&&(fo(t,e,a,r),qm(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=La(),a=ol(e),i=is(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=al(e,i,a),t!==null&&(fo(t,e,a,r),qm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=La(),r=ol(e),a=is(n,r);a.tag=2,t!=null&&(a.callback=t),t=al(e,a,r),t!==null&&(fo(t,e,r,n),qm(t,e,r))}};function w2(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!gf(n,r)||!gf(a,i):!0}function ET(e,t,n){var r=!1,a=fl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ki(i):(a=Za(t)?sc:Sa.current,r=t.contextTypes,i=(r=r!=null)?Eu(e,a):fl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=e0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function k2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&e0.enqueueReplaceState(t,t.state,null)}function Db(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Yw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ki(i):(i=Za(t)?sc:Sa.current,a.context=Eu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ob(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&e0.enqueueReplaceState(a,a.state,null),Mh(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ou(e,t){try{var n="",r=t;do n+=n$(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Xy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ib(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var AB=typeof WeakMap=="function"?WeakMap:Map;function AT(e,t,n){n=is(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Oh||(Oh=!0,Vb=r),Ib(e,t)},n}function PT(e,t,n){n=is(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Ib(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ib(e,t),typeof r!="function"&&(il===null?il=new Set([this]):il.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function S2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new AB;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=VB.bind(null,e,t,n),t.then(e,e))}function N2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function j2(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=is(-1,1),t.tag=2,al(n,t,1))),n.lanes|=1),e)}var PB=ws.ReactCurrentOwner,Ga=!1;function Da(e,t,n,r){t.child=e===null?iT(t,null,n,r):Pu(t,e.child,n,r)}function C2(e,t,n,r,a){n=n.render;var i=t.ref;return wu(t,a),r=Jw(e,t,n,r,i,a),n=e1(),e!==null&&!Ga?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ps(e,t,a)):(or&&n&&Uw(t),t.flags|=1,Da(e,t,r,a),t.child)}function M2(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!u1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,TT(e,t,i,r,a)):(e=Xm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:gf,n(o,r)&&e.ref===t.ref)return ps(e,t,a)}return t.flags|=1,e=sl(i,r),e.ref=t.ref,e.return=t,t.child=e}function TT(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(gf(i,r)&&e.ref===t.ref)if(Ga=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ga=!0);else return t.lanes=e.lanes,ps(e,t,a)}return _b(e,t,n,r,a)}function OT(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(uu,hi),hi|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qn(uu,hi),hi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qn(uu,hi),hi|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,qn(uu,hi),hi|=r;return Da(e,t,a,n),t.child}function DT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _b(e,t,n,r,a){var i=Za(n)?sc:Sa.current;return i=Eu(t,i),wu(t,a),n=Jw(e,t,n,r,i,a),r=e1(),e!==null&&!Ga?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ps(e,t,a)):(or&&r&&Uw(t),t.flags|=1,Da(e,t,n,a),t.child)}function E2(e,t,n,r,a){if(Za(n)){var i=!0;kh(t)}else i=!1;if(wu(t,a),t.stateNode===null)Km(e,t),ET(t,n,r),Db(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ki(c):(c=Za(n)?sc:Sa.current,c=Eu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&k2(t,o,r,c),Vs=!1;var p=t.memoizedState;o.state=p,Mh(t,r,o,a),l=t.memoizedState,s!==r||p!==l||Qa.current||Vs?(typeof d=="function"&&(Ob(t,n,d,r),l=t.memoizedState),(s=Vs||w2(t,n,s,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,sT(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ao(t.type,s),o.props=c,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ki(l):(l=Za(n)?sc:Sa.current,l=Eu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&k2(t,o,r,l),Vs=!1,p=t.memoizedState,o.state=p,Mh(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||Qa.current||Vs?(typeof m=="function"&&(Ob(t,n,m,r),h=t.memoizedState),(c=Vs||w2(t,n,c,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Lb(e,t,n,r,i,a)}function Lb(e,t,n,r,a,i){DT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&p2(t,n,!1),ps(e,t,i);r=t.stateNode,PB.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Pu(t,e.child,null,i),t.child=Pu(t,null,s,i)):Da(e,t,s,i),t.memoizedState=r.state,a&&p2(t,n,!0),t.child}function IT(e){var t=e.stateNode;t.pendingContext?f2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f2(e,t.context,!1),Gw(e,t.containerInfo)}function A2(e,t,n,r,a){return Au(),Vw(a),t.flags|=256,Da(e,t,n,r),t.child}var Fb={dehydrated:null,treeContext:null,retryLane:0};function Rb(e){return{baseLanes:e,cachePool:null,transitions:null}}function _T(e,t,n){var r=t.pendingProps,a=fr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qn(fr,a&1),e===null)return Pb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=r0(o,r,0,null),e=ec(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Rb(n),t.memoizedState=Fb,e):r1(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return TB(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=sl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=sl(s,i):(i=ec(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Rb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Fb,r}return i=e.child,e=i.sibling,r=sl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function r1(e,t){return t=r0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lm(e,t,n,r){return r!==null&&Vw(r),Pu(t,e.child,null,n),e=r1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TB(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Xy(Error(Ue(422))),lm(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=r0({mode:"visible",children:r.children},a,0,null),i=ec(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pu(t,e.child,null,o),t.child.memoizedState=Rb(o),t.memoizedState=Fb,i);if(!(t.mode&1))return lm(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(Ue(419)),r=Xy(i,r,void 0),lm(e,t,o,r)}if(s=(o&e.childLanes)!==0,Ga||s){if(r=ta,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fs(e,a),fo(r,e,a,-1))}return c1(),r=Xy(Error(Ue(421))),lm(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qB.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,vi=rl(a.nextSibling),xi=t,or=!0,oo=null,e!==null&&(Bi[Ui++]=es,Bi[Ui++]=ts,Bi[Ui++]=lc,es=e.id,ts=e.overflow,lc=t),t=r1(t,r.children),t.flags|=4096,t)}function P2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tb(e.return,t,n)}function Qy(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function LT(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Da(e,t,r.children,n),r=fr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P2(e,n,t);else if(e.tag===19)P2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qn(fr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Eh(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Qy(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Eh(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Qy(t,!0,n,null,i);break;case"together":Qy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Km(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ps(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),uc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=sl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OB(e,t,n){switch(t.tag){case 3:IT(t),Au();break;case 5:lT(t);break;case 1:Za(t.type)&&kh(t);break;case 4:Gw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;qn(jh,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qn(fr,fr.current&1),t.flags|=128,null):n&t.child.childLanes?_T(e,t,n):(qn(fr,fr.current&1),e=ps(e,t,n),e!==null?e.sibling:null);qn(fr,fr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return LT(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qn(fr,fr.current),r)break;return null;case 22:case 23:return t.lanes=0,OT(e,t,n)}return ps(e,t,n)}var FT,$b,RT,$T;FT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$b=function(){};RT=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Hl(Ro.current);var i=null;switch(n){case"input":a=sb(e,a),r=sb(e,r),i=[];break;case"select":a=gr({},a,{value:void 0}),r=gr({},r,{value:void 0}),i=[];break;case"textarea":a=ub(e,a),r=ub(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xh)}fb(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xn("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};$T=function(e,t,n,r){n!==r&&(t.flags|=4)};function wd(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ha(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function DB(e,t,n){var r=t.pendingProps;switch(zw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ha(t),null;case 1:return Za(t.type)&&wh(),ha(t),null;case 3:return r=t.stateNode,Tu(),Jn(Qa),Jn(Sa),Qw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(om(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,oo!==null&&(Hb(oo),oo=null))),$b(e,t),ha(t),null;case 5:Xw(t);var a=Hl(wf.current);if(n=t.type,e!==null&&t.stateNode!=null)RT(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return ha(t),null}if(e=Hl(Ro.current),om(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[_o]=t,r[bf]=i,e=(t.mode&1)!==0,n){case"dialog":Xn("cancel",r),Xn("close",r);break;case"iframe":case"object":case"embed":Xn("load",r);break;case"video":case"audio":for(a=0;a<Bd.length;a++)Xn(Bd[a],r);break;case"source":Xn("error",r);break;case"img":case"image":case"link":Xn("error",r),Xn("load",r);break;case"details":Xn("toggle",r);break;case"input":$N(r,i),Xn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xn("invalid",r);break;case"textarea":UN(r,i),Xn("invalid",r)}fb(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&im(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&im(r.textContent,s,e),a=["children",""+s]):cf.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Xn("scroll",r)}switch(n){case"input":Qp(r),BN(r,i,!0);break;case"textarea":Qp(r),zN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xh)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_o]=t,e[bf]=r,FT(e,t,!1,!1),t.stateNode=e;e:{switch(o=pb(n,r),n){case"dialog":Xn("cancel",e),Xn("close",e),a=r;break;case"iframe":case"object":case"embed":Xn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Bd.length;a++)Xn(Bd[a],e);a=r;break;case"source":Xn("error",e),a=r;break;case"img":case"image":case"link":Xn("error",e),Xn("load",e),a=r;break;case"details":Xn("toggle",e),a=r;break;case"input":$N(e,r),a=sb(e,r),Xn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=gr({},r,{value:void 0}),Xn("invalid",e);break;case"textarea":UN(e,r),a=ub(e,r),Xn("invalid",e);break;default:a=r}fb(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?gP(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mP(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uf(e,l):typeof l=="number"&&uf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xn("scroll",e):l!=null&&Mw(e,i,l,o))}switch(n){case"input":Qp(e),BN(e,r,!1);break;case"textarea":Qp(e),zN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?yu(e,!!r.multiple,i,!1):r.defaultValue!=null&&yu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=xh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ha(t),null;case 6:if(e&&t.stateNode!=null)$T(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=Hl(wf.current),Hl(Ro.current),om(t)){if(r=t.stateNode,n=t.memoizedProps,r[_o]=t,(i=r.nodeValue!==n)&&(e=xi,e!==null))switch(e.tag){case 3:im(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&im(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_o]=t,t.stateNode=r}return ha(t),null;case 13:if(Jn(fr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(or&&vi!==null&&t.mode&1&&!(t.flags&128))rT(),Au(),t.flags|=98560,i=!1;else if(i=om(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ue(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ue(317));i[_o]=t}else Au(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ha(t),i=!1}else oo!==null&&(Hb(oo),oo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fr.current&1?qr===0&&(qr=3):c1())),t.updateQueue!==null&&(t.flags|=4),ha(t),null);case 4:return Tu(),$b(e,t),e===null&&yf(t.stateNode.containerInfo),ha(t),null;case 10:return Hw(t.type._context),ha(t),null;case 17:return Za(t.type)&&wh(),ha(t),null;case 19:if(Jn(fr),i=t.memoizedState,i===null)return ha(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)wd(i,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Eh(e),o!==null){for(t.flags|=128,wd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qn(fr,fr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Er()>Du&&(t.flags|=128,r=!0,wd(i,!1),t.lanes=4194304)}else{if(!r)if(e=Eh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!or)return ha(t),null}else 2*Er()-i.renderingStartTime>Du&&n!==1073741824&&(t.flags|=128,r=!0,wd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Er(),t.sibling=null,n=fr.current,qn(fr,r?n&1|2:n&1),t):(ha(t),null);case 22:case 23:return l1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?hi&1073741824&&(ha(t),t.subtreeFlags&6&&(t.flags|=8192)):ha(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function IB(e,t){switch(zw(t),t.tag){case 1:return Za(t.type)&&wh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tu(),Jn(Qa),Jn(Sa),Qw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xw(t),null;case 13:if(Jn(fr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Au()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(fr),null;case 4:return Tu(),null;case 10:return Hw(t.type._context),null;case 22:case 23:return l1(),null;case 24:return null;default:return null}}var cm=!1,va=!1,_B=typeof WeakSet=="function"?WeakSet:Set,dt=null;function cu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kr(e,t,r)}else n.current=null}function BT(e,t,n){try{n()}catch(r){kr(e,t,r)}}var T2=!1;function LB(e,t){if(Sb=yh,e=qP(),Bw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nb={focusedElem:e,selectionRange:n},yh=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){t=dt;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,x=h.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ao(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(S){kr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}return h=T2,T2=!1,h}function Xd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&BT(t,n,i)}a=a.next}while(a!==r)}}function t0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function UT(e){var t=e.alternate;t!==null&&(e.alternate=null,UT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_o],delete t[bf],delete t[Mb],delete t[vB],delete t[bB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zT(e){return e.tag===5||e.tag===3||e.tag===4}function O2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ub(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xh));else if(r!==4&&(e=e.child,e!==null))for(Ub(e,t,n),e=e.sibling;e!==null;)Ub(e,t,n),e=e.sibling}function zb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zb(e,t,n),e=e.sibling;e!==null;)zb(e,t,n),e=e.sibling}var la=null,io=!1;function Rs(e,t,n){for(n=n.child;n!==null;)VT(e,t,n),n=n.sibling}function VT(e,t,n){if(Fo&&typeof Fo.onCommitFiberUnmount=="function")try{Fo.onCommitFiberUnmount(Kg,n)}catch{}switch(n.tag){case 5:va||cu(n,t);case 6:var r=la,a=io;la=null,Rs(e,t,n),la=r,io=a,la!==null&&(io?(e=la,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):la.removeChild(n.stateNode));break;case 18:la!==null&&(io?(e=la,n=n.stateNode,e.nodeType===8?qy(e.parentNode,n):e.nodeType===1&&qy(e,n),mf(e)):qy(la,n.stateNode));break;case 4:r=la,a=io,la=n.stateNode.containerInfo,io=!0,Rs(e,t,n),la=r,io=a;break;case 0:case 11:case 14:case 15:if(!va&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&BT(n,t,o),a=a.next}while(a!==r)}Rs(e,t,n);break;case 1:if(!va&&(cu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kr(n,t,s)}Rs(e,t,n);break;case 21:Rs(e,t,n);break;case 22:n.mode&1?(va=(r=va)||n.memoizedState!==null,Rs(e,t,n),va=r):Rs(e,t,n);break;default:Rs(e,t,n)}}function D2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _B),t.forEach(function(r){var a=WB.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ro(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:la=s.stateNode,io=!1;break e;case 3:la=s.stateNode.containerInfo,io=!0;break e;case 4:la=s.stateNode.containerInfo,io=!0;break e}s=s.return}if(la===null)throw Error(Ue(160));VT(i,o,a),la=null,io=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){kr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qT(t,e),t=t.sibling}function qT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ro(t,e),Eo(e),r&4){try{Xd(3,e,e.return),t0(3,e)}catch(y){kr(e,e.return,y)}try{Xd(5,e,e.return)}catch(y){kr(e,e.return,y)}}break;case 1:ro(t,e),Eo(e),r&512&&n!==null&&cu(n,n.return);break;case 5:if(ro(t,e),Eo(e),r&512&&n!==null&&cu(n,n.return),e.flags&32){var a=e.stateNode;try{uf(a,"")}catch(y){kr(e,e.return,y)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&dP(a,i),pb(s,o);var c=pb(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?gP(a,f):d==="dangerouslySetInnerHTML"?mP(a,f):d==="children"?uf(a,f):Mw(a,d,f,c)}switch(s){case"input":lb(a,i);break;case"textarea":fP(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yu(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?yu(a,!!i.multiple,i.defaultValue,!0):yu(a,!!i.multiple,i.multiple?[]:"",!1))}a[bf]=i}catch(y){kr(e,e.return,y)}}break;case 6:if(ro(t,e),Eo(e),r&4){if(e.stateNode===null)throw Error(Ue(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){kr(e,e.return,y)}}break;case 3:if(ro(t,e),Eo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mf(t.containerInfo)}catch(y){kr(e,e.return,y)}break;case 4:ro(t,e),Eo(e);break;case 13:ro(t,e),Eo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(o1=Er())),r&4&&D2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(va=(c=va)||d,ro(t,e),va=c):ro(t,e),Eo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(dt=e,d=e.child;d!==null;){for(f=dt=d;dt!==null;){switch(p=dt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Xd(4,p,p.return);break;case 1:cu(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){kr(r,n,y)}}break;case 5:cu(p,p.return);break;case 22:if(p.memoizedState!==null){_2(f);continue}}m!==null?(m.return=p,dt=m):_2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=hP("display",o))}catch(y){kr(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){kr(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ro(t,e),Eo(e),r&4&&D2(e);break;case 21:break;default:ro(t,e),Eo(e)}}function Eo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zT(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(uf(a,""),r.flags&=-33);var i=O2(e);zb(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=O2(e);Ub(e,s,o);break;default:throw Error(Ue(161))}}catch(l){kr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FB(e,t,n){dt=e,WT(e)}function WT(e,t,n){for(var r=(e.mode&1)!==0;dt!==null;){var a=dt,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||cm;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||va;s=cm;var c=va;if(cm=o,(va=l)&&!c)for(dt=a;dt!==null;)o=dt,l=o.child,o.tag===22&&o.memoizedState!==null?L2(a):l!==null?(l.return=o,dt=l):L2(a);for(;i!==null;)dt=i,WT(i),i=i.sibling;dt=a,cm=s,va=c}I2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,dt=i):I2(e)}}function I2(e){for(;dt!==null;){var t=dt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:va||t0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!va)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ao(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&v2(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}v2(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&mf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}va||t.flags&512&&Bb(t)}catch(p){kr(t,t.return,p)}}if(t===e){dt=null;break}if(n=t.sibling,n!==null){n.return=t.return,dt=n;break}dt=t.return}}function _2(e){for(;dt!==null;){var t=dt;if(t===e){dt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,dt=n;break}dt=t.return}}function L2(e){for(;dt!==null;){var t=dt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{t0(4,t)}catch(l){kr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){kr(t,a,l)}}var i=t.return;try{Bb(t)}catch(l){kr(t,i,l)}break;case 5:var o=t.return;try{Bb(t)}catch(l){kr(t,o,l)}}}catch(l){kr(t,t.return,l)}if(t===e){dt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,dt=s;break}dt=t.return}}var RB=Math.ceil,Th=ws.ReactCurrentDispatcher,a1=ws.ReactCurrentOwner,Wi=ws.ReactCurrentBatchConfig,bn=0,ta=null,Fr=null,da=0,hi=0,uu=vl(0),qr=0,jf=null,uc=0,n0=0,i1=0,Qd=null,Ya=null,o1=0,Du=1/0,Yo=null,Oh=!1,Vb=null,il=null,um=!1,Qs=null,Dh=0,Zd=0,qb=null,Ym=-1,Gm=0;function La(){return bn&6?Er():Ym!==-1?Ym:Ym=Er()}function ol(e){return e.mode&1?bn&2&&da!==0?da&-da:wB.transition!==null?(Gm===0&&(Gm=EP()),Gm):(e=On,e!==0||(e=window.event,e=e===void 0?16:_P(e.type)),e):1}function fo(e,t,n,r){if(50<Zd)throw Zd=0,qb=null,Error(Ue(185));tp(e,n,r),(!(bn&2)||e!==ta)&&(e===ta&&(!(bn&2)&&(n0|=n),qr===4&&Ys(e,da)),Ja(e,r),n===1&&bn===0&&!(t.mode&1)&&(Du=Er()+500,Zg&&bl()))}function Ja(e,t){var n=e.callbackNode;w$(e,t);var r=gh(e,e===ta?da:0);if(r===0)n!==null&&WN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&WN(n),t===1)e.tag===0?xB(F2.bind(null,e)):eT(F2.bind(null,e)),gB(function(){!(bn&6)&&bl()}),n=null;else{switch(AP(r)){case 1:n=Ow;break;case 4:n=CP;break;case 16:n=hh;break;case 536870912:n=MP;break;default:n=hh}n=JT(n,HT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function HT(e,t){if(Ym=-1,Gm=0,bn&6)throw Error(Ue(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=gh(e,e===ta?da:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ih(e,r);else{t=r;var a=bn;bn|=2;var i=YT();(ta!==e||da!==t)&&(Yo=null,Du=Er()+500,Jl(e,t));do try{UB();break}catch(s){KT(e,s)}while(!0);Ww(),Th.current=i,bn=a,Fr!==null?t=0:(ta=null,da=0,t=qr)}if(t!==0){if(t===2&&(a=vb(e),a!==0&&(r=a,t=Wb(e,a))),t===1)throw n=jf,Jl(e,0),Ys(e,r),Ja(e,Er()),n;if(t===6)Ys(e,r);else{if(a=e.current.alternate,!(r&30)&&!$B(a)&&(t=Ih(e,r),t===2&&(i=vb(e),i!==0&&(r=i,t=Wb(e,i))),t===1))throw n=jf,Jl(e,0),Ys(e,r),Ja(e,Er()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Ue(345));case 2:Fl(e,Ya,Yo);break;case 3:if(Ys(e,r),(r&130023424)===r&&(t=o1+500-Er(),10<t)){if(gh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){La(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Cb(Fl.bind(null,e,Ya,Yo),t);break}Fl(e,Ya,Yo);break;case 4:if(Ys(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-uo(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RB(r/1960))-r,10<r){e.timeoutHandle=Cb(Fl.bind(null,e,Ya,Yo),r);break}Fl(e,Ya,Yo);break;case 5:Fl(e,Ya,Yo);break;default:throw Error(Ue(329))}}}return Ja(e,Er()),e.callbackNode===n?HT.bind(null,e):null}function Wb(e,t){var n=Qd;return e.current.memoizedState.isDehydrated&&(Jl(e,t).flags|=256),e=Ih(e,t),e!==2&&(t=Ya,Ya=n,t!==null&&Hb(t)),e}function Hb(e){Ya===null?Ya=e:Ya.push.apply(Ya,e)}function $B(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!ho(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ys(e,t){for(t&=~i1,t&=~n0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-uo(t),r=1<<n;e[n]=-1,t&=~r}}function F2(e){if(bn&6)throw Error(Ue(327));ku();var t=gh(e,0);if(!(t&1))return Ja(e,Er()),null;var n=Ih(e,t);if(e.tag!==0&&n===2){var r=vb(e);r!==0&&(t=r,n=Wb(e,r))}if(n===1)throw n=jf,Jl(e,0),Ys(e,t),Ja(e,Er()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fl(e,Ya,Yo),Ja(e,Er()),null}function s1(e,t){var n=bn;bn|=1;try{return e(t)}finally{bn=n,bn===0&&(Du=Er()+500,Zg&&bl())}}function dc(e){Qs!==null&&Qs.tag===0&&!(bn&6)&&ku();var t=bn;bn|=1;var n=Wi.transition,r=On;try{if(Wi.transition=null,On=1,e)return e()}finally{On=r,Wi.transition=n,bn=t,!(bn&6)&&bl()}}function l1(){hi=uu.current,Jn(uu)}function Jl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hB(n)),Fr!==null)for(n=Fr.return;n!==null;){var r=n;switch(zw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wh();break;case 3:Tu(),Jn(Qa),Jn(Sa),Qw();break;case 5:Xw(r);break;case 4:Tu();break;case 13:Jn(fr);break;case 19:Jn(fr);break;case 10:Hw(r.type._context);break;case 22:case 23:l1()}n=n.return}if(ta=e,Fr=e=sl(e.current,null),da=hi=t,qr=0,jf=null,i1=n0=uc=0,Ya=Qd=null,Wl!==null){for(t=0;t<Wl.length;t++)if(n=Wl[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Wl=null}return e}function KT(e,t){do{var n=Fr;try{if(Ww(),Wm.current=Ph,Ah){for(var r=hr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ah=!1}if(cc=0,ea=zr=hr=null,Gd=!1,kf=0,a1.current=null,n===null||n.return===null){qr=1,jf=t,Fr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=da,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=N2(o);if(m!==null){m.flags&=-257,j2(m,o,s,i,t),m.mode&1&&S2(i,c,t),t=m,l=c;var h=t.updateQueue;if(h===null){var y=new Set;y.add(l),t.updateQueue=y}else h.add(l);break e}else{if(!(t&1)){S2(i,c,t),c1();break e}l=Error(Ue(426))}}else if(or&&s.mode&1){var x=N2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),j2(x,o,s,i,t),Vw(Ou(l,s));break e}}i=l=Ou(l,s),qr!==4&&(qr=2),Qd===null?Qd=[i]:Qd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=AT(i,l,t);y2(i,g);break e;case 1:s=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(il===null||!il.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=PT(i,s,t);y2(i,S);break e}}i=i.return}while(i!==null)}XT(n)}catch(C){t=C,Fr===n&&n!==null&&(Fr=n=n.return);continue}break}while(!0)}function YT(){var e=Th.current;return Th.current=Ph,e===null?Ph:e}function c1(){(qr===0||qr===3||qr===2)&&(qr=4),ta===null||!(uc&268435455)&&!(n0&268435455)||Ys(ta,da)}function Ih(e,t){var n=bn;bn|=2;var r=YT();(ta!==e||da!==t)&&(Yo=null,Jl(e,t));do try{BB();break}catch(a){KT(e,a)}while(!0);if(Ww(),bn=n,Th.current=r,Fr!==null)throw Error(Ue(261));return ta=null,da=0,qr}function BB(){for(;Fr!==null;)GT(Fr)}function UB(){for(;Fr!==null&&!f$();)GT(Fr)}function GT(e){var t=ZT(e.alternate,e,hi);e.memoizedProps=e.pendingProps,t===null?XT(e):Fr=t,a1.current=null}function XT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=IB(n,t),n!==null){n.flags&=32767,Fr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Fr=null;return}}else if(n=DB(n,t,hi),n!==null){Fr=n;return}if(t=t.sibling,t!==null){Fr=t;return}Fr=t=e}while(t!==null);qr===0&&(qr=5)}function Fl(e,t,n){var r=On,a=Wi.transition;try{Wi.transition=null,On=1,zB(e,t,n,r)}finally{Wi.transition=a,On=r}return null}function zB(e,t,n,r){do ku();while(Qs!==null);if(bn&6)throw Error(Ue(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(k$(e,i),e===ta&&(Fr=ta=null,da=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||um||(um=!0,JT(hh,function(){return ku(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wi.transition,Wi.transition=null;var o=On;On=1;var s=bn;bn|=4,a1.current=null,LB(e,n),qT(n,e),lB(Nb),yh=!!Sb,Nb=Sb=null,e.current=n,FB(n),p$(),bn=s,On=o,Wi.transition=i}else e.current=n;if(um&&(um=!1,Qs=e,Dh=a),i=e.pendingLanes,i===0&&(il=null),g$(n.stateNode),Ja(e,Er()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Oh)throw Oh=!1,e=Vb,Vb=null,e;return Dh&1&&e.tag!==0&&ku(),i=e.pendingLanes,i&1?e===qb?Zd++:(Zd=0,qb=e):Zd=0,bl(),null}function ku(){if(Qs!==null){var e=AP(Dh),t=Wi.transition,n=On;try{if(Wi.transition=null,On=16>e?16:e,Qs===null)var r=!1;else{if(e=Qs,Qs=null,Dh=0,bn&6)throw Error(Ue(331));var a=bn;for(bn|=4,dt=e.current;dt!==null;){var i=dt,o=i.child;if(dt.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(dt=c;dt!==null;){var d=dt;switch(d.tag){case 0:case 11:case 15:Xd(8,d,i)}var f=d.child;if(f!==null)f.return=d,dt=f;else for(;dt!==null;){d=dt;var p=d.sibling,m=d.return;if(UT(d),d===c){dt=null;break}if(p!==null){p.return=m,dt=p;break}dt=m}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}dt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,dt=o;else e:for(;dt!==null;){if(i=dt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xd(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,dt=g;break e}dt=i.return}}var b=e.current;for(dt=b;dt!==null;){o=dt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,dt=w;else e:for(o=b;dt!==null;){if(s=dt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:t0(9,s)}}catch(C){kr(s,s.return,C)}if(s===o){dt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,dt=S;break e}dt=s.return}}if(bn=a,bl(),Fo&&typeof Fo.onPostCommitFiberRoot=="function")try{Fo.onPostCommitFiberRoot(Kg,e)}catch{}r=!0}return r}finally{On=n,Wi.transition=t}}return!1}function R2(e,t,n){t=Ou(n,t),t=AT(e,t,1),e=al(e,t,1),t=La(),e!==null&&(tp(e,1,t),Ja(e,t))}function kr(e,t,n){if(e.tag===3)R2(e,e,n);else for(;t!==null;){if(t.tag===3){R2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(il===null||!il.has(r))){e=Ou(n,e),e=PT(t,e,1),t=al(t,e,1),e=La(),t!==null&&(tp(t,1,e),Ja(t,e));break}}t=t.return}}function VB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=La(),e.pingedLanes|=e.suspendedLanes&n,ta===e&&(da&n)===n&&(qr===4||qr===3&&(da&130023424)===da&&500>Er()-o1?Jl(e,0):i1|=n),Ja(e,t)}function QT(e,t){t===0&&(e.mode&1?(t=em,em<<=1,!(em&130023424)&&(em=4194304)):t=1);var n=La();e=fs(e,t),e!==null&&(tp(e,t,n),Ja(e,n))}function qB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),QT(e,n)}function WB(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(t),QT(e,n)}var ZT;ZT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qa.current)Ga=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ga=!1,OB(e,t,n);Ga=!!(e.flags&131072)}else Ga=!1,or&&t.flags&1048576&&tT(t,Nh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Km(e,t),e=t.pendingProps;var a=Eu(t,Sa.current);wu(t,n),a=Jw(null,t,r,e,a,n);var i=e1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Za(r)?(i=!0,kh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Yw(t),a.updater=e0,t.stateNode=a,a._reactInternals=t,Db(t,r,e,n),t=Lb(null,t,r,!0,i,n)):(t.tag=0,or&&i&&Uw(t),Da(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Km(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=KB(r),e=ao(r,e),a){case 0:t=_b(null,t,r,e,n);break e;case 1:t=E2(null,t,r,e,n);break e;case 11:t=C2(null,t,r,e,n);break e;case 14:t=M2(null,t,r,ao(r.type,e),n);break e}throw Error(Ue(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ao(r,a),_b(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ao(r,a),E2(e,t,r,a,n);case 3:e:{if(IT(t),e===null)throw Error(Ue(387));r=t.pendingProps,i=t.memoizedState,a=i.element,sT(e,t),Mh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ou(Error(Ue(423)),t),t=A2(e,t,r,n,a);break e}else if(r!==a){a=Ou(Error(Ue(424)),t),t=A2(e,t,r,n,a);break e}else for(vi=rl(t.stateNode.containerInfo.firstChild),xi=t,or=!0,oo=null,n=iT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Au(),r===a){t=ps(e,t,n);break e}Da(e,t,r,n)}t=t.child}return t;case 5:return lT(t),e===null&&Pb(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,jb(r,a)?o=null:i!==null&&jb(r,i)&&(t.flags|=32),DT(e,t),Da(e,t,o,n),t.child;case 6:return e===null&&Pb(t),null;case 13:return _T(e,t,n);case 4:return Gw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pu(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ao(r,a),C2(e,t,r,a,n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:return Da(e,t,t.pendingProps.children,n),t.child;case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,qn(jh,r._currentValue),r._currentValue=o,i!==null)if(ho(i.value,o)){if(i.children===a.children&&!Qa.current){t=ps(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=is(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tb(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ue(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Tb(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Da(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,wu(t,n),a=Ki(a),r=r(a),t.flags|=1,Da(e,t,r,n),t.child;case 14:return r=t.type,a=ao(r,t.pendingProps),a=ao(r.type,a),M2(e,t,r,a,n);case 15:return TT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ao(r,a),Km(e,t),t.tag=1,Za(r)?(e=!0,kh(t)):e=!1,wu(t,n),ET(t,r,a),Db(t,r,a,n),Lb(null,t,r,!0,e,n);case 19:return LT(e,t,n);case 22:return OT(e,t,n)}throw Error(Ue(156,t.tag))};function JT(e,t){return jP(e,t)}function HB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(e,t,n,r){return new HB(e,t,n,r)}function u1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KB(e){if(typeof e=="function")return u1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Aw)return 11;if(e===Pw)return 14}return 2}function sl(e,t){var n=e.alternate;return n===null?(n=Vi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xm(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")u1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case eu:return ec(n.children,a,i,t);case Ew:o=8,a|=8;break;case rb:return e=Vi(12,n,t,a|2),e.elementType=rb,e.lanes=i,e;case ab:return e=Vi(13,n,t,a),e.elementType=ab,e.lanes=i,e;case ib:return e=Vi(19,n,t,a),e.elementType=ib,e.lanes=i,e;case lP:return r0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oP:o=10;break e;case sP:o=9;break e;case Aw:o=11;break e;case Pw:o=14;break e;case zs:o=16,r=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Vi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function ec(e,t,n,r){return e=Vi(7,e,r,t),e.lanes=n,e}function r0(e,t,n,r){return e=Vi(22,e,r,t),e.elementType=lP,e.lanes=n,e.stateNode={isHidden:!1},e}function Zy(e,t,n){return e=Vi(6,e,null,t),e.lanes=n,e}function Jy(e,t,n){return t=Vi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YB(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dy(0),this.expirationTimes=Dy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dy(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function d1(e,t,n,r,a,i,o,s,l){return e=new YB(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yw(i),e}function GB(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function eO(e){if(!e)return fl;e=e._reactInternals;e:{if(Nc(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Za(n))return JP(e,n,t)}return t}function tO(e,t,n,r,a,i,o,s,l){return e=d1(n,r,!0,e,a,i,o,s,l),e.context=eO(null),n=e.current,r=La(),a=ol(n),i=is(r,a),i.callback=t??null,al(n,i,a),e.current.lanes=a,tp(e,a,r),Ja(e,r),e}function a0(e,t,n,r){var a=t.current,i=La(),o=ol(a);return n=eO(n),t.context===null?t.context=n:t.pendingContext=n,t=is(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=al(a,t,o),e!==null&&(fo(e,a,o,i),qm(e,a,o)),o}function _h(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function f1(e,t){$2(e,t),(e=e.alternate)&&$2(e,t)}function XB(){return null}var nO=typeof reportError=="function"?reportError:function(e){console.error(e)};function p1(e){this._internalRoot=e}i0.prototype.render=p1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));a0(e,t,null,null)};i0.prototype.unmount=p1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dc(function(){a0(null,e,null,null)}),t[ds]=null}};function i0(e){this._internalRoot=e}i0.prototype.unstable_scheduleHydration=function(e){if(e){var t=OP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ks.length&&t!==0&&t<Ks[n].priority;n++);Ks.splice(n,0,e),n===0&&IP(e)}};function m1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B2(){}function QB(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=_h(o);i.call(c)}}var o=tO(t,r,e,0,null,!1,!1,"",B2);return e._reactRootContainer=o,e[ds]=o.current,yf(e.nodeType===8?e.parentNode:e),dc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var c=_h(l);s.call(c)}}var l=d1(e,0,!1,null,null,!1,!1,"",B2);return e._reactRootContainer=l,e[ds]=l.current,yf(e.nodeType===8?e.parentNode:e),dc(function(){a0(t,l,n,r)}),l}function s0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=_h(o);s.call(l)}}a0(t,o,e,a)}else o=QB(n,t,e,a,r);return _h(o)}PP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$d(t.pendingLanes);n!==0&&(Dw(t,n|1),Ja(t,Er()),!(bn&6)&&(Du=Er()+500,bl()))}break;case 13:dc(function(){var r=fs(e,1);if(r!==null){var a=La();fo(r,e,1,a)}}),f1(e,1)}};Iw=function(e){if(e.tag===13){var t=fs(e,134217728);if(t!==null){var n=La();fo(t,e,134217728,n)}f1(e,134217728)}};TP=function(e){if(e.tag===13){var t=ol(e),n=fs(e,t);if(n!==null){var r=La();fo(n,e,t,r)}f1(e,t)}};OP=function(){return On};DP=function(e,t){var n=On;try{return On=e,t()}finally{On=n}};hb=function(e,t,n){switch(t){case"input":if(lb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Qg(r);if(!a)throw Error(Ue(90));uP(r),lb(r,a)}}}break;case"textarea":fP(e,n);break;case"select":t=n.value,t!=null&&yu(e,!!n.multiple,t,!1)}};bP=s1;xP=dc;var ZB={usingClientEntryPoint:!1,Events:[rp,au,Qg,yP,vP,s1]},kd={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JB={bundleType:kd.bundleType,version:kd.version,rendererPackageName:kd.rendererPackageName,rendererConfig:kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=SP(e),e===null?null:e.stateNode},findFiberByHostInstance:kd.findFiberByHostInstance||XB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{Kg=dm.inject(JB),Fo=dm}catch{}}Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZB;Ci.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m1(t))throw Error(Ue(200));return GB(e,t,null,n)};Ci.createRoot=function(e,t){if(!m1(e))throw Error(Ue(299));var n=!1,r="",a=nO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=d1(e,1,!1,null,null,n,!1,r,a),e[ds]=t.current,yf(e.nodeType===8?e.parentNode:e),new p1(t)};Ci.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=SP(t),e=e===null?null:e.stateNode,e};Ci.flushSync=function(e){return dc(e)};Ci.hydrate=function(e,t,n){if(!o0(t))throw Error(Ue(200));return s0(null,e,t,!0,n)};Ci.hydrateRoot=function(e,t,n){if(!m1(e))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=nO;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=tO(t,null,e,1,n??null,a,!1,i,o),e[ds]=t.current,yf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new i0(t)};Ci.render=function(e,t,n){if(!o0(t))throw Error(Ue(200));return s0(null,e,t,!1,n)};Ci.unmountComponentAtNode=function(e){if(!o0(e))throw Error(Ue(40));return e._reactRootContainer?(dc(function(){s0(null,null,e,!1,function(){e._reactRootContainer=null,e[ds]=null})}),!0):!1};Ci.unstable_batchedUpdates=s1;Ci.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!o0(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return s0(e,t,n,!1,r)};Ci.version="18.3.1-next-f1338f8080-20240426";function rO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rO)}catch(e){console.error(e)}}rO(),nP.exports=Ci;var Qu=nP.exports,U2=Qu;tb.createRoot=U2.createRoot,tb.hydrateRoot=U2.hydrateRoot;const eU=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),aO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],iO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],tU=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],oO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],nU=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],rU=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],aU=new Set([10244]),iU=(e,t)=>{var n;if(aU.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return rU.some(i=>a.includes(i))},oU=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},fm=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},sO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,lO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},mi=(e,t=2)=>Number.isFinite(e)?sO()&&Math.abs(e)>=1e4?lO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Bs=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return sO()&&t>=1e4?lO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var sU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},c)=>v.createElement("svg",{ref:c,...sU,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${lU(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},cO=Yt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),cU=Yt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),h1=Yt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),uO=Yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),uU=Yt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),dU=Yt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),dO=Yt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Kb=Yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),fU=Yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),go=Yt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),pU=Yt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),mU=Yt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),hU=Yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),gU=Yt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Cf=Yt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),yU=Yt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),g1=Yt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),vU=Yt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),fO=Yt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),bU=Yt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),y1=Yt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),xU=Yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),v1=Yt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),wU=Yt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),b1=Yt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ri=Yt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),z2=Yt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),kU=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),SU=Yt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),NU=Yt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),pO=Yt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Iu=Yt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),l0=Yt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),c0=Yt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Lh=Yt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),jU=Yt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Zs=Yt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),tc=Yt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),CU=Yt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Nr=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),MU=Yt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),mO=Yt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ua=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mf=Yt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),x1=({className:e})=>u.jsx(kU,{className:e,strokeWidth:3.2}),ip=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},w1=({className:e=""})=>{const t=ip("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},k1=({className:e=""})=>{const t=ip("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},S1=({className:e=""})=>{const t=ip("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},N1=({className:e=""})=>{const t=ip("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},EU=[{id:"overview",label:"Overview",icon:tc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:tc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Zs},{id:"top-players",label:"Top Players",icon:tc},{id:"top-skills-outgoing",label:"Top Skills",icon:h1},{id:"squad-composition",label:"Classes",icon:Nr},{id:"timeline",label:"Squad vs Enemy",icon:Nr},{id:"map-distribution",label:"Map Distribution",icon:b1}]},{id:"roster",label:"Roster Intel",icon:Cf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Cf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Nr},{id:"fight-comp",label:"Fight Comp",icon:Zs}]},{id:"offense",label:"Offensive Stats",icon:Zs,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Zs},{id:"player-breakdown",label:"Player Breakdown",icon:v1},{id:"spike-damage",label:"Spike Damage",icon:Mf},{id:"conditions-outgoing",label:"Conditions",icon:l0}]},{id:"defense",label:"Defensive Stats",icon:Iu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:NU},{id:"defense-detailed",label:"Defense Detailed",icon:Iu},{id:"defense-mitigation",label:"Damage Mitigation",icon:S1},{id:"support-detailed",label:"Support Detailed",icon:x1},{id:"healing-stats",label:"Healing Stats",icon:fO},{id:"boon-output",label:"Boon Output",icon:k1}]},{id:"other",label:"Other Metrics",icon:Lh,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:g1},{id:"special-buffs",label:"Special Buffs",icon:Lh},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:N1},{id:"skill-usage",label:"Skill Usage",icon:y1},{id:"apm-stats",label:"APM Breakdown",icon:w1}]}],AU=(e,t=!0)=>{const[n,r]=v.useState(!1),[a,i]=v.useState("overview"),o=v.useRef(null),s=v.useRef(null),l=v.useRef(0),c=v.useMemo(()=>EU,[]),d=v.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const h=m==="kdr"?"overview":m,y=o.current,x=document.getElementById(h);if(y&&x){const g=y.getBoundingClientRect(),b=x.getBoundingClientRect().top-g.top+y.scrollTop,w=Math.max(0,y.scrollHeight-y.clientHeight),S=Math.min(Math.max(b-16,0),w);y.scrollTo({top:S,behavior:"smooth"}),i(h)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),i(h));r(!1)};v.useEffect(()=>{if(e)return;const m=h=>{const y=o.current;if(!y)return;const x=h.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&y.contains(x))&&h.deltaY!==0&&!(y.scrollHeight<=y.clientHeight)){if(l.current+=h.deltaY,s.current===null){const g=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,s.current=null;return}const w=b*.2;l.current=b-w,y.scrollBy({top:w,behavior:"auto"}),s.current=requestAnimationFrame(g)};s.current=requestAnimationFrame(g)}h.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),s.current!==null&&(cancelAnimationFrame(s.current),s.current=null),l.current=0}},[e]);const p=m=>{var h;const y=Math.max(0,d.findIndex(b=>b.id===a)),x=Math.min(Math.max(y+m,0),d.length-1),g=(h=d[x])==null?void 0:h.id;g&&f(g)};return v.useEffect(()=>{if(!t)return;const m=o.current;if(!m)return;let h=0;const y=()=>{var g;const b=m.getBoundingClientRect().top;let w=((g=d[0])==null?void 0:g.id)||"overview";d.forEach(S=>{const C=document.getElementById(S.id);C&&C.getBoundingClientRect().top-b<=24&&(w=S.id)}),i(S=>S===w?S:w)},x=()=>{h&&cancelAnimationFrame(h),h=requestAnimationFrame(y)};return y(),m.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{h&&cancelAnimationFrame(h),m.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:a,setActiveNavId:i,scrollContainerRef:o,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:p}},V2=["selfBuffs","groupBuffs","squadBuffs"],Ko=(e,t,n=0)=>t?e/t:n,q2=e=>e!=null&&e.classification?e.classification==="Boon":!0,hO=e=>`b${e}`,PU=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},gO=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},TU=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let p=1;t==="groupBuffs"?p=Ko(i-a,a,1):t==="squadBuffs"?p=Ko(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?Ko(d,r):Ko(d,r)*100,h=n?Ko(f,r):Ko(f,r)*100;else{const y=Ko(d,r)/(p||1),x=Ko(f,r)/(p||1);m=n?y:y*100,h=n?x:x*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},yO=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=TU(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?Ko(a,o):i},OU=(e,t,n,r,a)=>{const i=yO(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,c=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${c}%`:c},DU=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,c=new Map;s.forEach(d=>{const f=d.group??0;c.set(f,(c.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=c.get(m)||1,y=PU(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const x=n.get(f);x.profession=p,p!=="Unknown"&&(x.professions.add(p),x.professionTimeMs[p]=(x.professionTimeMs[p]||0)+y),x.activeTimeMs+=y,x.numFights+=1,x.groupSupported+=h,x.squadSupported+=l,V2.forEach(g=>{(d[g]||[]).forEach(b=>{var w,S,C,N;if(typeof(b==null?void 0:b.id)!="number")return;const M=hO(b.id),T=o[M];if(!q2(T))return;const L=(T==null?void 0:T.stacking)??!1,A=((S=(w=b.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,P=((N=(C=b.buffData)==null?void 0:C[0])==null?void 0:N.wasted)??0,{generationMs:I,wastedMs:z}=gO(g,L,A,P,i,h,l);!I&&!z||(t.has(M)||t.set(M,T||{}),x.boons[M]||(x.boons[M]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),x.boons[M][g].generationMs+=I,x.boons[M][g].wastedMs+=z)})})})}),{boonTables:Array.from(t.keys()).filter(r=>q2(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!V2.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const c=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(c.length>0){d=c[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;c.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:c,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},W2=(e,t,n,r,a,i,o={})=>{var s,l,c,d;const f=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[hO(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,y=((d=(c=f.buffData)==null?void 0:c[0])==null?void 0:d.wasted)??0;return gO(t,m,h,y,r,a,i)},IU={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},_U={methods:IU},LU=_U,j1="count",FU=e=>(e||0)/1e3,RU=(e,t)=>{var n;if(!e)return 0;const r=(n=LU.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},vO=(e,t,n)=>n==="duration"?FU(t):n==="tiered"?RU(e,t):e;function $U(e,t=j1){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return vO(a,i,t)}function BU(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,c=W2(s,"selfBuffs",1122,n,l,i,r),d=W2(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function UU(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function zU(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function VU(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const H2=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},K2=(e,t=j1)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return vO(a,i,t)},Y2=e=>UU(e),G2=e=>VU(e),X2=e=>zU(e),Q2=(e,t=j1)=>$U(e,t),qU=(e,t)=>BU(e,t),WU="count",bO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Yb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},HU={uploading:!1,message:null,url:null,buildStatus:"idle"},Z2=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),xO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},pm=e=>{if(e)return xO[e]},Ef=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=Z2.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=Z2.get(a);if(i)return i}return null},Xc=e=>Ef(e),wO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Ef(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(xO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Qm=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=Ef(a);if(i)return i}return e?Ef(e):null},KU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},YU=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},GU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},XU=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||KU,o=wO(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(y=>{y&&y.forEach(x=>{if(!x.id)return;let g=`Skill ${x.id}`,b;r&&(r[`s${x.id}`]?(g=r[`s${x.id}`].name||g,b=r[`s${x.id}`].icon||b):r[`${x.id}`]&&(g=r[`${x.id}`].name||g,b=r[`${x.id}`].icon||b));const w=Qm(g,x.id,a);if(!w)return;const S=a==null?void 0:a[`b${x.id}`],C=S==null?void 0:S.name,N=o.get(w)||(S==null?void 0:S.icon),M=g.startsWith("Skill ")?C||w:g,T=b||(S==null?void 0:S.icon),L=Number(x.connectedHits??0),A=Number(x.hits??0),P=L>0?L:A,I=Number(x.totalDamage??0);if(!Number.isFinite(P)&&!Number.isFinite(I))return;const z=l[w]||{name:w,icon:N,applications:0,damage:0};z.applications+=Number.isFinite(P)?P:0,z.damage+=Number.isFinite(I)?I:0,!z.icon&&N&&(z.icon=N),l[w]=z;const G=s[h][w]||{icon:N,applications:0,damage:0,skills:{}};G.applications+=Number.isFinite(P)?P:0,G.damage+=Number.isFinite(I)?I:0;const J=G.skills[M]||{name:M,hits:0,damage:0,icon:T};J.hits+=Number.isFinite(P)?P:0,J.damage+=Number.isFinite(I)?I:0,!J.icon&&T&&(J.icon=T),G.skills[M]=J,!G.icon&&N&&(G.icon=N),s[h][w]=G})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&c.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const y=Number(h==null?void 0:h.id);if(!Number.isFinite(y))return;const x=a==null?void 0:a[`b${y}`],g=Ef(x==null?void 0:x.name);if(!g||x!=null&&x.classification&&x.classification!=="Condition")return;const b=g;if(!b)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,C])=>{var N;const M=c.get(S);if(!M)return;f+=1;const T=YU(C),L=GU(C);d+=T;const A=((N=s[M])==null?void 0:N[b])||{applications:0,damage:0,skills:{}};A.applicationsFromBuffs=(A.applicationsFromBuffs||0)+T,A.applicationsFromBuffsActive=(A.applicationsFromBuffsActive||0)+L,s[M]=s[M]||{},s[M][b]=A;const P=l[b]||{name:b,applications:0,damage:0};P.applicationsFromBuffs=(P.applicationsFromBuffs||0)+T,P.applicationsFromBuffsActive=(P.applicationsFromBuffsActive||0)+L,l[b]=P})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Af={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},QU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function nc(e){return Af[e]||Af.Unknown}function ZU(e){return e?QU[e]||e:"Unknown"}function Kl(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Af[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=ZU(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const JU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Ta=(e,t)=>JU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Zm=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.filter(f=>f.details&&f.details.players&&f.details.players.length>0),o=r||Yb,s=n||bO,l=f=>{if(!f||typeof f!="object")return f;const p=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!p||p.length===0)return f;const m=w=>Array.isArray(w)&&w.some(S=>S&&Number(S.count)>0),h=new Map,y=new Map;e.forEach(w=>{var S;const C=(w==null?void 0:w.filePath)||(w==null?void 0:w.id);C&&h.set(String(C),w);const N=(w==null?void 0:w.permalink)||((S=w==null?void 0:w.details)==null?void 0:S.permalink);typeof N=="string"&&N.trim()&&y.set(N.trim(),w)});const x=p.map(w=>{var S;if(!w||typeof w!="object")return w;const C=w.id?String(w.id):"",N=typeof w.permalink=="string"?w.permalink.trim():"",M=(C?h.get(C):void 0)||(N?y.get(N):void 0);if(!M)return w;let T=w;if(Number(w.timestamp)<=0){const A=Ta(M==null?void 0:M.details,M);A&&(T={...T,timestamp:A})}const L=(S=M==null?void 0:M.details)==null?void 0:S.teamBreakdown;return m(L)&&(T={...T,teamBreakdown:L}),T}),g=Array.isArray(f.fightDiffMode)?f.fightDiffMode:[],b=g.some(w=>Array.isArray(w==null?void 0:w.targetFocus)&&w.targetFocus.some(S=>Number((S==null?void 0:S.damage)||0)>0||Number((S==null?void 0:S.hits)||0)>0))?g:x.map((w,S)=>{const C=w&&typeof w.enemyClassCounts=="object"&&w.enemyClassCounts?w.enemyClassCounts:{},N=Object.entries(C).map(([ce,$])=>({label:String(ce||"Unknown"),count:Number($||0)})).filter(ce=>ce.count>0).sort((ce,$)=>$.count-ce.count||ce.label.localeCompare($.label)),M=N.reduce((ce,$)=>ce+$.count,0),T=N.map(ce=>({label:ce.label,damage:ce.count,hits:0,share:M>0?ce.count/M:0})),L=Number((w==null?void 0:w.enemyDowns)||0),A=Number((w==null?void 0:w.enemyDeaths)||0),P=Number((w==null?void 0:w.alliesDown)||0),I=Number((w==null?void 0:w.alliesDead)||0),z=Number((w==null?void 0:w.totalOutgoingDamage)||0),G=Number((w==null?void 0:w.totalIncomingDamage)||0),J=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:w!=null&&w.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((w==null?void 0:w.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((w==null?void 0:w.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:I>0?A/I:A},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:A},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:L},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:I},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:P},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:z-G},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:z},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:G},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((w==null?void 0:w.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((w==null?void 0:w.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((w==null?void 0:w.alliesRevived)||0)}];return{id:String((w==null?void 0:w.id)||`fight-${S+1}`),shortLabel:`F${S+1}`,fullLabel:`${String((w==null?void 0:w.mapName)||(w==null?void 0:w.label)||"Unknown Map")}  ${String((w==null?void 0:w.duration)||"--:--")}`,mapName:String((w==null?void 0:w.mapName)||""),timestamp:Number((w==null?void 0:w.timestamp)||0),duration:String((w==null?void 0:w.duration)||"--:--"),isWin:!!(w!=null&&w.isWin),targetFocus:T,squadMetrics:J}});return{...f,fightBreakdown:x,fightDiffMode:b}},c=(()=>{if(t)return l(t);const f=a||WU,p=o.topSkillDamageSource||"target",m=o.topSkillsMetric||"damage",h=i.length;let y=0,x=0,g=0,b=0,w=0,S=0,C=0,N=0;const M=D=>{const q=((D==null?void 0:D.players)||[]).filter(Le=>!Le.notInSquad);let ne=0,we=0,Z=0,De=0;return q.forEach(Le=>{var st;const yt=(st=Le.defenses)==null?void 0:st[0];if(!yt)return;const ht=Number(yt.downCount||0),Bt=Number(yt.deadCount||0);ne+=ht+Bt,Z+=Bt}),q.forEach(Le=>{!Le.statsTargets||Le.statsTargets.length===0||Le.statsTargets.forEach(st=>{const yt=st==null?void 0:st[0];if(!yt)return;const ht=Number(yt.downed||0),Bt=Number(yt.killed||0);we+=ht+Bt,De+=Bt})}),{squadDownsDeaths:ne,enemyDownsDeaths:we,squadDeaths:Z,enemyDeaths:De}},T=D=>{const{squadDownsDeaths:q,enemyDownsDeaths:ne}=M(D);return q>0||ne>0?ne>q:typeof(D==null?void 0:D.success)=="boolean"?D.success:!1},L=new Map,A=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),P={},I={},z=new Map,G={},J={},ce={},$=new Map,B=new Map,re=new Set(Object.keys(Af)),k=Object.keys(Af).filter(D=>D&&D!=="Unknown").sort((D,q)=>q.length-D.length),O=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],E=D=>{if(!D)return"Unknown";const q=String(D).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(re.has(q))return q;const ne=q.toLowerCase();for(const we of k)if(ne.includes(we.toLowerCase()))return we;return O.find(we=>ne.includes(we.toLowerCase()))||q||"Unknown"},j=D=>D!=null&&D.classification?D.classification==="Boon":!0,V=new Map,Q=new Map,W=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),H=D=>{const q=Number(D);return Number.isFinite(q)?q:0},ee=D=>{const q=String(D).split("|"),ne=q[0]||"Unknown",we=E(q[1]||"Unknown"),Z=q[2]||ne||"Unknown";return{name:ne,profession:we,account:Z}},_=(D,q,ne)=>{let we=D.get(q);return we?ne.profession&&!we.professionList.includes(ne.profession)&&we.professionList.push(ne.profession):(we={account:ne.account,name:ne.name,profession:ne.profession,professionList:ne.profession?[ne.profession]:[],activeMs:0,mitigationTotals:W()},D.set(q,we)),we},te=(D,q,ne)=>{let we=D.get(q);return we?ne.profession&&!we.professionList.includes(ne.profession)&&we.professionList.push(ne.profession):(we={account:ne.account,name:ne.name,profession:ne.profession,professionList:ne.profession?[ne.profession]:[],activeMs:0,mitigationTotals:W(),minion:ne.minion},D.set(q,we)),we},ge=(D,q)=>{D.totalHits+=H((q==null?void 0:q.skill_hits)??(q==null?void 0:q.skillHits)),D.blocked+=H(q==null?void 0:q.blocked),D.evaded+=H(q==null?void 0:q.evaded),D.glanced+=H(q==null?void 0:q.glanced),D.missed+=H(q==null?void 0:q.missed),D.invulned+=H(q==null?void 0:q.invulned),D.interrupted+=H(q==null?void 0:q.interrupted),D.totalMitigation+=H((q==null?void 0:q.avoided_damage)??(q==null?void 0:q.avoidedDamage)),D.minMitigation+=H((q==null?void 0:q.min_avoided_damage)??(q==null?void 0:q.minAvoidedDamage))},R=D=>Object.values(D).some(q=>q>0),ae=(D,q,ne)=>{var we,Z,De,Le;const st=`s${D}`;if((we=q==null?void 0:q[st])!=null&&we.name)return q[st].name;if((Z=q==null?void 0:q[String(D)])!=null&&Z.name)return q[String(D)].name;const yt=`b${D}`;return(De=ne==null?void 0:ne[yt])!=null&&De.name?ne[yt].name:(Le=ne==null?void 0:ne[String(D)])!=null&&Le.name?ne[String(D)].name:`Unknown Skill ${D}`},K=new Map,F=D=>{const q=K.get(D);if(!q)return{hasSkill:!1,avg:1,min:1,hits:0};const ne=q.connectedHits||0,we=ne>0?q.totalDamage/ne:0,Z=q.minCount>0?q.minTotal/q.minCount:0;return{hasSkill:!0,avg:we,min:Z,hits:ne}},ie="Ashtonlightstone.9145",be="Illusionary Warden",et=[],ue=[],We=[],$e=[],gt=new Map,Gt=new Map,Sn=(D,q,ne)=>{const we=D.get(q)||W();return we.totalHits+=ne.totalHits,we.blocked+=ne.blocked,we.evaded+=ne.evaded,we.glanced+=ne.glanced,we.missed+=ne.missed,we.invulned+=ne.invulned,we.interrupted+=ne.interrupted,D.set(q,we),we};i.forEach(D=>{const q=D.details;q&&(q.targets||[]).forEach(ne=>{const we=(ne==null?void 0:ne.totalDamageDist)||[],Z=Array.isArray(we)?we[0]:null;Z==null||Z.forEach(De=>{if(!(De!=null&&De.id))return;const Le=Number(De.id),st=K.get(Le)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};st.totalDamage+=Number(De.totalDamage||0),st.connectedHits+=Number(De.connectedHits||0);const yt=Number.isFinite(Number(De.min))?Number(De.min):0;st.minTotal+=yt,st.minCount+=1,K.set(Le,st)})})}),i.forEach((D,q)=>{var ne,we;const Z=D.details;if(!Z)return;const De=Z.players,Le=Z.targets||[],st=Z.skillMap||{},yt=Z.buffMap||{},ht=new Map,Bt=new Map;Le.forEach(U=>{const se=(U==null?void 0:U.totalDamageDist)||[],je=Array.isArray(se)?se[0]:null;je==null||je.forEach(Ce=>{var ve;if(!(Ce!=null&&Ce.id))return;const Re=Number(Ce.id),Ze=((ve=st==null?void 0:st[Re])==null?void 0:ve.name)||Ce.name||Ce.skillName||String(Re),Ye=ht.get(Re)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Ye.totalDamage+=Number(Ce.totalDamage||0),Ye.connectedHits+=Number(Ce.connectedHits||0);const Ut=Number.isFinite(Number(Ce.min))?Number(Ce.min):0;Ye.minTotal+=Ut,Ye.minCount+=1,ht.set(Re,Ye);const Kt=Bt.get(Ze)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Kt.totalDamage+=Number(Ce.totalDamage||0),Kt.connectedHits+=Number(Ce.connectedHits||0);const Vt=Number.isFinite(Number(Ce.min))?Number(Ce.min):0;Kt.minTotal+=Vt,Kt.minCount+=1,Bt.set(Ze,Kt)})});const hn=U=>{const se=ht.get(U);if(!se||se.connectedHits<=0)return{avg:1,min:1};const je=se.connectedHits>0?se.totalDamage/se.connectedHits:0,Ce=se.minCount>0?se.minTotal/se.minCount:je;return{avg:je||1,min:Ce||1}},un=U=>{const se=Bt.get(U);if(!se||se.connectedHits<=0)return{avg:1,min:1};const je=se.connectedHits>0?se.totalDamage/se.connectedHits:0,Ce=se.minCount>0?se.minTotal/se.minCount:je;return{avg:je||1,min:Ce||1}},Je=Z.combatReplayMetaData||{},He=(Je==null?void 0:Je.inchToPixel)>0?Je.inchToPixel:1,ot=(Je==null?void 0:Je.pollingRate)>0?Je.pollingRate:1,Et=5e3,Wt=U=>Array.isArray(U)?U.map(se=>Array.isArray(se)?[Number(se[0]),Number(se[1])]:null).filter(se=>!!se&&Number.isFinite(se[0])):[];let pe=[],Ne=Z.durationMS||0,ke=!1;const Be=De.find(U=>(U==null?void 0:U.hasCommanderTag)&&!(U!=null&&U.notInSquad));(ne=Be==null?void 0:Be.combatReplayData)!=null&&ne.positions&&(pe=Be.combatReplayData.positions,Wt(Be.combatReplayData.dead).forEach(([U])=>{U>0&&(ke=!0,Ne=Math.min(Ne,U))}));const me=U=>{var se;const je=(se=U.statsAll)==null?void 0:se[0];if((je==null?void 0:je.distToCom)!==void 0&&(je==null?void 0:je.distToCom)!=="Infinity")return Math.round(Number(je.distToCom));if((je==null?void 0:je.stackDist)!==void 0)return Math.round(Number(je.stackDist))||0;if(U.hasCommanderTag)return 0;const Ce=U.combatReplayData;if(!(Ce!=null&&Ce.positions)||!pe.length)return 0;const ve=Ce.positions,Re=Wt(Ce.dead),Ze=Wt(Ce.down),Ye=Math.floor((Ce.start||0)/ot);let Ut=0;if(Re.length&&Ze.length)for(const[Kt]of Re){if(Kt<0)continue;const Vt=Math.max(0,Math.floor(Kt/ot))-Ye;for(const[lt,Xt]of Ze){if(Kt!==Xt)continue;const ct=ke&&lt>Ne?Math.max(1,Math.floor(Ne/ot)):Vt,an=Math.max(0,Math.min(ct,ve.length,pe.length));if(an<=0)continue;let Ft=0;for(let Ct=0;Ct<an;Ct++){const[Pe,xe]=ve[Ct],[xt,Mt]=pe[Ct];Ft+=Math.hypot(Pe-xt,xe-Mt)}Ut=Math.round(Ft/an/He)}}return Ut},Ie=De.filter(U=>!U.notInSquad);g+=Ie.length,b+=Le.filter(U=>!U.isFake).length,qU(De,{durationMS:Z.durationMS,buffMap:Z.buffMap});const{squadDeaths:Ee,enemyDeaths:vt}=M(Z);w+=Ee,S+=vt,N+=Ee,C+=vt,T(Z)?y++:x++;const nt=Z.skillMap?Number((we=Object.keys(Z.skillMap).find(U=>{var se,je;return((je=(se=Z.skillMap)==null?void 0:se[U])==null?void 0:je.name)==="Battle Standard"}))==null?void 0:we.replace(/^s/,"")):null;De.forEach((U,se)=>{var je,Ce,ve,Re,Ze,Ye,Ut,Kt,Vt,lt,Xt,ct,an;if(U.notInSquad)return;const Ft=U.account||"Unknown",Ct=Ft!=="Unknown"?Ft:U.name||"Unknown",Pe=U.name||"Unknown";L.has(Ct)||L.set(Ct,{name:Pe,account:Ct,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:U.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const xe=L.get(Ct);if(U.hasCommanderTag&&(xe.isCommander=!0),Pe!=="Unknown"&&xe.characterNames.add(String(Pe)),U.profession&&U.profession!=="Unknown"){xe.profession=U.profession,xe.professions.add(U.profession);const Te=Array.isArray(U.activeTimes)&&typeof U.activeTimes[0]=="number"?U.activeTimes[0]:Z.durationMS||0;xe.professionTimeMs[U.profession]=(xe.professionTimeMs[U.profession]||0)+Te}xe.logsJoined++,xe.downContrib+=Y2(U),xe.cleanses+=H2(U),xe.strips+=K2(U,f),xe.healing+=G2(U),xe.barrier+=X2(U),xe.cc+=Q2(U,f),xe.stab+=U.stabGeneration||0;const xt=me(U);xt<=Et&&(xe.totalDist+=xt,xe.distCount++),(je=U.defenses)!=null&&je[0]&&(xe.dodges+=U.defenses[0].dodgeCount||0,xe.downs+=U.defenses[0].downCount||0,xe.deaths+=U.defenses[0].deadCount||0),Z.durationMS&&(xe.totalFightMs+=Z.durationMS);const Mt=Array.isArray(U.activeTimes)&&typeof U.activeTimes[0]=="number"?U.activeTimes[0]:Z.durationMS||0;xe.squadActiveMs+=Mt;const Ht=Ta(Z,D),wn=Number((Z==null?void 0:Z.durationMS)||0);Ht>0&&((xe.firstSeenFightTs<=0||Ht<xe.firstSeenFightTs)&&(xe.firstSeenFightTs=Ht),xe.lastSeenFightTs<=0||Ht>xe.lastSeenFightTs?(xe.lastSeenFightTs=Ht,xe.lastSeenFightDurationMs=wn):Ht===xe.lastSeenFightTs&&wn>xe.lastSeenFightDurationMs&&(xe.lastSeenFightDurationMs=wn)),xe.defenseActiveMs+=Mt,xe.supportActiveMs+=Mt,xe.healingActiveMs+=Mt,Array.isArray(U.buffUptimes)&&U.buffUptimes.length>0&&U.buffUptimes.forEach(Te=>{var Xe,ut,At,Nn,Kn,Mn;if(typeof(Te==null?void 0:Te.id)!="number")return;const vr=`b${Te.id}`,tn=((Xe=Z.buffMap)==null?void 0:Xe[vr])||((ut=Z.buffMap)==null?void 0:ut[String(Te.id)]);if(!tn||j(tn))return;const _n=Number(((Nn=(At=Te.buffData)==null?void 0:At[0])==null?void 0:Nn.uptime)??0),Ti=Number(((Mn=(Kn=Te.buffData)==null?void 0:Kn[0])==null?void 0:Mn.presence)??0);if((!Number.isFinite(_n)||_n<=0)&&(!Number.isFinite(Ti)||Ti<=0))return;const Ds=(tn==null?void 0:tn.stacking)??!1,Fc=(Ds?Number.isFinite(_n)?_n:0:Number.isFinite(_n)?_n/100:0)*Mt,di=Ds?Ti:_n,dd=Math.min(Math.max(Number.isFinite(di)?di:0,0),100)/100*Mt,Ml=Number.isFinite(Fc)&&Fc>0,Rc=Number.isFinite(dd)&&dd>0;if(!Ml&&!Rc)return;const Va=Xc(tn==null?void 0:tn.name);if(Va&&eU.has(Va)&&(!(tn!=null&&tn.classification)||tn.classification==="Condition")){const $c=Fc/1e3,Wa=tn==null?void 0:tn.icon,El=G[Va]||{name:Va,icon:Wa,applications:0,damage:0};El.applicationsFromUptime=(El.applicationsFromUptime||0)+$c,!El.icon&&Wa&&(El.icon=Wa),G[Va]=El;const Ea=xe.outgoingConditions[Va]||{applications:0,damage:0,skills:{},icon:Wa};Ea.applicationsFromUptime=(Ea.applicationsFromUptime||0)+$c,!Ea.icon&&Wa&&(Ea.icon=Wa),xe.outgoingConditions[Va]=Ea;const Di=J[Va]||{name:Va,icon:Wa,applications:0,damage:0};Di.applicationsFromUptime=(Di.applicationsFromUptime||0)+$c,!Di.icon&&Wa&&(Di.icon=Wa),J[Va]=Di;const Al=xe.incomingConditions[Va]||{applications:0,damage:0,skills:{},icon:Wa};Al.applicationsFromUptime=(Al.applicationsFromUptime||0)+$c,!Al.icon&&Wa&&(Al.icon=Wa),xe.incomingConditions[Va]=Al}$.has(vr)||$.set(vr,{name:tn==null?void 0:tn.name,stacking:Ds,icon:tn==null?void 0:tn.icon}),B.has(vr)||B.set(vr,new Map);const qp=B.get(vr),qa=xe.account||U.account||U.name||"Unknown";let Oi=qp.get(qa);Oi||(Oi={account:qa,profession:xe.profession||U.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},qp.set(qa,Oi));const Ji=U.profession||xe.profession;Ji&&Ji!=="Unknown"&&(Oi.professions.add(Ji),Oi.professionTimeMs[Ji]=(Oi.professionTimeMs[Ji]||0)+Mt,Oi.profession=Ji),Oi.totalMs+=Ml?Fc:0,Oi.uptimeMs+=Rc?dd:0,Oi.durationMs+=Mt}),(Ce=U.defenses)!=null&&Ce[0]&&iO.forEach(Te=>{const Xe=Number(U.defenses[0][Te.field]??0);Number.isFinite(Xe)&&(xe.defenseTotals[Te.id]=(xe.defenseTotals[Te.id]||0)+Xe)}),(ve=U.support)!=null&&ve[0]&&oO.forEach(Te=>{let Xe=Number(U.support[0][Te.field]??0);Number.isFinite(Xe)&&(A.has(Te.field)&&Xe>999999&&(Xe=0),xe.supportTotals[Te.id]=(xe.supportTotals[Te.id]||0)+Xe)});const Ur=(Te,Xe)=>{Number.isFinite(Xe)&&(xe.healingTotals[Te]=(xe.healingTotals[Te]||0)+Xe)},aa=(Te,Xe)=>Array.isArray(Te)?Te.reduce((ut,At)=>ut+Number((At==null?void 0:At[Xe])??0),0):0,Xr=(Te,Xe,ut)=>{if(!Number.isFinite(ut)||ut<=0)return;const At=De[Xe],Nn=Xe===se,Kn=At==null?void 0:At.notInSquad,Mn=!Kn,vr=Mn&&(At==null?void 0:At.group)!=null&&At.group===U.group;Ur(Te,ut),Mn&&Ur(`squad${Te[0].toUpperCase()}${Te.slice(1)}`,ut),vr&&Ur(`group${Te[0].toUpperCase()}${Te.slice(1)}`,ut),Nn&&Ur(`self${Te[0].toUpperCase()}${Te.slice(1)}`,ut),Kn&&Ur(`offSquad${Te[0].toUpperCase()}${Te.slice(1)}`,ut)};if(Array.isArray(U.rotation)){let Te=0;U.rotation.forEach(Xe=>{var ut;if(!(Xe!=null&&Xe.id)||!iU(Xe.id,Z.skillMap))return;const At=((ut=Xe.skills)==null?void 0:ut.length)||0;At>0&&(Te+=At,Ur(`resUtility_s${Xe.id}`,At))}),Te>0&&Ur("resUtility",Te)}const Pi=(Re=U.extHealingStats)==null?void 0:Re.outgoingHealingAllies;Array.isArray(Pi)&&Pi.forEach((Te,Xe)=>{const ut=aa(Te,"healing"),At=aa(Te,"downedHealing");Xr("healing",Xe,ut),Xr("downedHealing",Xe,At)});const Lc=(Ze=U.extBarrierStats)==null?void 0:Ze.outgoingBarrierAllies;Array.isArray(Lc)&&Lc.forEach((Te,Xe)=>{const ut=aa(Te,"barrier");Xr("barrier",Xe,ut)});const Ps=(Ye=U.statsAll)==null?void 0:Ye[0],jo=(Ut=U.dpsAll)==null?void 0:Ut[0],Vp=(Kt=U.support)==null?void 0:Kt[0];if(aO.forEach(Te=>{if(Te.id==="downContributionPercent"||!Te.field)return;let Xe=0,ut=0;Te.source==="dpsAll"&&jo?Xe=Number(jo[Te.field]??0):Te.source==="statsAll"&&Ps?(Xe=Number(Ps[Te.field]??0),ut=Number(Ps[Te.denomField||Te.weightField||"connectedDamageCount"]??0)):Te.source==="support"&&Vp?Xe=Number(Vp[Te.field]??0):U.statsTargets&&U.statsTargets.forEach(At=>{At!=null&&At[0]&&(Xe+=Number(At[0][Te.field]??0),ut+=Number(At[0][Te.denomField||Te.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Xe)&&(xe.offenseTotals[Te.id]=(xe.offenseTotals[Te.id]||0)+Xe,Te.isRate&&ut>0&&(xe.offenseRateWeights[Te.id]=(xe.offenseRateWeights[Te.id]||0)+ut))}),U.targetDamageDist&&Number.isFinite(nt)){const Te=U.targetDamageDist.flatMap(Xe=>Xe||[]).flatMap(Xe=>Xe||[]).reduce((Xe,ut)=>ut!=null&&ut.id&&ut.id===nt?Xe+((ut==null?void 0:ut.connectedHits)||0):Xe,0);xe.offenseTotals.battleStandardHits=(xe.offenseTotals.battleStandardHits||0)+Te}xe.revives+=((lt=(Vt=U.support)==null?void 0:Vt[0])==null?void 0:lt.resurrects)||0,jo&&(xe.damage+=jo.damage||0,xe.dps+=jo.dps||0);const Co=Te=>{var Xe,ut,At,Nn;let Kn=`Skill ${Te.id}`;const Mn=((Xe=Z.skillMap)==null?void 0:Xe[`s${Te.id}`])||((ut=Z.skillMap)==null?void 0:ut[`${Te.id}`]);let vr=Mn==null?void 0:Mn.icon;if(Mn!=null&&Mn.name&&(Kn=Mn.name),Kn.startsWith("Skill ")){const tn=Qm(Kn,Te.id,Z.buffMap);tn&&(Kn=tn,vr=((Nn=(At=Z.buffMap)==null?void 0:At[`b${Te.id}`])==null?void 0:Nn.icon)||vr)}return{name:Kn,icon:vr}},Ts=Te=>{if(!(Te!=null&&Te.id))return;const{name:Xe,icon:ut}=Co(Te);P[Te.id]||(P[Te.id]={name:Xe,icon:ut,damage:0,hits:0,downContribution:0}),P[Te.id].name.startsWith("Skill ")&&!Xe.startsWith("Skill ")&&(P[Te.id].name=Xe),!P[Te.id].icon&&ut&&(P[Te.id].icon=ut),P[Te.id].damage+=Te.totalDamage,P[Te.id].hits+=Te.connectedHits,P[Te.id].downContribution+=Number(Te.downContribution||0)},ud=U.account||U.name||"Unknown",Os=U.profession||"Unknown",li=`${ud}|${Os}`;let ci=z.get(li);ci||(ci={key:li,account:ud,displayName:ud,profession:Os,professionList:[Os],totalFightMs:0,skills:new Map},z.set(li,ci)),ci.professionList.includes(Os)||ci.professionList.push(Os),ci.totalFightMs+=Z.durationMS||0;const ui=Te=>{if(!(Te!=null&&Te.id))return;const{name:Xe,icon:ut}=Co(Te),At=`s${Te.id}`;let Nn=ci.skills.get(At);Nn||(Nn={id:At,name:Xe,icon:ut,damage:0,downContribution:0},ci.skills.set(At,Nn)),Nn.name.startsWith("Skill ")&&!Xe.startsWith("Skill ")&&(Nn.name=Xe),!Nn.icon&&ut&&(Nn.icon=ut),Nn.damage+=Number(Te.totalDamage||0),Nn.downContribution+=Number(Te.downContribution||0)};if(p==="total")(Xt=U.totalDamageDist)==null||Xt.forEach(Te=>{Te==null||Te.forEach(Xe=>{Ts(Xe),ui(Xe)})});else{const Te=new Map;(ct=U.targetDamageDist)==null||ct.forEach(Xe=>{Xe==null||Xe.forEach(ut=>{ut==null||ut.forEach(At=>{const Nn=Number(At==null?void 0:At.id);if(Number.isFinite(Nn)){const Kn=Te.get(Nn)||{damage:0,hits:0,downContribution:0};Kn.damage+=Number((At==null?void 0:At.totalDamage)||0),Kn.hits+=Number((At==null?void 0:At.connectedHits)||0),Kn.downContribution+=Number((At==null?void 0:At.downContribution)||0),Te.set(Nn,Kn)}Ts(At),ui(At)})})}),!(Z!=null&&Z.detailedWvW)&&((an=U.totalDamageDist)==null||an.forEach(Xe=>{Xe==null||Xe.forEach(ut=>{const At=Number(ut==null?void 0:ut.id);if(!Number.isFinite(At))return;const Nn=Te.get(At);if(!Nn){Ts(ut),ui(ut);return}const Kn=Number((ut==null?void 0:ut.totalDamage)||0),Mn=Number((ut==null?void 0:ut.connectedHits)||0),vr=Number((ut==null?void 0:ut.downContribution)||0),tn=Kn-Number(Nn.damage||0),_n=Mn-Number(Nn.hits||0),Ti=vr-Number(Nn.downContribution||0);if(tn<=0&&_n<=0&&Ti<=0)return;const Ds={...ut,totalDamage:Math.max(0,tn),connectedHits:Math.max(0,_n),downContribution:Math.max(0,Ti)};Ts(Ds),ui(Ds)})}))}U.totalDamageTaken&&U.totalDamageTaken.forEach(Te=>{Te==null||Te.forEach(Xe=>{var ut,At,Nn,Kn;if(!(Xe!=null&&Xe.id))return;let Mn=`Skill ${Xe.id}`;const vr=((ut=Z.skillMap)==null?void 0:ut[`s${Xe.id}`])||((At=Z.skillMap)==null?void 0:At[`${Xe.id}`]);let tn=vr==null?void 0:vr.icon;if(vr!=null&&vr.name&&(Mn=vr.name),Mn.startsWith("Skill ")){const _n=Qm(Mn,Xe.id,Z.buffMap);_n&&(Mn=_n,tn=((Kn=(Nn=Z.buffMap)==null?void 0:Nn[`b${Xe.id}`])==null?void 0:Kn.icon)||tn)}I[Xe.id]||(I[Xe.id]={name:Mn,icon:tn,damage:0,hits:0}),(!I[Xe.id].name.startsWith("Skill ")||Mn.startsWith("Skill "))&&(I[Xe.id].name=Mn),!I[Xe.id].icon&&tn&&(I[Xe.id].icon=tn),I[Xe.id].damage+=Xe.totalDamage,I[Xe.id].hits+=Xe.hits})})}),Le.forEach(U=>{if(U!=null&&U.isFake)return;const se=E((U==null?void 0:U.profession)||(U==null?void 0:U.name)||(U==null?void 0:U.id));se&&(ce[se]=(ce[se]||0)+1)});const at=XU({players:De,targets:Le,skillMap:Z.skillMap,buffMap:Z.buffMap,getPlayerKey:U=>U.account&&U.account!=="Unknown"?U.account:U.name||null}),qt=wO(Z.buffMap);Object.entries(at.playerConditions).forEach(([U,se])=>{const je=L.get(U);je&&Object.entries(se).forEach(([Ce,ve])=>{const Re=je.outgoingConditions[Ce]||{applications:0,damage:0,skills:{},icon:ve.icon};Re.applications+=Number(ve.applications||0),Re.damage+=Number(ve.damage||0),ve.applicationsFromBuffs&&(Re.applicationsFromBuffs=(Re.applicationsFromBuffs||0)+ve.applicationsFromBuffs),ve.applicationsFromBuffsActive&&(Re.applicationsFromBuffsActive=(Re.applicationsFromBuffsActive||0)+ve.applicationsFromBuffsActive),Object.entries(ve.skills||{}).forEach(([Ze,Ye])=>{const Ut=Re.skills[Ze]||{name:Ye.name,hits:0,damage:0,icon:Ye.icon};Ut.hits+=Number(Ye.hits||0),Ut.damage+=Number(Ye.damage||0),!Ut.icon&&Ye.icon&&(Ut.icon=Ye.icon),Re.skills[Ze]=Ut}),!Re.icon&&ve.icon&&(Re.icon=ve.icon),je.outgoingConditions[Ce]=Re})}),Object.entries(at.summary).forEach(([U,se])=>{const je=G[U]||{name:se.name||U,icon:se.icon,applications:0,damage:0};je.applications+=Number(se.applications||0),je.damage+=Number(se.damage||0),se.applicationsFromBuffs&&(je.applicationsFromBuffs=(je.applicationsFromBuffs||0)+se.applicationsFromBuffs),se.applicationsFromBuffsActive&&(je.applicationsFromBuffsActive=(je.applicationsFromBuffsActive||0)+se.applicationsFromBuffsActive),!je.icon&&se.icon&&(je.icon=se.icon),G[U]=je}),Ie.forEach(U=>{const se=U.account&&U.account!=="Unknown"?U.account:U.name||"Unknown",je=L.get(se);!je||!U.totalDamageTaken||U.totalDamageTaken.forEach(Ce=>Ce==null?void 0:Ce.forEach(ve=>{var Re,Ze,Ye,Ut,Kt,Vt;if(!(ve!=null&&ve.id))return;let lt=`Skill ${ve.id}`;const Xt=((Re=Z.skillMap)==null?void 0:Re[`s${ve.id}`])||((Ze=Z.skillMap)==null?void 0:Ze[`${ve.id}`]);Xt!=null&&Xt.name&&(lt=Xt.name);const ct=Qm(lt,ve.id,Z.buffMap);if(!ct)return;const an=(Ut=(Ye=Z.buffMap)==null?void 0:Ye[`b${ve.id}`])==null?void 0:Ut.name,Ft=qt.get(ct)||((Vt=(Kt=Z.buffMap)==null?void 0:Kt[`b${ve.id}`])==null?void 0:Vt.icon),Ct=(Xt==null?void 0:Xt.icon)||Ft;lt.startsWith("Skill ")&&(an||ct)&&(lt=an||ct);const Pe=Number(ve.hits??0),xe=Number(ve.totalDamage??0),xt=J[ct]||{name:ct,icon:Ft,applications:0,damage:0};xt.applications+=Number.isFinite(Pe)?Pe:0,xt.damage+=Number.isFinite(xe)?xe:0,!xt.icon&&Ft&&(xt.icon=Ft),J[ct]=xt;const Mt=je.incomingConditions[ct]||{applications:0,damage:0,skills:{},icon:Ft};Mt.applications+=Number.isFinite(Pe)?Pe:0,Mt.damage+=Number.isFinite(xe)?xe:0;const Ht=Mt.skills[lt]||{name:lt,hits:0,damage:0,icon:Ct};Ht.hits+=Number.isFinite(Pe)?Pe:0,Ht.damage+=Number.isFinite(xe)?xe:0,!Ht.icon&&Ct&&(Ht.icon=Ct),Mt.skills[lt]=Ht,!Mt.icon&&Ft&&(Mt.icon=Ft),je.incomingConditions[ct]=Mt}))});const xn=Z.player_damage_mitigation||Z.playerDamageMitigation,In=xn&&typeof xn=="object"&&Object.keys(xn).length>0;In&&Object.entries(xn).forEach(([U,se])=>{if(!se||typeof se!="object")return;const je=ee(U),Ce=_(V,je.account,je);Object.values(se).forEach(ve=>{H((ve==null?void 0:ve.avoided_damage)??(ve==null?void 0:ve.avoidedDamage))<=0||ge(Ce.mitigationTotals,ve)})});const nr=Z.player_minion_damage_mitigation||Z.playerMinionDamageMitigation,bt=nr&&typeof nr=="object"&&Object.keys(nr).length>0;bt&&Object.entries(nr).forEach(([U,se])=>{if(!se||typeof se!="object")return;const je=ee(U);Object.entries(se).forEach(([Ce,ve])=>{if(!ve||typeof ve!="object")return;const Re=`${je.account}::${Ce}`,Ze=te(Q,Re,{...je,minion:String(Ce||"Unknown")});Object.values(ve).forEach(Ye=>{ge(Ze.mitigationTotals,Ye)})})}),(!In||!bt)&&(In||Ie.forEach(U=>{const se=(U==null?void 0:U.totalDamageTaken)||[];if(!Array.isArray(se)||se.length===0)return;const je=U.account||U.name||"Unknown",Ce={account:je,name:U.name||je,profession:E(U.profession||"Unknown")};_(V,je,Ce);const ve=Z.skillMap||{},Re=Z.buffMap||{},Ze=Array.isArray(se)?se[0]:null;if(Ze==null||Ze.forEach(Ye=>{if(!(Ye!=null&&Ye.id))return;const Ut=H(Ye.blocked),Kt=H(Ye.evaded),Vt=H(Ye.glance??Ye.glanced),lt=H(Ye.missed),Xt=H(Ye.invulned),ct=H(Ye.interrupted),an=H(Ye.hits??Ye.connectedHits),Ft=Number(Ye.id),Ct=ae(Ft,ve,Re);if(Sn(gt,`${je}::${Ft}`,{totalHits:an,blocked:Ut,evaded:Kt,glanced:Vt,missed:lt,invulned:Xt,interrupted:ct}),je===ie){const Pe=K.get(Ft),xe=F(Ft),xt=xe.hasSkill?xe.hits>0?xe.avg:0:1,Mt=xe.hasSkill?xe.min||0:1,Ht=xe.hits>0?Vt*xt/2+(Ut+Kt+lt+Xt+ct)*xt:0,wn=xe.hits>0?Vt*Mt/2+(Ut+Kt+lt+Xt+ct)*Mt:0;We.push({logId:D.filePath||D.id||q,skillId:Ye.id,skillName:Ct,blocked:Ut,evaded:Kt,glanced:Vt,missed:lt,invulned:Xt,interrupted:ct,totalAvoids:Ut+Kt+Vt+lt+Xt+ct,avg:xt,min:Mt,enemyHits:(Pe==null?void 0:Pe.connectedHits)??0,enemyTotalDmg:(Pe==null?void 0:Pe.totalDamage)??0,avoidDmg:Ht,avoidMinDmg:wn})}}),je===ie){const Ye=(Ut,Kt)=>{let Vt=0,lt=0,Xt=0;if(!Array.isArray(Ut))return{total:Vt,minTotal:lt,hits:Xt};for(const ct of Ut){if(!(ct!=null&&ct.id))continue;const an=H(ct.blocked),Ft=H(ct.evaded),Ct=H(ct.glance??ct.glanced),Pe=H(ct.missed),xe=H(ct.invulned),xt=H(ct.interrupted),Mt=ae(Number(ct.id),st,yt),Ht=Kt(Number(ct.id),Mt);(Ht.hits??0)>0&&(Vt+=Ct*Ht.avg/2+(an+Ft+Pe+xe+xt)*Ht.avg,lt+=Ct*Ht.min/2+(an+Ft+Pe+xe+xt)*Ht.min),Xt+=H(ct.hits??ct.connectedHits)}return{total:Vt,minTotal:lt,hits:Xt}};$e.push({logId:D.filePath||D.id||q,variant:"current_global_name_taken0",...Ye(Ze,(Ut,Kt)=>{const Vt=F(Ut),lt=Vt.hasSkill?Vt.hits>0?Vt.avg:0:1,Xt=Vt.hasSkill?Vt.min||0:1;return{avg:lt,min:Xt,hits:Vt.hits}})})}}),bt||Ie.forEach(U=>{const se=(U==null?void 0:U.minions)||[];if(!Array.isArray(se)||se.length===0)return;const je=U.account||U.name||"Unknown",Ce={account:je,name:U.name||je,profession:E(U.profession||"Unknown")},ve=Z.skillMap||{},Re=Z.buffMap||{};se.forEach(Ze=>{const Ye=(Ze==null?void 0:Ze.totalDamageTakenDist)||[];if(!Array.isArray(Ye)||Ye.length===0)return;let Ut=String((Ze==null?void 0:Ze.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Ut.toUpperCase().includes("UNKNOWN")&&(Ut="Unknown");const Kt=`${je}::${Ut}`;te(Q,Kt,{...Ce,minion:Ut});const Vt=Array.isArray(Ye)?Ye[0]:null;if(Vt==null||Vt.forEach(lt=>{if(!(lt!=null&&lt.id))return;const Xt=H(lt.blocked),ct=H(lt.evaded),an=H(lt.glance??lt.glanced),Ft=H(lt.missed),Ct=H(lt.invulned),Pe=H(lt.interrupted),xe=H(lt.hits??lt.connectedHits),xt=Number(lt.id),Mt=ae(xt,ve,Re);if(Sn(Gt,`${Kt}::${xt}`,{totalHits:xe,blocked:Xt,evaded:ct,glanced:an,missed:Ft,invulned:Ct,interrupted:Pe}),je===ie&&Ut===be){const Ht=K.get(xt),wn=F(xt),Ur=wn.hasSkill?wn.hits>0?wn.avg:0:1,aa=wn.hasSkill?wn.min||0:1,Xr=wn.hits>0?an*Ur/2+(Xt+ct+Ft+Ct+Pe)*Ur:0,Pi=wn.hits>0?an*aa/2+(Xt+ct+Ft+Ct+Pe)*aa:0;et.push({logId:D.filePath||D.id||q,skillId:lt.id,skillName:Mt,blocked:Xt,evaded:ct,glanced:an,missed:Ft,invulned:Ct,interrupted:Pe,totalAvoids:Xt+ct+an+Ft+Ct+Pe,avg:Ur,min:aa,enemyHits:(Ht==null?void 0:Ht.connectedHits)??0,enemyTotalDmg:(Ht==null?void 0:Ht.totalDamage)??0,avoidDmg:Xr,avoidMinDmg:Pi})}}),je===ie&&Ut===be){const lt=(Ft,Ct)=>{let Pe=0,xe=0,xt=0;if(!Array.isArray(Ft))return{total:Pe,minTotal:xe,hits:xt};for(const Mt of Ft){if(!(Mt!=null&&Mt.id))continue;const Ht=H(Mt.blocked),wn=H(Mt.evaded),Ur=H(Mt.glance??Mt.glanced),aa=H(Mt.missed),Xr=H(Mt.invulned),Pi=H(Mt.interrupted),Lc=ae(Number(Mt.id),st,yt),{avg:Ps,min:jo}=Ct(Number(Mt.id),Lc);H(Mt.hits??Mt.connectedHits)>0&&(Pe+=Ur*Ps/2+(Ht+wn+aa+Xr+Pi)*Ps,xe+=Ur*jo/2+(Ht+wn+aa+Xr+Pi)*jo),xt+=H(Mt.hits??Mt.connectedHits)}return{total:Pe,minTotal:xe,hits:xt}},Xt=Array.isArray(Ye)?Ye[0]||[]:[],ct=Array.isArray(Ye)?Ye.flat():[],an=Array.isArray(Ze==null?void 0:Ze.totalDamageTaken)?Ze.totalDamageTaken[0]||[]:[];ue.push({logId:D.filePath||D.id||q,variant:"current_global_name_dist0",...lt(Xt,(Ft,Ct)=>{const Pe=F(Ft),xe=Pe.hasSkill?Pe.hits>0?Pe.avg:0:1,xt=Pe.hasSkill&&Pe.min||0;return{avg:xe,min:xt}})}),ue.push({logId:D.filePath||D.id||q,variant:"local_name_dist0",...lt(Xt,(Ft,Ct)=>un(Ct))}),ue.push({logId:D.filePath||D.id||q,variant:"local_id_dist0",...lt(Xt,Ft=>hn(Ft))}),ue.push({logId:D.filePath||D.id||q,variant:"global_name_alllists",...lt(ct,(Ft,Ct)=>{const Pe=F(Ft),xe=Pe.hasSkill?Pe.hits>0?Pe.avg:0:1,xt=Pe.hasSkill&&Pe.min||0;return{avg:xe,min:xt}})}),ue.push({logId:D.filePath||D.id||q,variant:"global_name_taken0",...lt(an,(Ft,Ct)=>{const Pe=F(Ft),xe=Pe.hasSkill?Pe.hits>0?Pe.avg:0:1,xt=Pe.hasSkill&&Pe.min||0;return{avg:xe,min:xt}})})}})}))}),et.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(et),ue.length>0&&console.table(ue),console.groupEnd()),We.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(We),$e.length>0&&console.table($e),console.groupEnd());const An=(D,q)=>{const ne=new Map,we=Z=>{let De=ne.get(Z);return De||(De=W(),ne.set(Z,De)),De};q.forEach((Z,De)=>{const Le=De.lastIndexOf("::"),st=Le>-1?De.slice(0,Le):De,yt=Le>-1?Number(De.slice(Le+2)):Number.NaN,ht=Number.isFinite(yt)?F(yt):{hasSkill:!1,avg:0,min:0,hits:0};if(!ht.hasSkill||ht.hits<=0)return;const Bt=ht.avg,hn=ht.min,un=Z.glanced*Bt/2+(Z.blocked+Z.evaded+Z.missed+Z.invulned+Z.interrupted)*Bt,Je=Z.glanced*hn/2+(Z.blocked+Z.evaded+Z.missed+Z.invulned+Z.interrupted)*hn;if(un<=0)return;const He=we(st);He.totalHits+=Z.totalHits,He.blocked+=Z.blocked,He.evaded+=Z.evaded,He.glanced+=Z.glanced,He.missed+=Z.missed,He.invulned+=Z.invulned,He.interrupted+=Z.interrupted,He.totalMitigation+=un,He.minMitigation+=Je}),D.forEach((Z,De)=>{const Le=ne.get(De)||W();Z.mitigationTotals.totalHits=Le.totalHits,Z.mitigationTotals.blocked=Le.blocked,Z.mitigationTotals.evaded=Le.evaded,Z.mitigationTotals.glanced=Le.glanced,Z.mitigationTotals.missed=Le.missed,Z.mitigationTotals.invulned=Le.invulned,Z.mitigationTotals.interrupted=Le.interrupted,Z.mitigationTotals.totalMitigation=Le.totalMitigation,Z.mitigationTotals.minMitigation=Le.minMitigation})};An(V,gt),An(Q,Gt);const he=h>0?Math.round(g/h):0,Fe=h>0?Math.round(b/h):0,Tt=w>0?(S/w).toFixed(2):S>0?"":"0.00",_t=C>0?(N/C).toFixed(2):N>0?"":"0.00",pn=(D,q)=>{const ne=D.filter(De=>Number.isFinite(De.value)&&(q?De.value>0:De.value>=0)).sort((De,Le)=>{const st=q?Le.value-De.value:De.value-Le.value;return st!==0?st:De.account.localeCompare(Le.account)});let we=null,Z=0;return ne.map((De,Le)=>((we===null||De.value!==we)&&(Z=Le+1,we=De.value),{rank:Z,...De}))},Cn=Array.from(L.values()).map(D=>{const q=Array.from(D.professions).filter(ne=>ne!=="Unknown");if(D.professionList=q,q.length>0){let ne=q[0],we=D.professionTimeMs[ne]||0;q.forEach(Z=>{const De=D.professionTimeMs[Z]||0;De>we&&(we=De,ne=Z)}),D.profession=ne}return{key:D.account,stat:D}}),Hn=D=>{const q=L.get(D.account);if(!q){const Z=D.professionList.length>0?D.professionList:D.profession?[D.profession]:[];return{...D,professionList:Z}}const ne=q.professionList&&q.professionList.length>0?q.professionList:Array.from(q.professions||[]).filter(Z=>Z&&Z!=="Unknown"),we=q.profession||D.profession;return{...D,profession:we,professionList:ne.length>0?ne:we?[we]:[],activeMs:q.defenseActiveMs||q.totalFightMs||D.activeMs}},ja=Array.from(V.values()).map(Hn).filter(D=>R(D.mitigationTotals)).sort((D,q)=>D.account.localeCompare(q.account)),Ei=Array.from(Q.values()).map(Hn).filter(D=>D.mitigationTotals.totalMitigation>0).sort((D,q)=>{const ne=D.account.localeCompare(q.account);return ne!==0?ne:String(D.minion||"").localeCompare(String(q.minion||""))}),pa=(D,q)=>{switch(q){case"downContrib":return D.downContrib;case"barrier":return D.barrier;case"healing":return D.healing;case"dodges":return D.dodges;case"strips":return D.strips;case"cleanses":return D.cleanses;case"cc":return D.cc;case"stability":return D.stab;case"revives":return D.revives;case"dps":return D.dps;case"damage":return D.damage;case"participation":return D.logsJoined;case"closestToTag":return!D.isCommander&&D.distCount>0?D.totalDist/D.distCount:Number.POSITIVE_INFINITY;default:return 0}},Zt=(D,q)=>pn(Cn.map(({stat:ne})=>({account:ne.account,profession:ne.profession,professionList:ne.professionList,value:pa(ne,D),count:ne.logsJoined})),q),cn={downContrib:Zt("downContrib",!0),barrier:Zt("barrier",!0),healing:Zt("healing",!0),dodges:Zt("dodges",!0),strips:Zt("strips",!0),cleanses:Zt("cleanses",!0),cc:Zt("cc",!0),stability:Zt("stability",!0),revives:Zt("revives",!0),participation:Zt("participation",!0),dps:Zt("dps",!0),damage:Zt("damage",!0),closestToTag:Zt("closestToTag",!1).filter(D=>Number.isFinite(D.value))},Cr={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},yn=D=>{const q=D==null?void 0:D[0];return{value:(q==null?void 0:q.value)??0,player:(q==null?void 0:q.account)??"-",count:(q==null?void 0:q.count)??0,profession:(q==null?void 0:q.profession)??"Unknown",professionList:(q==null?void 0:q.professionList)??[]}},Ca={maxDownContrib:yn([]),maxBarrier:yn([]),maxHealing:yn([]),maxDodges:yn([]),maxStrips:yn([]),maxCleanses:yn([]),maxCC:yn([]),maxStab:yn([]),closestToTag:yn([])},Pr={},Pc=(D,q)=>{if(q==="closestToTag")return pa(D,q);const ne=Math.max(1,(D.totalFightMs||0)/1e3);return pa(D,q)/ne};Object.values(Cr).forEach(D=>{const q=D!=="closestToTag";Pr[D]=pn(Cn.map(({stat:ne})=>({account:ne.account,profession:ne.profession,professionList:ne.professionList,value:Pc(ne,D),count:ne.logsJoined})),q)}),Ca.maxDownContrib=yn(Pr.downContrib),Ca.maxBarrier=yn(Pr.barrier),Ca.maxHealing=yn(Pr.healing),Ca.maxDodges=yn(Pr.dodges),Ca.maxStrips=yn(Pr.strips),Ca.maxCleanses=yn(Pr.cleanses),Ca.maxCC=yn(Pr.cc),Ca.maxStab=yn(Pr.stability),Ca.closestToTag=yn(Pr.closestToTag);const za={maxDownContrib:yn(cn.downContrib),maxBarrier:yn(cn.barrier),maxHealing:yn(cn.healing),maxDodges:yn(cn.dodges),maxStrips:yn(cn.strips),maxCleanses:yn(cn.cleanses),maxCC:yn(cn.cc),maxStab:yn(cn.stability),closestToTag:yn(cn.closestToTag)};let si={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Ai,Tc,Cl=0;if(o!=null&&o.showMvp){const D={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},q=De=>{const Le=D[De];return Le?Number(s[Le]||0)>0:!1},ne=[],we=De=>[...De||[]].filter(Le=>q(Le==null?void 0:Le.name)).sort((Le,st)=>st.ratio-Le.ratio||Le.rank-st.rank||Le.name.localeCompare(st.name)).slice(0,3),Z=De=>{var Le;if(!De)return;const st=we(De.contribs);return{...De,player:De.name,reason:((Le=st[0])==null?void 0:Le.name)||"Top Performance",topStats:st}};Cn.forEach(({stat:De})=>{let Le=0;const st=[],yt=(ht,Bt,hn,un,Je=!0)=>{var He,ot;if(hn<=0)return;const Et=((He=Bt[0])==null?void 0:He.value)||0;if(Et&&Number.isFinite(ht)&&(Je?ht>0:ht<Number.POSITIVE_INFINITY)){const Wt=Je?ht/Et:Et/ht;Le+=Wt*hn;const pe=((ot=Bt.find(Ne=>Ne.account===De.account))==null?void 0:ot.rank)||0;st.push({name:un,ratio:Wt,val:ht.toLocaleString(),rank:pe})}};yt(De.downContrib,cn.downContrib,s.downContribution,"Down Contribution"),yt(De.healing,cn.healing,s.healing,"Healing"),yt(De.cleanses,cn.cleanses,s.cleanses,"Cleanses"),yt(De.strips,cn.strips,s.strips,"Strips"),yt(De.stab,cn.stability,s.stability,"Stability"),yt(De.cc,cn.cc,s.cc,"CC"),yt(De.revives,cn.revives,s.revives,"Revives"),yt(pa(De,"closestToTag"),cn.closestToTag,s.distanceToTag,"Distance to Tag",!1),yt(De.logsJoined,cn.participation,s.participation,"Participation"),yt(De.dodges,cn.dodges,s.dodging,"Dodging"),yt(De.dps,cn.dps,s.dps,"DPS"),yt(De.damage,cn.damage,s.damage,"Damage"),ne.push({...De,score:Le,contribs:st.filter(ht=>q(ht.name))})}),ne.sort((De,Le)=>Le.score-De.score),ne[0]&&ne[0].score>0&&(si=Z(ne[0])||si),Ai=Z(ne[1]),Tc=Z(ne[2]),Cl=ne.length>0?ne.reduce((De,Le)=>De+Le.score,0)/ne.length:0}const Oc=Object.values(P).sort((D,q)=>q.damage-D.damage||q.hits-D.hits||String(D.name||"").localeCompare(String(q.name||""))).slice(0,25),Dc=Object.values(P).sort((D,q)=>q.downContribution-D.downContribution||q.hits-D.hits||String(D.name||"").localeCompare(String(q.name||""))).slice(0,25),Ic=m==="downContribution"?Dc:Oc,_c=Object.values(I).sort((D,q)=>q.damage-D.damage).slice(0,25),Y=D=>{const q=String(D).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ne=q.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return ne?`${ne[1]} Borderlands`:q||"Unknown"},de=(D,q)=>Y((D==null?void 0:D.zone)||(D==null?void 0:D.mapName)||(D==null?void 0:D.map)||(D==null?void 0:D.location)||(D==null?void 0:D.fightName)||(q==null?void 0:q.fightName)||(q==null?void 0:q.encounterName)||"Unknown"),Oe=(D,q)=>{const ne=(q==null?void 0:q.permalink)||(D==null?void 0:D.permalink);if(typeof ne=="string"&&ne.trim().length>0)return ne.trim();const we=D==null?void 0:D.uploadLinks;if(!Array.isArray(we))return"";for(const Z of we){if(typeof Z=="string"&&Z.trim().length>0)return Z.trim();if(Z&&typeof Z=="object"){const De=Z.permalink||Z.link||Z.url||Z.reportLink;if(typeof De=="string"&&De.trim().length>0)return De.trim()}}return""},Ke={};i.forEach(D=>{const q=de(D==null?void 0:D.details,D);Ke[q]=(Ke[q]||0)+1});const Lt=Object.entries(Ke).map(([D,q])=>{const ne=String(D).trim(),we=/eternal battlegrounds|^ebg$/i.test(ne);let Z="#64748b";return we?Z="#ffffff":/red/i.test(ne)?Z="#ef4444":/blue/i.test(ne)?Z="#3b82f6":/green/i.test(ne)&&(Z="#22c55e"),{name:D,value:q,color:Z}}).sort((D,q)=>q.value-D.value),{boonTables:kt}=DU(i),pt=i.map((D,q)=>{var ne,we;const Z=((ne=D.details)==null?void 0:ne.players)||[];return{index:q+1,label:`Log ${q+1}`,timestamp:Ta(D.details,D),squadCount:Z.filter(De=>!De.notInSquad).length,friendlyCount:Z.length,enemies:((we=D.details)==null?void 0:we.targets).filter(De=>!De.isFake).length}}).sort((D,q)=>D.timestamp-q.timestamp),Jt={};Array.from(L.values()).forEach(D=>{D.profession&&D.profession!=="Unknown"&&(Jt[D.profession]=(Jt[D.profession]||0)+1)});const vn=Object.entries(Jt).map(([D,q])=>({name:D,value:q,color:nc(D)})).sort((D,q)=>q.value-D.value),cr={};Object.keys(ce).length===0&&i.forEach(D=>{var q,ne;(ne=(q=D.details)==null?void 0:q.targets)==null||ne.forEach(we=>{if(we.isFake)return;const Z=we.profession&&we.profession!=="Unknown"?we.profession:we.name||we.id||"Unknown",De=E(Z);cr[De]=(cr[De]||0)+1})});const ur=Object.keys(ce).length>0?ce:cr,_e=Object.entries(ur).map(([D,q])=>({name:D,value:q,color:nc(D)})).sort((D,q)=>q.value-D.value),tt=i.map((D,q)=>({log:D,originalIndex:q})).sort((D,q)=>Ta(D.log.details,D.log)-Ta(q.log.details,q.log)),on=tt.map(({log:D},q)=>{const ne=D.details;if(!ne)return null;const we=ne.players||[],Z=we.filter(me=>!me.notInSquad),De=we.filter(me=>me.notInSquad),Le=(ne.targets||[]).filter(me=>!me.isFake),st=Z.reduce((me,Ie)=>{var Ee,vt;return me+(((vt=(Ee=Ie.dpsAll)==null?void 0:Ee[0])==null?void 0:vt.damage)||0)},0),yt=Z.reduce((me,Ie)=>{var Ee,vt;return me+(((vt=(Ee=Ie.defenses)==null?void 0:Ee[0])==null?void 0:vt.damageTaken)||0)},0),{enemyDeaths:ht,enemyDownsDeaths:Bt}=M(ne),hn=T(ne),un=Ta(ne,D),Je=de(ne,D),He=me=>{if(!me||typeof me!="object")return;const Ie=me.teamID??me.teamId??me.team??me.teamColor??me.team_color;if(Ie!=null)return Ie;const Ee=Object.keys(me).find(vt=>/^team/i.test(vt));return Ee?me[Ee]:void 0},ot=(me,Ie)=>{const Ee={};return me.forEach(vt=>{const nt=Ie(vt),at=E(nt);at&&(Ee[at]=(Ee[at]||0)+1)}),Ee},Et=ot(Z,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),Wt=ot(De,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),pe=ot(Le,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)||(me==null?void 0:me.id)),Ne=new Set;Z.forEach(me=>{const Ie=He(me);Ie!=null&&Ne.add(String(Ie))});const ke=new Map;Le.forEach(me=>{if((me==null?void 0:me.enemyPlayer)===!1)return;const Ie=He(me);if(Ie==null)return;const Ee=String(Ie);Ne.has(Ee)||ke.set(Ee,(ke.get(Ee)||0)+1)});const Be=Array.from(ke.entries()).sort((me,Ie)=>{const Ee=Ie[1]-me[1];return Ee!==0?Ee:me[0].localeCompare(Ie[0],void 0,{numeric:!0})}).slice(0,3).map(([me,Ie])=>({teamId:me,count:Ie}));return{id:D.filePath||`fight-${q}`,label:D.encounterName||`Fight ${q+1}`,permalink:Oe(ne,D),timestamp:un,mapName:Je,duration:fm(ne.durationMS),isWin:hn,squadCount:Z.length,allyCount:De.length,enemyCount:Le.length,teamBreakdown:Be,alliesDown:Z.reduce((me,Ie)=>{var Ee,vt;return me+(((vt=(Ee=Ie.defenses)==null?void 0:Ee[0])==null?void 0:vt.downCount)||0)},0),alliesDead:Z.reduce((me,Ie)=>{var Ee,vt;return me+(((vt=(Ee=Ie.defenses)==null?void 0:Ee[0])==null?void 0:vt.deadCount)||0)},0),alliesRevived:Z.reduce((me,Ie)=>{var Ee,vt;return Number(((vt=(Ee=Ie.statsAll)==null?void 0:Ee[0])==null?void 0:vt.saved)||0)>0?me+1:me},0),rallies:0,enemyDeaths:ht,enemyDowns:Math.max(0,Bt-ht),totalOutgoingDamage:st,totalIncomingDamage:yt,incomingBarrierAbsorbed:Z.reduce((me,Ie)=>{var Ee,vt;return me+(((vt=(Ee=Ie.defenses)==null?void 0:Ee[0])==null?void 0:vt.damageBarrier)||0)},0),outgoingBarrierAbsorbed:Z.reduce((me,Ie)=>{var Ee;const vt=(Ee=Ie.extBarrierStats)==null?void 0:Ee.outgoingBarrier;if(!Array.isArray(vt))return me;let nt=0;return vt.forEach(at=>{if(Array.isArray(at)){at.forEach(qt=>{nt+=Number((qt==null?void 0:qt.barrier)||0)});return}nt+=Number((at==null?void 0:at.barrier)||0)}),me+nt},0),squadClassCountsFight:Et,allyClassCountsFight:Wt,enemyClassCounts:pe}}).filter(Boolean),en=tt.map(({log:D},q)=>{const ne=D.details;if(!ne)return null;const we=(Array.isArray(ne.players)?ne.players:[]).filter(U=>!U.notInSquad),Z=Array.isArray(ne.targets)?ne.targets:[],De=Ta(ne,D),Le=de(ne,D),st=Number(ne.durationMS||0),{squadDownsDeaths:yt,enemyDownsDeaths:ht,squadDeaths:Bt,enemyDeaths:hn}=M(ne),un=new Map,Je=(U,se,je)=>{const Ce=un.get(U)||{label:U,damage:0,hits:0};Ce.damage+=se,Ce.hits+=je,un.set(U,Ce)};if(we.forEach(U=>{(Array.isArray(U==null?void 0:U.statsTargets)?U.statsTargets:[]).forEach((se,je)=>{const Ce=Array.isArray(se)?se[0]:se,ve=Number((Ce==null?void 0:Ce.damage)??(Ce==null?void 0:Ce.totalDmg)??(Ce==null?void 0:Ce.connectedDmg)??0),Re=Number((Ce==null?void 0:Ce.connectedHits)??(Ce==null?void 0:Ce.connectedDamageCount)??(Ce==null?void 0:Ce.hits)??0);if(ve<=0&&Re<=0)return;const Ze=Z[je];if(Ze!=null&&Ze.isFake)return;const Ye=(Ze==null?void 0:Ze.profession)||(Ze==null?void 0:Ze.name)||(Ze==null?void 0:Ze.id)||`Target ${je+1}`,Ut=E(Ye);Je(Ut||String(Ye),ve,Re)})}),un.size===0){const U=new Map,se=je=>{if(!Array.isArray(je)||je.length===0)return[];const Ce=je[0];if(Array.isArray(Ce)&&Array.isArray(Ce[0])){if(typeof Ce[0][0]=="number")return Ce;if(Array.isArray(Ce[0])&&typeof Ce[0][0]=="number")return je.map(ve=>Array.isArray(ve)?ve[0]||[]:[])}return[]};we.forEach(je=>{se(je==null?void 0:je.targetDamage1S).forEach((Ce,ve)=>{if(!Array.isArray(Ce)||Ce.length===0)return;const Re=Ce.map(Ye=>Number(Ye)).filter(Ye=>Number.isFinite(Ye)&&Ye>=0);if(Re.length===0)return;const Ze=Math.max(0,Re[Re.length-1]||0);Ze<=0||U.set(ve,(U.get(ve)||0)+Ze)})}),U.forEach((je,Ce)=>{if(je<=0)return;const ve=Z[Ce];if(ve!=null&&ve.isFake)return;const Re=(ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)||(ve==null?void 0:ve.id)||`Target ${Ce+1}`,Ze=E(Re);Je(Ze||String(Re),je,0)})}if(un.size===0&&Z.forEach((U,se)=>{if(U!=null&&U.isFake)return;const je=Array.isArray(U==null?void 0:U.totalDamageTaken)?U.totalDamageTaken:Array.isArray(U==null?void 0:U.totalDamageDist)?U.totalDamageDist:[];let Ce=0,ve=0;if(je.forEach(Ye=>{Ce+=Number((Ye==null?void 0:Ye.totalDamage)||(Ye==null?void 0:Ye.damage)||0),ve+=Number((Ye==null?void 0:Ye.connectedHits)||(Ye==null?void 0:Ye.hits)||0)}),Ce<=0&&Number((U==null?void 0:U.damageTaken)||0)>0&&(Ce=Number(U.damageTaken||0)),Ce<=0&&ve<=0)return;const Re=(U==null?void 0:U.profession)||(U==null?void 0:U.name)||(U==null?void 0:U.id)||`Target ${se+1}`,Ze=E(Re);Je(Ze||String(Re),Ce,ve)}),un.size===0){const U=new Map;Z.forEach((se,je)=>{if(se!=null&&se.isFake)return;const Ce=(se==null?void 0:se.profession)||(se==null?void 0:se.name)||(se==null?void 0:se.id)||`Target ${je+1}`,ve=E(Ce)||String(Ce);U.set(ve,(U.get(ve)||0)+1)}),U.forEach((se,je)=>{se>0&&Je(je,se,0)})}const He=Array.from(un.values()).sort((U,se)=>se.damage-U.damage||se.hits-U.hits||U.label.localeCompare(se.label)),ot=He.reduce((U,se)=>U+se.damage,0),Et=He.map(U=>({label:U.label,damage:U.damage,hits:U.hits,share:ot>0?U.damage/ot:0})),Wt=Z.filter(U=>!(U!=null&&U.isFake)).length,pe=we.length,Ne=we.reduce((U,se)=>{var je,Ce;return U+Number(((Ce=(je=se==null?void 0:se.dpsAll)==null?void 0:je[0])==null?void 0:Ce.damage)||0)},0),ke=we.reduce((U,se)=>{var je,Ce;return U+Number(((Ce=(je=se==null?void 0:se.defenses)==null?void 0:je[0])==null?void 0:Ce.damageTaken)||0)},0),Be=we.reduce((U,se)=>{var je,Ce;return U+Number(((Ce=(je=se==null?void 0:se.defenses)==null?void 0:je[0])==null?void 0:Ce.damageBarrier)||0)},0),me=we.reduce((U,se)=>{var je;const Ce=(je=se==null?void 0:se.extBarrierStats)==null?void 0:je.outgoingBarrier;if(!Array.isArray(Ce))return U;let ve=0;return Ce.forEach(Re=>{Array.isArray(Re)?Re.forEach(Ze=>{ve+=Number((Ze==null?void 0:Ze.barrier)||0)}):ve+=Number((Re==null?void 0:Re.barrier)||0)}),U+ve},0),Ie=we.reduce((U,se)=>{var je,Ce;return Number(((Ce=(je=se==null?void 0:se.statsAll)==null?void 0:je[0])==null?void 0:Ce.saved)||0)>0?U+1:U},0),Ee=we.reduce((U,se)=>U+Number(H2(se)||0),0),vt=we.reduce((U,se)=>U+Number(K2(se)||0),0),nt=we.reduce((U,se)=>U+Number((se==null?void 0:se.stabGeneration)||0),0),at=we.reduce((U,se)=>U+Number(G2(se)||0),0),qt=we.reduce((U,se)=>U+Number(X2(se)||0),0),xn=we.reduce((U,se)=>U+Number(Q2(se)||0),0),In=we.reduce((U,se)=>U+Number(Y2(se)||0),0),nr=Bt>0?hn/Bt:hn,bt=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:T(ne)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:pe},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Wt},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:nr},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:hn},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,ht-hn)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Bt},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,yt-Bt)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Ne-ke},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Ne},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ke},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:Ee},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:vt},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:nt},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:at},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:qt},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Be},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:me},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:xn},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:In},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Ie}];return{id:D.filePath||D.id||`fight-${q+1}`,shortLabel:`F${q+1}`,fullLabel:`${Le||D.encounterName||"Unknown Map"}  ${fm(st)}`,mapName:Le,timestamp:De,duration:fm(st),isWin:T(ne),targetFocus:Et,squadMetrics:bt}}).filter(Boolean),$n=Array.from(L.values()).map(D=>{const q=Object.entries(D.professionTimeMs||{}).map(([ne,we])=>({profession:ne,timeMs:Number(we||0)})).filter(ne=>ne.profession&&ne.profession!=="Unknown"&&ne.timeMs>0).sort((ne,we)=>{const Z=we.timeMs-ne.timeMs;return Z!==0?Z:ne.profession.localeCompare(we.profession)});return{account:D.account||"Unknown",characterNames:Array.from(D.characterNames||[]).filter(Boolean).sort((ne,we)=>ne.localeCompare(we)),classTimes:q,combatTimeMs:Number(D.squadActiveMs||D.totalFightMs||0),squadTimeMs:(()=>{const ne=Number(D.firstSeenFightTs||0),we=Number(D.lastSeenFightTs||0),Z=Math.max(0,Number(D.lastSeenFightDurationMs||0));return ne>0&&we>0?Math.max(0,we+Z-ne):Number(D.squadActiveMs||D.totalFightMs||0)})()}}).filter(D=>D.account&&D.account!=="Unknown").sort((D,q)=>{const ne=q.squadTimeMs-D.squadTimeMs;return ne!==0?ne:String(D.account).localeCompare(String(q.account))}),Ma=i.map(D=>D).sort((D,q)=>Ta(D.details,D)-Ta(q.details,q)).map((D,q)=>{const ne=D==null?void 0:D.details,we=Array.isArray(ne==null?void 0:ne.players)?ne.players.filter(Le=>!(Le!=null&&Le.notInSquad)):[],Z=new Map;we.forEach(Le=>{const st=Number(Le==null?void 0:Le.group),yt=Number.isFinite(st)&&st>0?st:0;Z.has(yt)||Z.set(yt,{party:yt,players:[],classCounts:{}});const ht=E((Le==null?void 0:Le.profession)||(Le==null?void 0:Le.name)||"Unknown"),Bt=String((Le==null?void 0:Le.account)||"Unknown"),hn=String((Le==null?void 0:Le.name)||(Le==null?void 0:Le.character_name)||""),un=!!(Le!=null&&Le.hasCommanderTag),Je=Z.get(yt);Je.players.push({account:Bt,characterName:hn,profession:ht,isCommander:un}),Je.classCounts[ht]=(Je.classCounts[ht]||0)+1});const De=Array.from(Z.values()).map(Le=>({...Le,players:Le.players.sort((st,yt)=>{const ht=+!!yt.isCommander-+!!st.isCommander;if(ht!==0)return ht;const Bt=String(st.profession).localeCompare(String(yt.profession));return Bt!==0?Bt:String(st.account).localeCompare(String(yt.account))})})).sort((Le,st)=>Le.party===0&&st.party!==0?1:st.party===0&&Le.party!==0?-1:Le.party-st.party);return{id:String((D==null?void 0:D.filePath)||(D==null?void 0:D.id)||`fight-${q+1}`),label:`F${q+1}`,timestamp:Ta(ne,D),mapName:de(ne,D),duration:fm(Number((ne==null?void 0:ne.durationMS)||0)),parties:De}}),Tr=(D,q)=>{const ne=(q==null?void 0:q.skillMap)||{},we=(q==null?void 0:q.buffMap)||{};let Z=0,De="";const Le=ht=>{const Bt=Number(ht);if(!Number.isFinite(Bt))return String(ht||"Unknown Skill");const hn=(ne==null?void 0:ne[`s${Bt}`])||(ne==null?void 0:ne[`${Bt}`]);if(hn!=null&&hn.name)return String(hn.name);const un=(we==null?void 0:we[`b${Bt}`])||(we==null?void 0:we[`${Bt}`]);return un!=null&&un.name?String(un.name):`Skill ${Bt}`},st=ht=>{if(!ht||typeof ht!="object")return;const Bt=[Number(ht.max),Number(ht.maxDamage),Number(ht.maxHit)].filter(un=>Number.isFinite(un)),hn=Bt.length>0?Math.max(...Bt):0;hn>Z&&(Z=hn,De=Le(ht.id))};let yt=!1;return Array.isArray(D==null?void 0:D.targetDamageDist)&&D.targetDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach(Bt=>{Array.isArray(Bt)&&Bt.forEach(hn=>{yt=!0,st(hn)})})}),(!yt||Z<=0)&&Array.isArray(D==null?void 0:D.totalDamageDist)&&D.totalDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach(Bt=>st(Bt))}),{peak:Z,skillName:De||"Unknown Skill"}},Ho=(()=>{const D=Je=>String(Je||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=Je=>D(Je).toLowerCase().split(/[^a-z0-9]+/i).map(He=>He.trim()).filter(Boolean).map(He=>He.length>3&&He.endsWith("s")?He.slice(0,-1):He),ne=(Je,He)=>{const ot=D(Je),Et=D(He);if(!Et)return ot;if(!ot)return Et;const Wt=q(ot),pe=q(Et),Ne=new Set(Wt),ke=new Set(pe),Be=pe.length>0&&pe.every(Ie=>Ne.has(Ie)),me=Wt.length>0&&Wt.every(Ie=>ke.has(Ie));return Be||me?ot:`${ot} - ${Et}`},we=[],Z=new Map,De=Je=>{const He=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const Be=[];for(let me=0;me<ke.length;me+=1){const Ie=Number(ke[me]||0),Ee=me>0?Number(ke[me-1]||0):0;Be.push(Math.max(0,Ie-Ee))}return Be},ot=ke=>{if(!Array.isArray(ke))return[];const Be=ke.reduce((Ie,Ee)=>Math.max(Ie,Array.isArray(Ee)?Ee.length:0),0);if(Be<=0)return[];const me=new Array(Be).fill(0);return ke.forEach(Ie=>{if(Array.isArray(Ie))for(let Ee=0;Ee<Be;Ee+=1)me[Ee]+=Number(Ie[Ee]||0)}),me},Et=ke=>Array.isArray(ke)?ke.map(Be=>Number(Be||0)):null,Wt=(ke=>{if(!Array.isArray(ke)||ke.length===0)return null;const Be=ke[0];if(!Array.isArray(Be))return null;if(Array.isArray(Be[0])&&Array.isArray(Be[0][0]))return ot(Be);if(Array.isArray(Be[0])&&!Array.isArray(Be[0][0])){const me=ke.map(Ie=>Et(Array.isArray(Ie)?Ie[0]:null)).filter(Ie=>Array.isArray(Ie)&&Ie.length>0);if(me.length>0)return ot(me)}return null})(Je==null?void 0:Je.targetDamage1S),pe=Array.isArray(Je==null?void 0:Je.damage1S)&&Array.isArray(Je.damage1S[0])?Je.damage1S[0]:null,Ne=Wt||(Array.isArray(pe)?pe.map(ke=>Number(ke||0)):[]);return He(Ne)},Le=(Je,He)=>{if(!Array.isArray(Je)||Je.length===0||He<=0)return 0;let ot=0,Et=0;for(let Wt=0;Wt<Je.length;Wt+=1)ot+=Number(Je[Wt]||0),Wt>=He&&(ot-=Number(Je[Wt-He]||0)),Wt>=He-1&&ot>Et&&(Et=ot);return Math.max(0,Et)},st=(Je,He)=>{if(!Array.isArray(Je)||Je.length===0||He<=0)return[];const ot=[];for(let Et=0;Et<Je.length;Et+=He){const Wt=Math.min(Et+He,Je.length),pe=Je.slice(Et,Wt).reduce((Ne,ke)=>Ne+Number(ke||0),0);ot.push(pe)}return ot},yt=(Je,He)=>{const ot=Number(Je);if(!Number.isFinite(ot))return{name:String(Je||"Unknown Skill"),icon:void 0};const Et=(He==null?void 0:He.skillMap)||{},Wt=(He==null?void 0:He.buffMap)||{},pe=(Et==null?void 0:Et[`s${ot}`])||(Et==null?void 0:Et[`${ot}`]);if(pe!=null&&pe.name)return{name:String(pe.name),icon:pe==null?void 0:pe.icon};const Ne=(Wt==null?void 0:Wt[`b${ot}`])||(Wt==null?void 0:Wt[`${ot}`]);return Ne!=null&&Ne.name?{name:String(Ne.name),icon:Ne==null?void 0:Ne.icon}:{name:`Skill ${ot}`,icon:void 0}},ht=Je=>Array.isArray(Je)?Je.map(He=>Array.isArray(He)?[Number(He[0]),Number(He[1])]:He&&typeof He=="object"?[Number(He.time),Number(He.value)]:null).filter(He=>!!He&&Number.isFinite(He[0])&&He[0]>=0):[],Bt=(Je,He,ot,Et,Wt)=>{if(!Je.length||Et<=0)return[];const pe=Math.max(Et*5e3,Wt||0),Ne=at=>at.reduce((qt,xn)=>xn>=0&&xn<=pe+2e3?qt+1:qt,0),ke=Je.map(at=>Number(at||0)).filter(at=>Number.isFinite(at)&&at>=0);if(!ke.length)return[];const Be=[ke],me=ke.reduce((at,qt)=>Math.max(at,qt),0),Ie=ke.reduce((at,qt)=>Math.min(at,qt),Number.POSITIVE_INFINITY);me>pe*20&&Be.push(ke.map(at=>at/1e3)),me<=pe*2&&Ie>=0&&me>0&&me<Math.max(120,Et*5+10)&&Be.push(ke.map(at=>at*1e3));let Ee=ke,vt=0,nt=-1;return Be.forEach(at=>{const qt=at.reduce((In,nr)=>Math.min(In,nr),Number.POSITIVE_INFINITY),xn=new Set([0,...He,...ot]);if(Number.isFinite(qt)&&pe>0&&qt>pe){const In=Math.floor(qt/pe)*pe;xn.add(In),xn.add(Math.max(0,In-pe))}xn.forEach(In=>{const nr=at.map(U=>U-In),bt=Ne(nr);bt>nt&&(nt=bt,vt=In,Ee=at)})}),Ee.map(at=>at-vt).filter(at=>Number.isFinite(at)&&at>=0)},hn=(Je,He,ot,Et,Wt)=>{const pe=Bt(Je,He,ot,Et,Wt);return Array.from(new Set(pe.map(Ne=>Math.floor(Ne/5e3)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0&&Ne<Et)))};i.map(Je=>({log:Je,ts:Ta(Je==null?void 0:Je.details,Je)})).sort((Je,He)=>Je.ts-He.ts).forEach(({log:Je},He)=>{const ot=Je==null?void 0:Je.details;if(!ot)return;const Et=D(ot.fightName||Je.fightName||`Fight ${He+1}`),Wt=de(ot,Je),pe=ne(Et,String(Wt||"")),Ne={},ke=Array.isArray(ot.players)?ot.players:[],Be=ke.flatMap(nt=>{const at=nt==null?void 0:nt.combatReplayData;return Array.isArray(at)?at.map(qt=>Number(qt==null?void 0:qt.start)):[Number(at==null?void 0:at.start)]}).filter(nt=>Number.isFinite(nt)&&nt>=0);ke.forEach(nt=>{if(nt!=null&&nt.notInSquad)return;const at=String((nt==null?void 0:nt.account)||(nt==null?void 0:nt.name)||"Unknown"),qt=String((nt==null?void 0:nt.character_name)||(nt==null?void 0:nt.display_name)||(nt==null?void 0:nt.name)||""),xn=String((nt==null?void 0:nt.profession)||"Unknown"),In=`${at}|${xn}`,nr=Tr(nt,ot),bt=Number(nr.peak||0),U=De(nt),se=Number(Le(U,1)||0),je=Number(Le(U,5)||0),Ce=Number(Le(U,30)||0),ve=Math.max(0,Math.ceil(Number((ot==null?void 0:ot.durationMS)||0)/5e3)),Re=Math.max(0,Math.ceil(U.length/5)),Ze=Math.max(ve,Re),Ye=st(U,5),Ut=Array.from({length:Ze},(Pe,xe)=>Number(Ye[xe]||0)),Kt=new Map,Vt=Pe=>{if(!Pe||typeof Pe!="object"||Pe.indirectDamage)return;const xe=Number(Pe.totalDamage||0);if(!Number.isFinite(xe)||xe<=0)return;const xt=Number(Pe.connectedHits||Pe.hits||0),Mt=yt(Pe.id,ot),Ht=Mt.name,wn=Kt.get(Ht)||{skillName:Ht,damage:0,hits:0,icon:Mt.icon};wn.damage+=xe,wn.hits+=Number.isFinite(xt)?xt:0,!wn.icon&&Mt.icon&&(wn.icon=Mt.icon),Kt.set(Ht,wn)},lt=new Map;Array.isArray(nt==null?void 0:nt.targetDamageDist)&&nt.targetDamageDist.forEach(Pe=>{Array.isArray(Pe)&&Pe.forEach(xe=>{Array.isArray(xe)&&xe.forEach(xt=>{const Mt=Number(xt==null?void 0:xt.id),Ht=Number((xt==null?void 0:xt.totalDamage)||0);if(Number.isFinite(Mt)){const wn=lt.get(Mt)||{damage:0,hits:0};wn.damage+=Number.isFinite(Ht)?Ht:0,wn.hits+=Number((xt==null?void 0:xt.connectedHits)||(xt==null?void 0:xt.hits)||0),lt.set(Mt,wn)}Vt(xt)})})}),!(ot!=null&&ot.detailedWvW)&&Array.isArray(nt==null?void 0:nt.totalDamageDist)&&nt.totalDamageDist.forEach(Pe=>{Array.isArray(Pe)&&Pe.forEach(xe=>{const xt=Number(xe==null?void 0:xe.id);if(!Number.isFinite(xt)){Vt(xe);return}const Mt=lt.get(xt);if(!Mt){Vt(xe);return}const Ht=Number((xe==null?void 0:xe.totalDamage)||0),wn=Number((xe==null?void 0:xe.connectedHits)||(xe==null?void 0:xe.hits)||0),Ur=Ht-Number(Mt.damage||0),aa=wn-Number(Mt.hits||0);Ur<=0&&aa<=0||Vt({...xe,totalDamage:Math.max(0,Ur),connectedHits:Math.max(0,aa),hits:Math.max(0,aa)})})});const Xt=(()=>{const Pe=nt==null?void 0:nt.combatReplayData;return Array.isArray(Pe)?Pe.filter(xe=>xe&&typeof xe=="object"):Pe&&typeof Pe=="object"?[Pe]:[]})(),ct=Xt.map(Pe=>Number(Pe==null?void 0:Pe.start)).filter(Pe=>Number.isFinite(Pe)&&Pe>=0),an=Xt.flatMap(Pe=>ht(Pe==null?void 0:Pe.down).map(([xe])=>Number(xe||0))),Ft=Xt.flatMap(Pe=>ht(Pe==null?void 0:Pe.dead).map(([xe])=>Number(xe||0)));Ne[In]={hit:bt,burst1s:se,burst5s:je,burst30s:Ce,skillName:nr.skillName,buckets5s:Ut,downIndices5s:hn(an,ct,Be,Ze,Number((ot==null?void 0:ot.durationMS)||0)),deathIndices5s:hn(Ft,ct,Be,Ze,Number((ot==null?void 0:ot.durationMS)||0)),skillRows:Array.from(Kt.values()).sort((Pe,xe)=>xe.damage-Pe.damage).slice(0,50)};const Ct=Z.get(In)||{key:In,account:at,displayName:at,characterName:qt,profession:xn,professionList:[xn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Ct.logs+=1,Ct.professionList.includes(xn)||Ct.professionList.push(xn),!Ct.characterName&&qt&&(Ct.characterName=qt),bt>Ct.peakHit&&(Ct.peakHit=bt,Ct.peakFightLabel=pe,Ct.peakSkillName=nr.skillName),se>Ct.peak1s&&(Ct.peak1s=se),je>Ct.peak5s&&(Ct.peak5s=je),Ce>Ct.peak30s&&(Ct.peak30s=Ce),Z.set(In,Ct)});const me=Object.values(Ne).reduce((nt,at)=>Math.max(nt,Number((at==null?void 0:at.hit)||0)),0),Ie=Object.values(Ne).reduce((nt,at)=>Math.max(nt,Number((at==null?void 0:at.burst1s)||0)),0),Ee=Object.values(Ne).reduce((nt,at)=>Math.max(nt,Number((at==null?void 0:at.burst5s)||0)),0),vt=Object.values(Ne).reduce((nt,at)=>Math.max(nt,Number((at==null?void 0:at.burst30s)||0)),0);we.push({id:Je.filePath||Je.id||`fight-${He+1}`,shortLabel:`F${He+1}`,fullLabel:pe,timestamp:Ta(ot,Je),values:Ne,maxHit:me,max1s:Ie,max5s:Ee,max30s:vt})});const un=Array.from(Z.values()).sort((Je,He)=>He.peakHit!==Je.peakHit?He.peakHit-Je.peakHit:Je.displayName.localeCompare(He.displayName));return{fights:we,players:un}})(),cd=(()=>{const D=pe=>String(pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=pe=>D(pe).toLowerCase().split(/[^a-z0-9]+/i).map(Ne=>Ne.trim()).filter(Boolean).map(Ne=>Ne.length>3&&Ne.endsWith("s")?Ne.slice(0,-1):Ne),ne=(pe,Ne)=>{const ke=D(pe),Be=D(Ne);if(!Be)return ke;if(!ke)return Be;const me=q(ke),Ie=q(Be),Ee=new Set(me),vt=new Set(Ie),nt=Ie.length>0&&Ie.every(qt=>Ee.has(qt)),at=me.length>0&&me.every(qt=>vt.has(qt));return nt||at?ke:`${ke} - ${Be}`},we=[],Z=new Map,De=(pe,Ne)=>{const ke=Number(pe);if(!Number.isFinite(ke))return{name:String(pe||"Unknown Skill"),icon:void 0};const Be=(Ne==null?void 0:Ne.skillMap)||{},me=(Ne==null?void 0:Ne.buffMap)||{},Ie=(Be==null?void 0:Be[`s${ke}`])||(Be==null?void 0:Be[`${ke}`]);if(Ie!=null&&Ie.name)return{name:String(Ie.name),icon:Ie==null?void 0:Ie.icon};const Ee=(me==null?void 0:me[`b${ke}`])||(me==null?void 0:me[`${ke}`]);return Ee!=null&&Ee.name?{name:String(Ee.name),icon:Ee==null?void 0:Ee.icon}:{name:`Skill ${ke}`,icon:void 0}},Le=(pe,Ne)=>{let ke=0,Be="";const me=Ie=>{if(!Ie||typeof Ie!="object"||Ie.indirectDamage)return;const Ee=[Number(Ie.max),Number(Ie.maxDamage),Number(Ie.maxHit)].filter(nt=>Number.isFinite(nt)),vt=Ee.length>0?Math.max(...Ee):0;vt>ke&&(ke=vt,Be=De(Ie.id,Ne).name)};return Array.isArray(pe==null?void 0:pe.totalDamageDist)&&pe.totalDamageDist.forEach(Ie=>{Array.isArray(Ie)&&Ie.forEach(Ee=>me(Ee))}),Array.isArray(pe==null?void 0:pe.targetDamageDist)&&pe.targetDamageDist.forEach(Ie=>{Array.isArray(Ie)&&Ie.forEach(Ee=>{Array.isArray(Ee)&&Ee.forEach(vt=>me(vt))})}),{peak:ke,skillName:Be||"Unknown Skill"}},st=pe=>{if(!Array.isArray(pe)||pe.length===0)return[];const Ne=[];for(let ke=0;ke<pe.length;ke+=1){const Be=Number(pe[ke]||0),me=ke>0?Number(pe[ke-1]||0):0;Ne.push(Math.max(0,Be-me))}return Ne},yt=pe=>{if(!Array.isArray(pe)||pe.length===0)return[];const Ne=pe.reduce((Be,me)=>Math.max(Be,Array.isArray(me)?me.length:0),0);if(Ne<=0)return[];const ke=new Array(Ne).fill(0);return pe.forEach(Be=>{if(Array.isArray(Be))for(let me=0;me<Ne;me+=1)ke[me]+=Number(Be[me]||0)}),ke},ht=pe=>{if(!Array.isArray(pe)||pe.length===0)return[];const Ne=pe[0];if(typeof Ne=="number")return pe.map(ke=>Number(ke||0));if(Array.isArray(Ne)&&Ne.length>0){if(typeof Ne[0]=="number")return Ne.map(ke=>Number(ke||0));if(Array.isArray(Ne[0])){const ke=Ne.map(Be=>Array.isArray(Be)?Be.map(me=>Number(me||0)):null).filter(Be=>Array.isArray(Be)&&Be.length>0);if(ke.length>0)return yt(ke)}}return[]},Bt=pe=>{const Ne=ht(pe==null?void 0:pe.powerDamage1S),ke=ht(pe==null?void 0:pe.damage1S),Be=Ne.length>0?Ne:ke;return st(Be)},hn=(pe,Ne)=>{const ke=pe==null?void 0:pe.targetPowerDamage1S;if(!Array.isArray(ke)||!Array.isArray(ke[Ne]))return[];const Be=ke[Ne];if(!Array.isArray(Be)||Be.length===0)return[];if(typeof Be[0]=="number")return Be.map(me=>Number(me||0));if(Array.isArray(Be[0])&&!Array.isArray(Be[0][0]))return Be[0].map(me=>Number(me||0));if(Array.isArray(Be[0])&&Array.isArray(Be[0][0])){const me=Be[0].map(Ie=>Array.isArray(Ie)?Ie.map(Ee=>Number(Ee||0)):null).filter(Ie=>Array.isArray(Ie)&&Ie.length>0);return yt(me)}return[]},un=(pe,Ne)=>{if(!Array.isArray(pe)||pe.length===0||Ne<=0)return 0;let ke=0,Be=0;for(let me=0;me<pe.length;me+=1)ke+=Number(pe[me]||0),me>=Ne&&(ke-=Number(pe[me-Ne]||0)),me>=Ne-1&&ke>Be&&(Be=ke);return Math.max(0,Be)},Je=(pe,Ne)=>{if(!Array.isArray(pe)||pe.length===0||Ne<=0)return[];const ke=[];for(let Be=0;Be<pe.length;Be+=Ne){const me=Math.min(Be+Ne,pe.length),Ie=pe.slice(Be,me).reduce((Ee,vt)=>Ee+Number(vt||0),0);ke.push(Ie)}return ke},He=pe=>Array.isArray(pe)?pe.map(Ne=>Array.isArray(Ne)?[Number(Ne[0]),Number(Ne[1])]:Ne&&typeof Ne=="object"?[Number(Ne.time),Number(Ne.value)]:null).filter(Ne=>!!Ne&&Number.isFinite(Ne[0])&&Ne[0]>=0):[],ot=(pe,Ne,ke,Be,me)=>{if(!pe.length||Be<=0)return[];const Ie=Math.max(Be*5e3,me||0),Ee=bt=>bt.reduce((U,se)=>se>=0&&se<=Ie+2e3?U+1:U,0),vt=pe.map(bt=>Number(bt||0)).filter(bt=>Number.isFinite(bt)&&bt>=0);if(!vt.length)return[];const nt=[vt],at=vt.reduce((bt,U)=>Math.max(bt,U),0),qt=vt.reduce((bt,U)=>Math.min(bt,U),Number.POSITIVE_INFINITY);at>Ie*20&&nt.push(vt.map(bt=>bt/1e3)),at<=Ie*2&&qt>=0&&at>0&&at<Math.max(120,Be*5+10)&&nt.push(vt.map(bt=>bt*1e3));let xn=vt,In=0,nr=-1;return nt.forEach(bt=>{const U=bt.reduce((je,Ce)=>Math.min(je,Ce),Number.POSITIVE_INFINITY),se=new Set([0,...Ne,...ke]);if(Number.isFinite(U)&&Ie>0&&U>Ie){const je=Math.floor(U/Ie)*Ie;se.add(je),se.add(Math.max(0,je-Ie))}se.forEach(je=>{const Ce=bt.map(Re=>Re-je),ve=Ee(Ce);ve>nr&&(nr=ve,In=je,xn=bt)})}),xn.map(bt=>bt-In).filter(bt=>Number.isFinite(bt)&&bt>=0)},Et=(pe,Ne,ke,Be,me)=>{const Ie=ot(pe,Ne,ke,Be,me);return Array.from(new Set(Ie.map(Ee=>Math.floor(Ee/5e3)).filter(Ee=>Number.isFinite(Ee)&&Ee>=0&&Ee<Be)))};i.map(pe=>({log:pe,ts:Ta(pe==null?void 0:pe.details,pe)})).sort((pe,Ne)=>pe.ts-Ne.ts).forEach(({log:pe},Ne)=>{const ke=pe==null?void 0:pe.details;if(!ke)return;const Be=D(ke.fightName||pe.fightName||`Fight ${Ne+1}`),me=de(ke,pe),Ie=ne(Be,String(me||"")),Ee={},vt=(Array.isArray(ke.players)?ke.players:[]).filter(ve=>!(ve!=null&&ve.notInSquad)),nt=vt.flatMap(ve=>{const Re=ve==null?void 0:ve.combatReplayData;return Array.isArray(Re)?Re.map(Ze=>Number(Ze==null?void 0:Ze.start)):[Number(Re==null?void 0:Re.start)]}).filter(ve=>Number.isFinite(ve)&&ve>=0),at=vt.flatMap(ve=>{const Re=ve==null?void 0:ve.combatReplayData;return(Array.isArray(Re)?Re:Re?[Re]:[]).flatMap(Ze=>He(Ze==null?void 0:Ze.down).map(([Ye])=>Number(Ye||0)))}),qt=vt.flatMap(ve=>{const Re=ve==null?void 0:ve.combatReplayData;return(Array.isArray(Re)?Re:Re?[Re]:[]).flatMap(Ze=>He(Ze==null?void 0:Ze.dead).map(([Ye])=>Number(Ye||0)))}),xn=new Map,In=new Map,nr=new Map;(Array.isArray(ke.targets)?ke.targets:[]).forEach((ve,Re)=>{if(!ve||ve.isFake||!ve.enemyPlayer)return;const Ze=E((ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)||(ve==null?void 0:ve.id))||"Unknown";nr.set(Ze,(nr.get(Ze)||0)+1);const Ye=In.get(Ze)||new Map;Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(ct=>{Array.isArray(ct)&&ct.forEach(an=>{if(!an||typeof an!="object"||an.indirectDamage)return;const Ft=Number(an.totalDamage||0);if(!Number.isFinite(Ft)||Ft<=0)return;const Ct=Number(an.connectedHits||an.hits||0),Pe=De(an.id,ke),xe=Pe.name,xt=Ye.get(xe)||{skillName:xe,damage:0,hits:0,icon:Pe.icon};xt.damage+=Ft,xt.hits+=Number.isFinite(Ct)?Ct:0,!xt.icon&&Pe.icon&&(xt.icon=Pe.icon),Ye.set(xe,xt)})}),In.set(Ze,Ye);const Ut=yt(vt.map(ct=>hn(ct,Re))),Kt=Ut.length>0?st(Ut):Bt(ve),Vt=Le(ve,ke);let lt=xn.get(Ze);lt||(lt={perSecond:[],hit:0,skillName:""},xn.set(Ze,lt)),Kt.length>lt.perSecond.length&&(lt.perSecond.length=Kt.length);for(let ct=0;ct<Kt.length;ct+=1)lt.perSecond[ct]=Number(lt.perSecond[ct]||0)+Number(Kt[ct]||0);const Xt=Number(Vt.peak||0);Xt>lt.hit&&(lt.hit=Xt,lt.skillName=Vt.skillName||"Unknown Skill")});const bt=Array.from(xn.values()).some(ve=>Array.isArray(ve.perSecond)&&ve.perSecond.some(Re=>Number(Re||0)>0));if(xn.size===0||!bt){const ve=yt(vt.map(Ze=>{const Ye=ht(Ze==null?void 0:Ze.powerDamageTaken1S);return st(Ye)})),Re=Array.from(nr.values()).reduce((Ze,Ye)=>Ze+Number(Ye||0),0);ve.length>0&&Re>0&&nr.forEach((Ze,Ye)=>{const Ut=Number(Ze||0)/Re,Kt=ve.map(lt=>Number(lt||0)*Ut),Vt=xn.get(Ye);xn.set(Ye,{perSecond:Kt,hit:Number((Vt==null?void 0:Vt.hit)||0),skillName:String((Vt==null?void 0:Vt.skillName)||"")})})}xn.forEach((ve,Re)=>{var Ze;const Ye=Re,Ut=Number(ve.hit||0),Kt=Number(un(ve.perSecond,1)||0),Vt=Number(un(ve.perSecond,5)||0),lt=Number(un(ve.perSecond,30)||0),Xt=Math.max(0,Math.ceil(Number((ke==null?void 0:ke.durationMS)||0)/5e3)),ct=Math.max(0,Math.ceil(ve.perSecond.length/5)),an=Math.max(Xt,ct),Ft=Je(ve.perSecond,5),Ct=Array.from({length:an},(xe,xt)=>Number(Ft[xt]||0));Ee[Ye]={hit:Ut,burst1s:Kt,burst5s:Vt,burst30s:lt,skillName:ve.skillName||"Unknown Skill",buckets5s:Ct,downIndices5s:Et(at,[],nt,an,Number((ke==null?void 0:ke.durationMS)||0)),deathIndices5s:Et(qt,[],nt,an,Number((ke==null?void 0:ke.durationMS)||0)),skillRows:Array.from(((Ze=In.get(Re))==null?void 0:Ze.values())||[]).sort((xe,xt)=>xt.damage-xe.damage).slice(0,50)};const Pe=Z.get(Ye)||{key:Ye,account:Re,displayName:Re,characterName:"",profession:Re,professionList:[Re],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Pe.logs+=1,Ut>Pe.peakHit&&(Pe.peakHit=Ut,Pe.peakFightLabel=Ie,Pe.peakSkillName=ve.skillName||"Unknown Skill"),Kt>Pe.peak1s&&(Pe.peak1s=Kt),Vt>Pe.peak5s&&(Pe.peak5s=Vt),lt>Pe.peak30s&&(Pe.peak30s=lt),Z.set(Ye,Pe)});const U=Object.values(Ee).reduce((ve,Re)=>Math.max(ve,Number((Re==null?void 0:Re.hit)||0)),0),se=Object.values(Ee).reduce((ve,Re)=>Math.max(ve,Number((Re==null?void 0:Re.burst1s)||0)),0),je=Object.values(Ee).reduce((ve,Re)=>Math.max(ve,Number((Re==null?void 0:Re.burst5s)||0)),0),Ce=Object.values(Ee).reduce((ve,Re)=>Math.max(ve,Number((Re==null?void 0:Re.burst30s)||0)),0);we.push({id:pe.filePath||pe.id||`fight-${Ne+1}`,shortLabel:`F${Ne+1}`,fullLabel:Ie,timestamp:Ta(ke,pe),values:Ee,maxHit:U,max1s:se,max5s:je,max30s:Ce})});const Wt=Array.from(Z.values()).sort((pe,Ne)=>Ne.peakHit!==pe.peakHit?Ne.peakHit-pe.peakHit:pe.displayName.localeCompare(Ne.displayName));return{fights:we,players:Wt}})(),Sy=Array.from(B.entries()).map(([D,q])=>{const ne=$.get(D)||{},we=Array.from(q.values()).map(Z=>{var De,Le;const st=Array.from(Z.professions||[]).filter(He=>He&&He!=="Unknown");let yt=Z.profession||"Unknown";if(st.length>0){yt=st[0];let He=((De=Z.professionTimeMs)==null?void 0:De[yt])||0;st.forEach(ot=>{var Et;const Wt=((Et=Z.professionTimeMs)==null?void 0:Et[ot])||0;Wt>He&&(He=Wt,yt=ot)})}const ht=Z.durationMs||0,Bt=Z.totalMs/1e3,hn=ht>0?Z.totalMs/ht:0,un=((Le=L.get(Z.account))==null?void 0:Le.supportActiveMs)||ht,Je=un>0?Z.uptimeMs/un:0;return{account:Z.account,profession:yt,professionList:st,total:Bt,perSecond:hn,uptimePerSecond:Je,duration:ht/1e3}}).filter(Z=>Z.total>0||Z.perSecond>0);return{id:D,name:ne.name||D,icon:ne.icon,rows:we}}).filter(D=>D.rows.length>0),Ny=Array.from(z.values()).map(D=>{const q=Array.from(D.skills.values()).sort((we,Z)=>Z.damage-we.damage),ne=q.reduce((we,Z)=>(we[Z.id]=Z,we),{});return{key:D.key,account:D.account,displayName:D.displayName,profession:D.profession,professionList:D.professionList,totalFightMs:D.totalFightMs,skills:q,skillMap:ne}}).sort((D,q)=>D.displayName.localeCompare(q.displayName));return{total:h,wins:y,losses:x,avgSquadSize:he,avgEnemies:Fe,squadKDR:Tt,enemyKDR:_t,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:cn,...za,outgoingConditionSummary:Object.values(G).sort((D,q)=>q.damage-D.damage),incomingConditionSummary:Object.values(J).sort((D,q)=>q.damage-D.damage),outgoingConditionPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.outgoingConditions})),incomingConditionPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.incomingConditions})),topSkills:Ic,topIncomingSkills:_c,topSkillsByDamage:Oc,topSkillsByDownContribution:Dc,playerSkillBreakdowns:Ny,topSkillsMetric:m,mapData:Lt,timelineData:pt,boonTables:kt,offensePlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,offenseTotals:D.offenseTotals,offenseRateWeights:D.offenseRateWeights,totalFightMs:D.totalFightMs})),defensePlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,defenseTotals:D.defenseTotals,activeMs:D.defenseActiveMs})),damageMitigationPlayers:ja,damageMitigationMinions:Ei,supportPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,supportTotals:D.supportTotals,activeMs:D.supportActiveMs})),healingPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,healingTotals:D.healingTotals,activeMs:D.healingActiveMs})),mvp:si,silver:Ai,bronze:Tc,squadClassData:vn,enemyClassData:_e,fightBreakdown:on,fightDiffMode:en,attendanceData:$n,squadCompByFight:Ma,spikeDamage:Ho,incomingStrikeDamage:cd,specialTables:Sy,topStatsPerSecond:Ca,topStatsLeaderboardsPerSecond:Pr,avgMvpScore:Cl}})(),d=(()=>{const f=new Map,p=new Map,m=[],h=new Map,y=new Map;i.forEach(g=>{const b=g.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=Ta(b,g)||Date.now(),N={id:g.filePath||g.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(M=>{if(M.notInSquad)return;const T=M.account||M.name||"Unknown",L=M.profession||"Unknown",A=`${T}|${L}`;let P=p.get(A);P||(P={key:A,account:T,displayName:T,profession:L,professionList:[L],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(A,P)),P.logs++;const I=(Array.isArray(M.activeTimes)?M.activeTimes[0]:0)/1e3;P.totalActiveSeconds=(P.totalActiveSeconds||0)+I,N.playerActiveSeconds[A]=I,(M.rotation||[]).forEach(z=>{var G,J,ce;if(!(z!=null&&z.id))return;const $=((G=z.skills)==null?void 0:G.length)||0;if($<=0)return;const B=`s${z.id}`,re=((J=w[B])==null?void 0:J.name)||`Skill ${z.id}`,k=(ce=w[B])==null?void 0:ce.icon;P.skillTotals[B]=(P.skillTotals[B]||0)+$,f.set(B,(f.get(B)||0)+$),h.set(B,re),k&&!y.has(B)&&y.set(B,k),N.skillEntries[B]||(N.skillEntries[B]={name:re,icon:k,players:{}}),!N.skillEntries[B].icon&&k&&(N.skillEntries[B].icon=k),N.skillEntries[B].players[A]=(N.skillEntries[B].players[A]||0)+$})}),m.push(N)});const x=Array.from(f.entries()).map(([g,b])=>({id:g,name:h.get(g)||g,total:b,icon:y.get(g)})).sort((g,b)=>b.total-g.total);return{logRecords:m,players:Array.from(p.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:i,stats:c,skillUsageData:d}},e8=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const m=new Set;let h=null,y=null;e.forEach(M=>{const T=M.details;if(!T)return;const L=T.timeStartStd||T.timeStart||T.uploadTime||M.uploadTime,A=T.timeEndStd||T.timeEnd||T.uploadTime||M.uploadTime,P=L?new Date(L):null,I=A?new Date(A):null;P&&!Number.isNaN(P.getTime())&&(!h||P<h)&&(h=P),I&&!Number.isNaN(I.getTime())&&(!y||I>y)&&(y=I),(T.players||[]).forEach(z=>{if(!(z!=null&&z.notInSquad)&&z!=null&&z.hasCommanderTag){const G=(z==null?void 0:z.name)||(z==null?void 0:z.account)||"Unknown";m.add(G)}})});const x=Array.from(m).sort((M,T)=>M.localeCompare(T)),g=h||new Date,b=y||g,w=g.toISOString(),S=b.toISOString(),C=`${g.toLocaleString()} - ${b.toLocaleString()}`,N=M=>String(M).padStart(2,"0");return{id:`${g.getFullYear()}${N(g.getMonth()+1)}${N(g.getDate())}-${N(g.getHours())}${N(g.getMinutes())}${N(g.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:x.length?x.join(", "):"Unknown Commander",commanders:x,dateStart:w,dateEnd:S,dateLabel:C,generatedAt:new Date().toISOString()}},p=()=>{var m;const h={...t,skillUsageData:n,statsViewSettings:r,uiTheme:a};if(Array.isArray(h.fightDiffMode)&&h.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return h;try{const y=Zm({logs:e,statsViewSettings:r}),x=(m=y==null?void 0:y.stats)==null?void 0:m.fightDiffMode;if(Array.isArray(x)&&x.length>0)return{...h,fightDiffMode:x}}catch{}return h};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const m=f(),h=p();await o({meta:m,stats:h})}catch(m){console.error("[StatsView] Web upload failed:",m)}},handleDevMockUpload:async()=>{var m;if(!(i||!((m=window.electronAPI)!=null&&m.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const h=f(),y=p(),x=await window.electronAPI.mockWebReport({meta:h,stats:y});x!=null&&x.success?l({uploading:!1,message:"Local report ready.",url:x.url||null}):l({uploading:!1,message:(x==null?void 0:x.error)||"Local report failed.",url:null})}catch(h){l({uploading:!1,message:(h==null?void 0:h.message)||"Local report failed.",url:null})}}}}};function t8(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const n8=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ll(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Sd=null;function kO(e={}){return Sd||(e.includeStyleProperties?(Sd=e.includeStyleProperties,Sd):(Sd=ll(window.getComputedStyle(document.documentElement)),Sd))}function Fh(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function r8(e){const t=Fh(e,"border-left-width"),n=Fh(e,"border-right-width");return e.clientWidth+t+n}function a8(e){const t=Fh(e,"border-top-width"),n=Fh(e,"border-bottom-width");return e.clientHeight+t+n}function SO(e,t={}){const n=t.width||r8(e),r=t.height||a8(e);return{width:n,height:r}}function i8(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const fi=16384;function o8(e){(e.width>fi||e.height>fi)&&(e.width>fi&&e.height>fi?e.width>e.height?(e.height*=fi/e.width,e.width=fi):(e.width*=fi/e.height,e.height=fi):e.width>fi?(e.height*=fi/e.width,e.width=fi):(e.width*=fi/e.height,e.height=fi))}function Rh(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function s8(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function l8(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),s8(a)}const ei=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ei(n,t)};function c8(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function u8(e,t){return kO(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function d8(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?c8(n):u8(n,r);return document.createTextNode(`${a}{${i}}`)}function J2(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=n8();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(d8(o,n,a,r)),t.appendChild(s)}function f8(e,t,n){J2(e,t,":before",n),J2(e,t,":after",n)}const ej="application/font-woff",tj="image/jpeg",p8={woff:ej,woff2:ej,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:tj,jpeg:tj,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function m8(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function C1(e){const t=m8(e).toLowerCase();return p8[t]||""}function h8(e){return e.split(/,/)[1]}function Gb(e){return e.search(/^(data:)/)!==-1}function g8(e,t){return`data:${t};base64,${e}`}async function NO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const ev={};function y8(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function M1(e,t,n){const r=y8(e,t,n.includeQueryParams);if(ev[r]!=null)return ev[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await NO(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),h8(s)));a=g8(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return ev[r]=a,a}async function v8(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Rh(t)}async function b8(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Rh(s)}const n=e.poster,r=C1(n),a=await M1(n,r,t);return Rh(a)}async function x8(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await u0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function w8(e,t){return ei(e,HTMLCanvasElement)?v8(e):ei(e,HTMLVideoElement)?b8(e,t):ei(e,HTMLIFrameElement)?x8(e,t):e.cloneNode(jO(e))}const k8=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",jO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function S8(e,t,n){var r,a;if(jO(t))return t;let i=[];return k8(e)&&e.assignedNodes?i=ll(e.assignedNodes()):ei(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=ll(e.contentDocument.body.childNodes):i=ll(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||ei(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>u0(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function N8(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):kO(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),ei(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function j8(e,t){ei(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ei(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function C8(e,t){if(ei(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function M8(e,t,n){return ei(t,Element)&&(N8(e,t,n),f8(e,t,n),j8(e,t),C8(e,t)),t}async function E8(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await u0(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function u0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>w8(r,t)).then(r=>S8(e,r,t)).then(r=>M8(e,r,t)).then(r=>E8(r,t))}const CO=/url\((['"]?)([^'"]+?)\1\)/g,A8=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,P8=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function T8(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function O8(e){const t=[];return e.replace(CO,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Gb(n))}async function D8(e,t,n,r,a){try{const i=n?t8(t,n):t,o=C1(t);let s;return a||(s=await M1(i,o,r)),e.replace(T8(t),`$1${s}$3`)}catch{}return e}function I8(e,{preferredFontFormat:t}){return t?e.replace(P8,n=>{for(;;){const[r,,a]=A8.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function MO(e){return e.search(CO)!==-1}async function EO(e,t,n){if(!MO(e))return e;const r=I8(e,n);return O8(r).reduce((a,i)=>a.then(o=>D8(o,i,t,n)),Promise.resolve(r))}async function Wc(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await EO(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function _8(e,t){await Wc("background",e,t)||await Wc("background-image",e,t),await Wc("mask",e,t)||await Wc("-webkit-mask",e,t)||await Wc("mask-image",e,t)||await Wc("-webkit-mask-image",e,t)}async function L8(e,t){const n=ei(e,HTMLImageElement);if(!(n&&!Gb(e.src))&&!(ei(e,SVGImageElement)&&!Gb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await M1(r,C1(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(c){o(c)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function F8(e,t){const n=ll(e.childNodes).map(r=>AO(r,t));await Promise.all(n).then(()=>e)}async function AO(e,t){ei(e,Element)&&(await _8(e,t),await L8(e,t),await F8(e,t))}function R8(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const nj={};async function rj(e){let t=nj[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},nj[e]=t,t}async function aj(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),NO(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function ij(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function $8(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{ll(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,c=rj(l).then(d=>aj(d,t)).then(d=>ij(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(rj(a.href).then(s=>aj(s,t)).then(s=>ij(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{ll(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function B8(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>MO(t.style.getPropertyValue("src")))}async function U8(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=ll(e.ownerDocument.styleSheets),r=await $8(n,t);return B8(r)}function PO(e){return e.trim().replace(/["']/g,"")}function z8(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(PO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function V8(e,t){const n=await U8(e,t),r=z8(e);return(await Promise.all(n.filter(a=>r.has(PO(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return EO(a.cssText,i,t)}))).join(`
`)}async function q8(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await V8(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function W8(e,t={}){const{width:n,height:r}=SO(e,t),a=await u0(e,t,!0);return await q8(a,t),await AO(a,t),R8(a,t),await l8(a,n,r)}async function H8(e,t={}){const{width:n,height:r}=SO(e,t),a=await W8(e,t),i=await Rh(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||i8(),c=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=c*l,o.height=d*l,t.skipAutoScale||o8(o),o.style.width=`${c}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function K8(e,t={}){return(await H8(e,t)).toDataURL()}const Y8=e=>{const[t,n]=v.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=c,globalThis.fetch=c;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],c=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const y=await c(h);if(!y)return;const x=p.src,g=p.srcset;p.src=y,p.srcset="",l.push(()=>{p.src=x,p.srcset=g});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let y=m,x=!1;for(const b of h){const w=b[1];if(!w)continue;const S=await c(w);S&&(y=y.replace(b[0],`url("${S}")`),x=!0)}if(!x)return;const g=p.style.backgroundImage;p.style.backgroundImage=y,l.push(()=>{p.style.backgroundImage=g})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const c=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>K8(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{c(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},G8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=v.useState(()=>Zm(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,c]=v.useState(0),[d,f]=v.useState(0),[p,m]=v.useState(0),[h,y]=v.useState(0),[x,g]=v.useState(null),b=v.useRef(0),[w,S]=v.useState(0),C=v.useRef(null),N=v.useRef(null),[M,T]=v.useState(!1),L=v.useRef(null),A=v.useRef(""),P=v.useRef(void 0),I=v.useRef(""),z=v.useMemo(()=>{if(!r){A.current="",P.current=void 0;return}const $={...r};delete $.topSkillsMetric;const B=JSON.stringify($);return A.current!==B&&(A.current=B,P.current=$),P.current},[r]),G=v.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:z,disruptionMethod:a}),[e,t,n,z,a]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!M&&i)return N.current||(N.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-rADSbIxs-gvfKRnUq.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),N.current.onmessage=$=>{var B;((B=$.data)==null?void 0:B.type)==="result"&&(s($.data.result),typeof $.data.computeId=="number"?c($.data.computeId):c(re=>re+1),typeof $.data.logCount=="number"&&f($.data.logCount),typeof $.data.token=="number"&&m($.data.token),typeof $.data.completedAt=="number"&&y($.data.completedAt),typeof $.data.flushId=="number"&&g($.data.flushId))},N.current.onerror=$=>{var B;console.warn("[StatsWorker] Worker error. Falling back to main thread.",$),(B=N.current)==null||B.terminate(),N.current=null,T(!0)},N.current.onmessageerror=$=>{var B;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",$),(B=N.current)==null||B.terminate(),N.current=null,T(!0)},C.current!==null&&N.current.postMessage({type:"flush",flushId:C.current})),()=>{var $;($=N.current)==null||$.terminate(),N.current=null}},[M,i]),v.useEffect(()=>{var $;if(!(!N.current||M||!i))try{b.current+=1,S(b.current),N.current.postMessage({type:"reset",token:b.current}),N.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:z,disruptionMethod:a}}),L.current&&(window.clearTimeout(L.current),L.current=null);let B=0;const re=()=>{if(!N.current)return;const k=5;for(let O=0;O<k&&B<e.length;O+=1,B+=1)N.current.postMessage({type:"log",payload:e[B]});B<e.length?L.current=window.setTimeout(re,0):(L.current=null,N.current.postMessage({type:"flush"}))};re()}catch(B){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",B),($=N.current)==null||$.terminate(),N.current=null,T(!0)}},[G,e,t,n,z,a,i]);const J=v.useMemo(()=>!M&&typeof Worker<"u"&&i?null:Zm({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:z,disruptionMethod:a}),[M,e,t,n,z,a,i]),ce=v.useMemo(()=>{if(!M&&typeof Worker<"u"&&i)return"worker";const $=e[0],B=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:($==null?void 0:$.filePath)||($==null?void 0:$.name)||"",lastLogPath:(B==null?void 0:B.filePath)||(B==null?void 0:B.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:A.current})},[M,i,e,t,a]);return v.useEffect(()=>{!M&&typeof Worker<"u"&&i||I.current!==ce&&(I.current=ce,c($=>$+1),f(e.length),m(b.current),y(Date.now()))},[ce,M,e.length,i]),{result:M||typeof Worker>"u"||!i?J??Zm({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:z,disruptionMethod:a}):o,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:x,requestFlush:()=>{const $=Date.now();return C.current=$,N.current&&!M&&N.current.postMessage({type:"flush",flushId:$}),$}}},X8=e=>({apmSpecBuckets:v.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=oU(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),c=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=c;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,C])=>{const N=Number(C);if(!Number.isFinite(N)||N<=0)return;const M=n.get(S),T=(M==null?void 0:M.name)||S,L=M==null?void 0:M.icon,A=a(T,S);d+=N,A&&(f+=N);let P=s.skillMap.get(S);P||(P={id:S,name:T,icon:L,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,P)),!P.icon&&L&&(P.icon=L),P.totalCasts+=N;const I=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;P.playerCounts.set(I,N)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=c/60,h=m>0?d/m:0,y=Math.max(0,d-f),x=m>0?y/m:0,g=c>0?d/c:0,b=c>0?y/c:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:c,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:x,aps:g,apsNoAuto:b};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((c,d)=>d.apm-c.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(c=>{const d=i.playerRows.map(h=>{var y;const x=Number(((y=c.playerCounts)==null?void 0:y.get(h.key))||0);if(!Number.isFinite(x)||x<=0)return null;const g=Number(h.totalActiveSeconds||0),b=g>0?x/(g/60):0,w=g>0?x/g:0;return{...h,count:x,apm:b,aps:w}}).filter(Boolean).sort((h,y)=>y.apm-h.apm||String(h.displayName||"").localeCompare(String(y.displayName||""))),f=Number(c.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...c,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((c,d)=>d.totalCasts-c.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),Q8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const y=p.totalActiveSeconds||1;h=y>0?m/y:0}d.set(p.key,h)}),d},[e.players,t,r]),o=v.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const y={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let x=!1,g=!1;if(Object.entries(h.players).forEach(([b,w])=>{var S;if(n.size>0&&!n.has(b))return;let C=w;if(f){const N=((S=p.playerActiveSeconds)==null?void 0:S[b])||0;C=N>0?w/N:0}y[b]=C,C>d&&(d=C),x=!0,g=!0}),n.size>0){if(!g)return null}else if(!x)return null;return n.forEach(b=>{y[b]===void 0&&(y[b]=0)}),y}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function TO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=TO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=TO(e))&&(r&&(r+=" "),r+=t);return r}var Z8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function E1(e){if(typeof e!="string")return!1;var t=Z8;return t.includes(e)}var J8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ez=new Set(J8);function OO(e){return typeof e!="string"?!1:ez.has(e)}function DO(e){return typeof e=="string"&&e.startsWith("data-")}function Gi(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OO(n)||DO(n))&&(t[n]=e[n]);return t}function _u(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Gi(t)}return typeof e=="object"&&!Array.isArray(e)?Gi(e):null}function Fa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OO(n)||DO(n)||E1(n))&&(t[n]=e[n]);return t}function tz(e){return e==null?null:v.isValidElement(e)?Fa(e.props):typeof e=="object"&&!Array.isArray(e)?Fa(e):null}var nz=["children","width","height","viewBox","className","style","title","desc"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function rz(e,t){if(e==null)return{};var n,r,a=az(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function az(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A1=v.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:c}=e,d=rz(e,nz),f=i||{width:r,height:a,x:0,y:0},p=jn("recharts-surface",o);return v.createElement("svg",Xb({},Fa(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),iz=["children","className"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function oz(e,t){if(e==null)return{};var n,r,a=sz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ti=v.forwardRef((e,t)=>{var{children:n,className:r}=e,a=oz(e,iz),i=jn("recharts-layer",r);return v.createElement("g",Qb({className:i},Fa(a),{ref:t}),n)}),IO=v.createContext(null),lz=()=>v.useContext(IO);function Qn(e){return function(){return e}}const _O=Math.cos,$h=Math.sin,ko=Math.sqrt,Bh=Math.PI,d0=2*Bh,Zb=Math.PI,Jb=2*Zb,Rl=1e-6,cz=Jb-Rl;function LO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function uz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return LO;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class dz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?LO:uz(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Rl)if(!(Math.abs(f*l-c*d)>Rl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,y=l*l+c*c,x=m*m+h*h,g=Math.sqrt(y),b=Math.sqrt(p),w=i*Math.tan((Zb-Math.acos((y+p-x)/(2*g*b)))/2),S=w/b,C=w/g;Math.abs(S-1)>Rl&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Rl||Math.abs(this._y1-d)>Rl)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%Jb+Jb),p>cz?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:p>Rl&&this._append`A${r},${r},0,${+(p>=Zb)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function P1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new dz(t)}function T1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FO(e){this._context=e}FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function f0(e){return new FO(e)}function RO(e){return e[0]}function $O(e){return e[1]}function BO(e,t){var n=Qn(!0),r=null,a=f0,i=null,o=P1(s);e=typeof e=="function"?e:e===void 0?RO:Qn(e),t=typeof t=="function"?t:t===void 0?$O:Qn(t);function s(l){var c,d=(l=T1(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,c,l),+t(f,c,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Qn(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Qn(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qn(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function mm(e,t,n){var r=null,a=Qn(!0),i=null,o=f0,s=null,l=P1(c);e=typeof e=="function"?e:e===void 0?RO:Qn(+e),t=typeof t=="function"?t:Qn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$O:Qn(+n);function c(f){var p,m,h,y=(f=T1(f)).length,x,g=!1,b,w=new Array(y),S=new Array(y);for(i==null&&(s=o(b=l())),p=0;p<=y;++p){if(!(p<y&&a(x=f[p],p,f))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}g&&(w[p]=+e(x,p,f),S[p]=+t(x,p,f),s.point(r?+r(x,p,f):w[p],n?+n(x,p,f):S[p]))}if(b)return s=null,b+""||null}function d(){return BO().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Qn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Qn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Qn(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class UO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function fz(e){return new UO(e,!0)}function pz(e){return new UO(e,!1)}const O1={draw(e,t){const n=ko(t/Bh);e.moveTo(n,0),e.arc(0,0,n,0,d0)}},mz={draw(e,t){const n=ko(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},zO=ko(1/3),hz=zO*2,gz={draw(e,t){const n=ko(t/hz),r=n*zO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},yz={draw(e,t){const n=ko(t),r=-n/2;e.rect(r,r,n,n)}},vz=.8908130915292852,VO=$h(Bh/10)/$h(7*Bh/10),bz=$h(d0/10)*VO,xz=-_O(d0/10)*VO,wz={draw(e,t){const n=ko(t*vz),r=bz*n,a=xz*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=d0*i/5,s=_O(o),l=$h(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},tv=ko(3),kz={draw(e,t){const n=-ko(t/(tv*3));e.moveTo(0,n*2),e.lineTo(-tv*n,-n),e.lineTo(tv*n,-n),e.closePath()}},Ii=-.5,_i=ko(3)/2,ex=1/ko(12),Sz=(ex/2+1)*3,Nz={draw(e,t){const n=ko(t/Sz),r=n/2,a=n*ex,i=r,o=n*ex+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Ii*r-_i*a,_i*r+Ii*a),e.lineTo(Ii*i-_i*o,_i*i+Ii*o),e.lineTo(Ii*s-_i*l,_i*s+Ii*l),e.lineTo(Ii*r+_i*a,Ii*a-_i*r),e.lineTo(Ii*i+_i*o,Ii*o-_i*i),e.lineTo(Ii*s+_i*l,Ii*l-_i*s),e.closePath()}};function jz(e,t){let n=null,r=P1(a);e=typeof e=="function"?e:Qn(e||O1),t=typeof t=="function"?t:Qn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Qn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Qn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Uh(){}function zh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qO(e){this._context=e}qO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cz(e){return new qO(e)}function WO(e){this._context=e}WO.prototype={areaStart:Uh,areaEnd:Uh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mz(e){return new WO(e)}function HO(e){this._context=e}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ez(e){return new HO(e)}function KO(e){this._context=e}KO.prototype={areaStart:Uh,areaEnd:Uh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Az(e){return new KO(e)}function oj(e){return e<0?-1:1}function sj(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(oj(i)+oj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function lj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function nv(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Vh(e){this._context=e}Vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nv(this,this._t0,lj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nv(this,lj(this,n=sj(this,e,t)),n);break;default:nv(this,this._t0,n=sj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function YO(e){this._context=new GO(e)}(YO.prototype=Object.create(Vh.prototype)).point=function(e,t){Vh.prototype.point.call(this,t,e)};function GO(e){this._context=e}GO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function Pz(e){return new Vh(e)}function Tz(e){return new YO(e)}function XO(e){this._context=e}XO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=cj(e),a=cj(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cj(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Oz(e){return new XO(e)}function p0(e,t){this._context=e,this._t=t}p0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Dz(e){return new p0(e,.5)}function Iz(e){return new p0(e,0)}function _z(e){return new p0(e,1)}function fc(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function tx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Lz(e,t){return e[t]}function Fz(e){const t=[];return t.key=e,t}function Rz(){var e=Qn([]),t=tx,n=fc,r=Lz;function a(i){var o=Array.from(e.apply(this,arguments),Fz),s,l=o.length,c=-1,d;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,i)]).data=f;for(s=0,d=T1(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Qn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Qn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?tx:typeof i=="function"?i:Qn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??fc,a):n},a}function $z(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}fc(e,t)}}function Bz(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}fc(e,t)}}function Uz(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var y=e[t[h]],x=y[r][1]||0,g=y[r-1][1]||0;m+=x-g}l+=f,c+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=c/l)}a[r-1][1]+=a[r-1][0]=n,fc(e,t)}}var m0={},QO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(QO);var D1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(D1);var h0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(h0);var g0={},ZO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(ZO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO,n=h0;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];c?f==="\\"&&s+1<o?(s++,l+=a[s]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(g0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QO,n=D1,r=h0,a=g0;function i(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?c:d}}}function o(s,l,c){if(l.length===0)return c;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=i})(m0);var zz=m0.get;const pc=wo(zz);var Vz=4;function Js(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vz,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Js(s)+i:a+i},"")}var wa=e=>e===0?0:e>0?1:-1,Uo=e=>typeof e=="number"&&e!=+e,ms=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,St=e=>(typeof e=="number"||e instanceof Number)&&!Uo(e),zo=e=>St(e)||typeof e=="string",qz=0,Pf=e=>{var t=++qz;return"".concat(e||"").concat(t)},Hi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!St(e)&&typeof e!="string")return n;var a;if(ms(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return Uo(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},JO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function xa(e,t,n){return St(e)&&St(t)?Js(e+n*(t-e)):t}function eD(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):pc(r,t))===n)}var Wr=e=>e===null||typeof e>"u",op=e=>Wr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Wz(e){return e!=null}function sp(){}var Hz=["type","size","sizeType"];function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nx.apply(null,arguments)}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){Kz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kz(e,t,n){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yz(e){var t=Gz(e,"string");return typeof t=="symbol"?t:t+""}function Gz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xz(e,t){if(e==null)return{};var n,r,a=Qz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tD={symbolCircle:O1,symbolCross:mz,symbolDiamond:gz,symbolSquare:yz,symbolStar:wz,symbolTriangle:kz,symbolWye:Nz},Zz=Math.PI/180,Jz=e=>{var t="symbol".concat(op(e));return tD[t]||O1},eV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Zz;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},tV=(e,t)=>{tD["symbol".concat(op(e))]=t},I1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=Xz(e,Hz),i=dj(dj({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=Jz(o),m=jz().type(p).size(eV(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:c,cy:d}=i,f=Fa(i);return St(c)&&St(d)&&St(n)?v.createElement("path",nx({},f,{className:jn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:s()})):null};I1.registerSymbol=tV;var nD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,_1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{E1(a)&&(r[a]=i=>n[a](n,i))}),r},nV=(e,t,n)=>r=>(e(t,n,r),null),L1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];E1(a)&&typeof i=="function"&&(r||(r={}),r[a]=nV(i,t,n))}),r};function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){aV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aV(e,t,n){return(t=iV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t){var n=rV({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(null,arguments)}function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){lV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lV(e,t,n){return(t=cV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ri=32,dV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function fV(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Ri/2,i=Ri/6,o=Ri/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:Ri,y2:a,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ri,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Ri/8,"h").concat(Ri,"v").concat(Ri*3/4,"h").concat(-Ri,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=sV({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(I1,{fill:s,cx:a,cy:a,size:Ri,sizeType:"diameter",type:l})}function pV(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Ri,height:Ri},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=jn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,y=p?p(d.value,d,f):d.value;return v.createElement("li",qh({className:m,style:l,key:"legend-item-".concat(f)},L1(e,d,f)),v.createElement(A1,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(y," legend icon")},v.createElement(fV,{data:d,iconType:o,inactiveColor:i})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},y))})}var mV=e=>{var t=Hr(e,dV),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},v.createElement(pV,qh({},t,{payload:n})))},rD={},aD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(aD);var iD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(iD);var F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(F1);var oD={},y0={},sD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(sD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sD;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(y0);var lD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(lD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0,n=lD;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(oD);var cD={},uD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0;function n(r){return function(a){return t.get(a,r)}}e.property=n})(uD);var dD={},R1={},fD={},$1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})($1);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(B1);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(U1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,n=B1,r=U1;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,y,x,g,b,w){const S=p(h,y,x,g,b,w);return S!==void 0?!!S:i(h,y,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return c(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<h.length;y++){const x=h[y];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!p(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,y]of f.entries()){const x=d.get(h);if(p(x,y,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let y=0;y<f.length;y++){const x=f[y];let g=!1;for(let b=0;b<d.length;b++){if(h.has(b))continue;const w=d[b];let S=!1;if(p(w,x,y,d,f,m)&&(S=!0),S){h.add(b),g=!0;break}}if(!g)return!1}return!0}function c(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=c})(fD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fD;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(R1);var pD={},z1={},mD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(mD);var v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(v0);var V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",y="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",M="[object Int32Array]",T="[object BigInt64Array]",L="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=y,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=L,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=M,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(V1);var hD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(hD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mD,n=v0,r=V1,a=B1,i=hD;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const y=h==null?void 0:h(d,f,p,m);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,b]of d)x.set(g,s(b,g,p,m,h));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(s(g,void 0,p,m,h));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,p,m,h),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,m,h),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,p,m,h),x}return d}function l(d,f,p=d,m,h){const y=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<y.length;x++){const g=y[x],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=s(f[g],g,p,m,h))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(z1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(pD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1,n=pD;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(dD);var gD={},yD={},vD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=v0,r=V1;function a(i,o){return t.cloneDeepWith(i,(s,l,c,d)=>{const f=o==null?void 0:o(s,l,c,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,c,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(vD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vD;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(yD);var bD={},q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(q1);var xD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(xD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D1,n=q1,r=xD,a=g0;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(bD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1,n=h0,r=yD,a=m0,i=bD;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const d=a.get(c,s);return d===void 0?i.has(c,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(gD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=uD,r=dD,a=gD;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(cD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aD,n=iD,r=F1,a=oD,i=cD;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(rD);var hV=rD.uniqBy;const mj=wo(hV);function wD(e,t,n){return t===!0?mj(e,n):typeof t=="function"?mj(e,t):e}var kD={exports:{}},SD={},ND={exports:{}},jD={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Lu=v;function gV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yV=typeof Object.is=="function"?Object.is:gV,vV=Lu.useState,bV=Lu.useEffect,xV=Lu.useLayoutEffect,wV=Lu.useDebugValue;function kV(e,t){var n=t(),r=vV({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return xV(function(){a.value=n,a.getSnapshot=t,rv(a)&&i({inst:a})},[e,n,t]),bV(function(){return rv(a)&&i({inst:a}),e(function(){rv(a)&&i({inst:a})})},[e]),wV(n),n}function rv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yV(e,n)}catch{return!0}}function SV(e,t){return t()}var NV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SV:kV;jD.useSyncExternalStore=Lu.useSyncExternalStore!==void 0?Lu.useSyncExternalStore:NV;ND.exports=jD;var jV=ND.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var b0=v,CV=jV;function MV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EV=typeof Object.is=="function"?Object.is:MV,AV=CV.useSyncExternalStore,PV=b0.useRef,TV=b0.useEffect,OV=b0.useMemo,DV=b0.useDebugValue;SD.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=PV(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=OV(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,EV(d,m))return h;var y=r(m);return a!==void 0&&a(h,y)?(d=m,h):(d=m,f=y)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=AV(e,i[0],i[1]);return TV(function(){o.hasValue=!0,o.value=s},[s]),DV(s),s};kD.exports=SD;var IV=kD.exports,W1=v.createContext(null),_V=e=>e,Wn=()=>{var e=v.useContext(W1);return e?e.store.dispatch:_V},Jm=()=>{},LV=()=>Jm,FV=(e,t)=>e===t;function wt(e){var t=v.useContext(W1);return IV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:LV,t?t.store.getState:Jm,t?t.store.getState:Jm,t?e:Jm,FV)}function RV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $V(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function BV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var hj=e=>Array.isArray(e)?e:[e];function UV(e){const t=Array.isArray(e[0])?e[0]:e;return BV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function zV(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var VV=class{constructor(e){this.value=e}deref(){return this.value}},qV=typeof WeakRef<"u"?WeakRef:VV,WV=0,gj=1;function hm(){return{s:WV,v:void 0,o:null,p:null}}function CD(e,t={}){let n=hm();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(h);x===void 0?(l=hm(),y.set(h,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(h);x===void 0?(l=hm(),y.set(h,l)):l=x}}const d=l;let f;if(l.s===gj)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new qV(f):f}return d.s=gj,d.v=f,f}return o.clearCache=()=>{n=hm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function HV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),RV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=CD,argsMemoizeOptions:h=[]}=d,y=hj(p),x=hj(h),g=UV(a),b=f(function(){return i++,c.apply(null,arguments)},...y),w=m(function(){o++;const S=zV(g,arguments);return s=b.apply(null,S),s},...x);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var fe=HV(CD),KV=Object.assign((e,t=fe)=>{$V(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>KV}),MD={},ED={},AD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(AD);var PD={},H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(H1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(PD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AD,n=PD,r=g0;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let h=p;for(let y=0;y<m.length&&h!=null;++y)h=h[m[y]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const y=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=a})(ED);var TD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const d=s[c];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(TD);var K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,n=y0,r=$1,a=U1;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(K1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ED,n=TD,r=K1;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(MD);var YV=MD.sortBy;const x0=wo(YV);var OD=e=>e.legend.settings,GV=e=>e.legend.size,XV=e=>e.legend.payload,QV=fe([XV,OD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?x0(r,n):r});function ZV(){return wt(QV)}var gm=1;function DD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>gm||Math.abs(o.left-t.left)>gm||Math.abs(o.top-t.top)>gm||Math.abs(o.width-t.width)>gm)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function sa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JV=typeof Symbol=="function"&&Symbol.observable||"@@observable",yj=JV,av=()=>Math.random().toString(36).substring(7).split("").join("."),e7={INIT:`@@redux/INIT${av()}`,REPLACE:`@@redux/REPLACE${av()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${av()}`},Wh=e7;function Y1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ID(e,t,n){if(typeof e!="function")throw new Error(sa(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sa(1));return n(ID)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((y,x)=>{o.set(x,y)}))}function d(){if(l)throw new Error(sa(3));return a}function f(y){if(typeof y!="function")throw new Error(sa(4));if(l)throw new Error(sa(5));let x=!0;c();const g=s++;return o.set(g,y),function(){if(x){if(l)throw new Error(sa(6));x=!1,c(),o.delete(g),i=null}}}function p(y){if(!Y1(y))throw new Error(sa(7));if(typeof y.type>"u")throw new Error(sa(8));if(typeof y.type!="string")throw new Error(sa(17));if(l)throw new Error(sa(9));try{l=!0,a=r(a,y)}finally{l=!1}return(i=o).forEach(x=>{x()}),y}function m(y){if(typeof y!="function")throw new Error(sa(10));r=y,p({type:Wh.REPLACE})}function h(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(sa(11));function g(){const b=x;b.next&&b.next(d())}return g(),{unsubscribe:y(g)}},[yj](){return this}}}return p({type:Wh.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[yj]:h}}function t7(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Wh.INIT})>"u")throw new Error(sa(12));if(typeof n(void 0,{type:Wh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sa(13))})}function _D(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{t7(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(sa(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function Hh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function n7(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(sa(15))};const o={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},s=e.map(l=>l(o));return i=Hh(...s)(a.dispatch),{...a,dispatch:i}}}function LD(e){return Y1(e)&&"type"in e&&typeof e.type=="string"}var FD=Symbol.for("immer-nothing"),vj=Symbol.for("immer-draftable"),Ra=Symbol.for("immer-state");function so(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bi=Object,Fu=bi.getPrototypeOf,Kh="constructor",w0="prototype",rx="configurable",Yh="enumerable",eh="writable",Tf="value",hs=e=>!!e&&!!e[Ra];function yo(e){var t;return e?RD(e)||S0(e)||!!e[vj]||!!((t=e[Kh])!=null&&t[vj])||N0(e)||j0(e):!1}var r7=bi[w0][Kh].toString(),bj=new WeakMap;function RD(e){if(!e||!G1(e))return!1;const t=Fu(e);if(t===null||t===bi[w0])return!0;const n=bi.hasOwnProperty.call(t,Kh)&&t[Kh];if(n===Object)return!0;if(!Qc(n))return!1;let r=bj.get(n);return r===void 0&&(r=Function.toString.call(n),bj.set(n,r)),r===r7}function k0(e,t,n=!0){lp(e)===0?(n?Reflect.ownKeys(e):bi.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function lp(e){const t=e[Ra];return t?t.type_:S0(e)?1:N0(e)?2:j0(e)?3:0}var xj=(e,t,n=lp(e))=>n===2?e.has(t):bi[w0].hasOwnProperty.call(e,t),ax=(e,t,n=lp(e))=>n===2?e.get(t):e[t],Gh=(e,t,n,r=lp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function a7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var S0=Array.isArray,N0=e=>e instanceof Map,j0=e=>e instanceof Set,G1=e=>typeof e=="object",Qc=e=>typeof e=="function",iv=e=>typeof e=="boolean";function i7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Xo=e=>e.copy_||e.base_,X1=e=>e.modified_?e.copy_:e.base_;function ix(e,t){if(N0(e))return new Map(e);if(j0(e))return new Set(e);if(S0(e))return Array[w0].slice.call(e);const n=RD(e);if(t===!0||t==="class_only"&&!n){const r=bi.getOwnPropertyDescriptors(e);delete r[Ra];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[eh]===!1&&(s[eh]=!0,s[rx]=!0),(s.get||s.set)&&(r[o]={[rx]:!0,[eh]:!0,[Yh]:s[Yh],[Tf]:e[o]})}return bi.create(Fu(e),r)}else{const r=Fu(e);if(r!==null&&n)return{...e};const a=bi.create(r);return bi.assign(a,e)}}function Q1(e,t=!1){return C0(e)||hs(e)||!yo(e)||(lp(e)>1&&bi.defineProperties(e,{set:ym,add:ym,clear:ym,delete:ym}),bi.freeze(e),t&&k0(e,(n,r)=>{Q1(r,!0)},!1)),e}function o7(){so(2)}var ym={[Tf]:o7};function C0(e){return e===null||!G1(e)?!0:bi.isFrozen(e)}var Xh="MapSet",ox="Patches",wj="ArrayMethods",$D={};function mc(e){const t=$D[e];return t||so(0,e),t}var kj=e=>!!$D[e],Of,BD=()=>Of,s7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:kj(Xh)?mc(Xh):void 0,arrayMethodsPlugin_:kj(wj)?mc(wj):void 0});function Sj(e,t){t&&(e.patchPlugin_=mc(ox),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sx(e){lx(e),e.drafts_.forEach(l7),e.drafts_=null}function lx(e){e===Of&&(Of=e.parent_)}var Nj=e=>Of=s7(Of,e);function l7(e){const t=e[Ra];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ra].modified_&&(sx(t),so(4)),yo(e)&&(e=Cj(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Ra].base_,e,t)}else e=Cj(t,n);return c7(t,e,!0),sx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==FD?e:void 0}function Cj(e,t){if(C0(t))return t;const n=t[Ra];if(!n)return Qh(t,e.handledSet_,e);if(!M0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);VD(n,e)}return n.copy_}function c7(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Q1(t,n)}function UD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var M0=(e,t)=>e.scope_===t,u7=[];function zD(e,t,n,r){const a=Xo(e),i=e.type_;if(r!==void 0&&ax(a,r,i)===t){Gh(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;k0(a,(l,c)=>{if(hs(c)){const d=s.get(c)||[];d.push(l),s.set(c,d)}})}const o=e.draftLocations_.get(t)??u7;for(const s of o)Gh(a,s,n,i)}function d7(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!M0(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=X1(i);zD(e,i.draft_??i,o,n),VD(i,r)})}function VD(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}UD(e)}}function f7(e,t,n){const{scope_:r}=e;if(hs(n)){const a=n[Ra];M0(a,r)&&a.callbacks_.push(function(){th(e);const i=X1(a);zD(e,n,i,t)})}else yo(n)&&e.callbacks_.push(function(){const a=Xo(e);e.type_===3?a.has(n)&&Qh(n,r.handledSet_,r):ax(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Qh(ax(e.copy_,t,e.type_),r.handledSet_,r)})}function Qh(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||hs(e)||t.has(e)||!yo(e)||C0(e)||(t.add(e),k0(e,(r,a)=>{if(hs(a)){const i=a[Ra];if(M0(i,n)){const o=X1(i);Gh(e,r,o,e.type_),UD(i)}}else yo(a)&&Qh(a,t,n)})),e}function p7(e,t){const n=S0(e),r={type_:n?1:0,scope_:t?t.scope_:BD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=Zh;n&&(a=[r],i=Df);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var Zh={get(e,t){if(t===Ra)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Xo(e);if(!xj(a,t,e.type_))return m7(e,a,t);const i=a[t];if(e.finalized_||!yo(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&i7(t))return i;if(i===ov(e.base_,t)){th(e);const o=e.type_===1?+t:t,s=ux(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in Xo(e)},ownKeys(e){return Reflect.ownKeys(Xo(e))},set(e,t,n){const r=qD(Xo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=ov(Xo(e),t),i=a==null?void 0:a[Ra];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(a7(n,a)&&(n!==void 0||xj(e.base_,t,e.type_)))return!0;th(e),cx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),f7(e,t,n)),!0},deleteProperty(e,t){return th(e),ov(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),cx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Xo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[eh]:!0,[rx]:e.type_!==1||t!=="length",[Yh]:r[Yh],[Tf]:n[t]}},defineProperty(){so(11)},getPrototypeOf(e){return Fu(e.base_)},setPrototypeOf(){so(12)}},Df={};for(let e in Zh){let t=Zh[e];Df[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Df.deleteProperty=function(e,t){return Df.set.call(this,e,t,void 0)};Df.set=function(e,t,n){return Zh.set.call(this,e[0],t,n,e[0])};function ov(e,t){const n=e[Ra];return(n?Xo(n):e)[t]}function m7(e,t,n){var r;const a=qD(t,n);return a?Tf in a?a[Tf]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function qD(e,t){if(!(t in e))return;let n=Fu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fu(n)}}function cx(e){e.modified_||(e.modified_=!0,e.parent_&&cx(e.parent_))}function th(e){e.copy_||(e.assigned_=new Map,e.copy_=ix(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var h7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Qc(t)&&!Qc(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}Qc(n)||so(6),r!==void 0&&!Qc(r)&&so(7);let a;if(yo(t)){const i=Nj(this),o=ux(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?sx(i):lx(i)}return Sj(i,r),jj(a,i)}else if(!t||!G1(t)){if(a=n(t),a===void 0&&(a=t),a===FD&&(a=void 0),this.autoFreeze_&&Q1(a,!0),r){const i=[],o=[];mc(ox).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else so(1,t)},this.produceWithPatches=(t,n)=>{if(Qc(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},iv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),iv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),iv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yo(e)||so(8),hs(e)&&(e=po(e));const t=Nj(this),n=ux(t,e,void 0);return n[Ra].isManual_=!0,lx(t),n}finishDraft(e,t){const n=e&&e[Ra];(!n||!n.isManual_)&&so(9);const{scope_:r}=n;return Sj(r,t),jj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=mc(ox).applyPatches_;return hs(e)?r(e,t):this.produce(e,a=>r(a,t))}};function ux(e,t,n,r){const[a,i]=N0(t)?mc(Xh).proxyMap_(t,n):j0(t)?mc(Xh).proxySet_(t,n):p7(t,n);return((n==null?void 0:n.scope_)??BD()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?d7(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function po(e){return hs(e)||so(10,e),WD(e)}function WD(e){if(!yo(e)||C0(e))return e;const t=e[Ra];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ix(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ix(e,!0);return k0(n,(a,i)=>{Gh(n,a,WD(i))},r),t&&(t.finalized_=!1),n}var g7=new h7,HD=g7.produce;function KD(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var y7=KD(),v7=KD,b7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hh:Hh.apply(null,arguments)};function Xi(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(wi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>LD(r)&&r.type===e,n}var YD=class Ud extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ud.prototype)}static get[Symbol.species](){return Ud}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ud(...t[0].concat(this)):new Ud(...t.concat(this))}};function Mj(e){return yo(e)?HD(e,()=>{}):e}function vm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function x7(e){return typeof e=="boolean"}var w7=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new YD;return t&&(x7(t)?i.push(y7):i.push(v7(t.extraArgument))),i},GD="RTK_autoBatch",ir=()=>e=>({payload:e,meta:{[GD]:!0}}),Ej=e=>t=>{setTimeout(t,e)},XD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ej(10):e.type==="callback"?e.queueNotification:Ej(e.timeout),c=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[GD]),i=!a,i&&(o||(o=!0,l(c))),r.dispatch(d)}finally{a=!0}}})},k7=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new YD(e);return n&&r.push(XD(typeof n=="object"?n:void 0)),r};function S7(e){const t=w7(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(Y1(n))s=_D(n);else throw new Error(wi(1));let l;typeof r=="function"?l=r(t):l=t();let c=Hh;a&&(c=b7({trace:!1,...typeof a=="object"&&a}));const d=n7(...l),f=k7(d);let p=typeof o=="function"?o(f):f();const m=c(...p);return ID(s,i,m)}function QD(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(wi(28));if(s in t)throw new Error(wi(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function N7(e){return typeof e=="function"}function j7(e,t){let[n,r,a]=QD(t),i;if(N7(e))i=()=>Mj(e());else{const s=Mj(e);i=()=>s}function o(s=i(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(hs(d)){const p=f(d,l);return p===void 0?d:p}else{if(yo(d))return HD(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var C7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",M7=(e=21)=>{let t="",n=e;for(;n--;)t+=C7[Math.random()*64|0];return t},E7=Symbol.for("rtk-slice-createasyncthunk");function A7(e,t){return`${e}/${t}`}function P7({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[E7];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(wi(11));const o=(typeof r.reducers=="function"?r.reducers(O7()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,S){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(wi(12));if(C in l.sliceCaseReducersByType)throw new Error(wi(13));return l.sliceCaseReducersByType[C]=S,c},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),c},exposeAction(w,S){return l.actionCreators[w]=S,c},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,c}};s.forEach(w=>{const S=o[w],C={reducerName:w,type:A7(a,w),createNotation:typeof r.reducers=="function"};I7(S)?L7(C,S,c,n):D7(C,S,c)});function d(){const[w={},S=[],C=void 0]=typeof r.extraReducers=="function"?QD(r.extraReducers):[r.extraReducers],N={...w,...l.sliceCaseReducersByType};return j7(r.initialState,M=>{for(let T in N)M.addCase(T,N[T]);for(let T of l.sliceMatchers)M.addMatcher(T.matcher,T.reducer);for(let T of S)M.addMatcher(T.matcher,T.reducer);C&&M.addDefaultCase(C)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function y(w,S){return h||(h=d()),h(w,S)}function x(){return h||(h=d()),h.getInitialState()}function g(w,S=!1){function C(M){let T=M[w];return typeof T>"u"&&S&&(T=vm(m,C,x)),T}function N(M=f){const T=vm(p,S,()=>new WeakMap);return vm(T,M,()=>{const L={};for(const[A,P]of Object.entries(r.selectors??{}))L[A]=T7(P,M,()=>vm(m,M,x),S);return L})}return{reducerPath:w,getSelectors:N,get selectors(){return N(C)},selectSlice:C}}const b={name:a,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...g(i),injectInto(w,{reducerPath:S,...C}={}){const N=S??i;return w.inject({reducerPath:N,reducer:y},C),{...b,...g(N,!0)}}};return b}}function T7(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var ai=P7();function O7(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function D7({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!_7(r))throw new Error(wi(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Xi(e,o):Xi(e))}function I7(e){return e._reducerDefinitionType==="asyncThunk"}function _7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function L7({type:e,reducerName:t},n,r,a){if(!a)throw new Error(wi(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||bm,pending:s||bm,rejected:l||bm,settled:c||bm})}function bm(){}var F7="task",ZD="listener",JD="completed",Z1="cancelled",R7=`task-${Z1}`,$7=`task-${JD}`,dx=`${ZD}-${Z1}`,B7=`${ZD}-${JD}`,E0=class{constructor(e){ON(this,"name","TaskAbortError"),ON(this,"message"),this.code=e,this.message=`${F7} ${Z1} (reason: ${e})`}},J1=(e,t)=>{if(typeof e!="function")throw new TypeError(wi(32))},Jh=()=>{},e3=(e,t=Jh)=>(e.catch(t),e),t3=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rc=e=>{if(e.aborted)throw new E0(e.reason)};function n3(e,t){let n=Jh;return new Promise((r,a)=>{const i=()=>a(new E0(e.reason));if(e.aborted){i();return}n=t3(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Jh})}var U7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof E0?"cancelled":"rejected",error:n}}finally{t==null||t()}},eg=e=>t=>e3(n3(e,t).then(n=>(rc(e),n))),r3=e=>{const t=eg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Su}=Object,Aj={},A0="listenerMiddleware",z7=(e,t)=>{const n=r=>t3(e,()=>r.abort(e.reason));return(r,a)=>{J1(r);const i=new AbortController;n(i);const o=U7(async()=>{rc(e),rc(i.signal);const s=await r({pause:eg(i.signal),delay:r3(i.signal),signal:i.signal});return rc(i.signal),s},()=>i.abort($7));return a!=null&&a.autoJoin&&t.push(o.catch(Jh)),{result:eg(e)(o),cancel(){i.abort(R7)}}}},V7=(e,t)=>{const n=async(r,a)=>{rc(t);let i=()=>{};const o=[new Promise((s,l)=>{let c=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{c(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await n3(t,Promise.race(o));return rc(t),s}finally{i()}};return(r,a)=>e3(n(r,a))},a3=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=Xi(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(wi(21));return J1(i),{predicate:a,type:t,effect:i}},i3=Su(e=>{const{type:t,predicate:n,effect:r}=a3(e);return{id:M7(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wi(22))}}},{withTypes:()=>i3}),Pj=(e,t)=>{const{type:n,effect:r,predicate:a}=a3(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},fx=e=>{e.pending.forEach(t=>{t.abort(dx)})},q7=(e,t)=>()=>{for(const n of t.keys())fx(n);e.clear()},Tj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},o3=Su(Xi(`${A0}/add`),{withTypes:()=>o3}),W7=Xi(`${A0}/removeAll`),s3=Su(Xi(`${A0}/remove`),{withTypes:()=>s3}),H7=(...e)=>{console.error(`${A0}/error`,...e)},cp=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=H7}=e;J1(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&fx(p)}),l=p=>{const m=Pj(t,p)??i3(p);return s(m)};Su(l,{withTypes:()=>l});const c=p=>{const m=Pj(t,p);return m&&(m.unsubscribe(),p.cancelActive&&fx(m)),!!m};Su(c,{withTypes:()=>c});const d=async(p,m,h,y)=>{const x=new AbortController,g=V7(l,x.signal),b=[];try{p.pending.add(x),r(p),await Promise.resolve(p.effect(m,Su({},h,{getOriginalState:y,condition:(w,S)=>g(w,S).then(Boolean),take:g,delay:r3(x.signal),pause:eg(x.signal),extra:i,signal:x.signal,fork:z7(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,C)=>{w!==x&&(w.abort(dx),C.delete(w))})},cancel:()=>{x.abort(dx),p.pending.delete(x)},throwIfCancelled:()=>{rc(x.signal)}})))}catch(w){w instanceof E0||Tj(o,w,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(B7),a(p),p.pending.delete(x)}},f=q7(t,n);return{middleware:p=>m=>h=>{if(!LD(h))return m(h);if(o3.match(h))return l(h.payload);if(W7.match(h)){f();return}if(s3.match(h))return c(h.payload);let y=p.getState();const x=()=>{if(y===Aj)throw new Error(wi(23));return y};let g;try{if(g=m(h),t.size>0){const b=p.getState(),w=Array.from(t.values());for(const S of w){let C=!1;try{C=S.predicate(h,b,y)}catch(N){C=!1,Tj(o,N,{raisedBy:"predicate"})}C&&d(S,h,p,x)}}}finally{y=Aj}return g},startListening:l,stopListening:c,clearListeners:f}};function wi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},l3=ai({name:"chartLayout",initialState:K7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Y7,setLayout:G7,setChartSize:X7,setScale:Q7}=l3.actions,Z7=l3.reducer;function c3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Br(e){return Number.isFinite(e)}function Vo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(n),!0).forEach(function(r){J7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J7(e,t,n){return(t=e9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e9(e){var t=t9(e,"string");return typeof t=="symbol"?t:t+""}function t9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function er(e,t,n){return Wr(e)||Wr(t)?n:zo(t)?pc(e,t,n):typeof t=="function"?t(e):n}var n9=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&St(e[i]))return du(du({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&St(e[o]))return du(du({},e),{},{[o]:e[o]+(a||0)})}return e},xl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",u3=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},d3=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(y=m==="angleAxis"&&i&&i.length>=2?wa(i[0]-i[1])*2*y:y,f||p){var x=(f||p||[]).map((g,b)=>{var w=r?r.indexOf(g):g;return{coordinate:o(w)+y,value:g,offset:y,index:b}});return x.filter(g=>!Uo(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:o(g)+y,value:g,index:b,offset:y})):o.ticks&&d!=null?o.ticks(d).map((g,b)=>({coordinate:o(g)+y,value:g,offset:y,index:b})):o.domain().map((g,b)=>({coordinate:o(g)+y,value:r?r[g]:g,index:b,offset:y}))},Dj=1e-4,r9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Dj,i=Math.max(r[0],r[1])+Dj,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},a9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],c=l==null?void 0:l[a];if(c!=null){var d=c[1],f=c[0],p=Uo(d)?f:d;p>=0?(c[0]=i,c[1]=i+p,i=d):(c[0]=o,c[1]=o+p,o=d)}}}},i9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var c=Uo(l[1])?l[0]:l[1];c>=0?(l[0]=i,l[1]=i+c,i=l[1]):(l[0]=0,l[1]=0)}}}},o9={sign:a9,expand:$z,none:fc,silhouette:Bz,wiggle:Uz,positive:i9},s9=(e,t,n)=>{var r,a=(r=o9[n])!==null&&r!==void 0?r:fc,i=Rz().keys(t).value((s,l)=>Number(er(s,l,0))).order(tx).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((c,d)=>{var f=er(e[d],t[l],0);Array.isArray(f)&&f.length===2&&St(f[0])&&St(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function Ij(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Wr(a[t.dataKey])){var s=eD(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=er(a,Wr(o)?t.dataKey:o);return Wr(l)?null:t.scale(l)}var l9=e=>{var t=e.flat(2).filter(St);return[Math.min(...t),Math.max(...t)]},c9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],u9=(e,t,n)=>{if(e!=null)return c9(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,c)=>{var d=c3(c,t,n),f=l9(d);return!Br(f[0])||!Br(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},_j=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,px=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=x0(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function Fj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return du(du({},t),{},{dataKey:n,payload:r,value:a,name:i})}function P0(e,t){if(e)return String(e);if(typeof t=="string")return t}var d9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},f9=(e,t)=>t==="centric"?e.angle:e.radius,ks=e=>e.layout.width,Ss=e=>e.layout.height,p9=e=>e.layout.scale,f3=e=>e.layout.margin,T0=fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),O0=fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),p3="data-recharts-item-index",m3="data-recharts-item-id",up=60;function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){m9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m9(e,t,n){return(t=h9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y9=e=>e.brush.height;function v9(e){var t=O0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:up;return n+a}return n},0)}function b9(e){var t=O0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:up;return n+a}return n},0)}function x9(e){var t=T0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function w9(e){var t=T0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var na=fe([ks,Ss,f3,y9,v9,b9,x9,w9,OD,GV],(e,t,n,r,a,i,o,s,l,c)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=xm(xm({},f),d),m=p.bottom;p.bottom+=r,p=n9(p,l,c);var h=e-p.left-p.right,y=t-p.top-p.bottom;return xm(xm({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(y,0)})}),k9=fe(na,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),h3=fe(ks,Ss,(e,t)=>({x:0,y:0,width:e,height:t})),S9=v.createContext(null),ii=()=>v.useContext(S9)!=null,D0=e=>e.brush,I0=fe([D0,na,f3],(e,t,n)=>({height:e.height,x:St(e.x)?e.x:t.left,y:St(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:St(e.width)?e.width:t.width})),g3={},y3={},v3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&d(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{h(),o=void 0,s=null},x=()=>{d()},g=function(...b){if(a!=null&&a.aborted)return;o=this,s=b;const w=p==null;m(),l&&w&&d()};return g.schedule=m,g.cancel=y,g.flush=x,a==null||a.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(v3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v3;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...y){d=r.apply(this,y),f=null},a,{edges:c}),m=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,y),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(y3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y3;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(g3);var N9=g3.throttle;const j9=wo(N9);var tg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},b3=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=ms(r)?e:Number(r),l=ms(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},C9={width:0,height:0,overflow:"visible"},M9={width:0,overflowX:"visible"},E9={height:0,overflowY:"visible"},A9={},P9=e=>{var{width:t,height:n}=e,r=ms(t),a=ms(n);return r&&a?C9:r?M9:a?E9:A9};function T9(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mx.apply(null,arguments)}function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){O9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O9(e,t,n){return(t=D9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x3=v.createContext({width:-1,height:-1});function _9(e){return Vo(e.width)&&Vo(e.height)}function w3(e){var{children:t,width:n,height:r}=e,a=v.useMemo(()=>({width:n,height:r}),[n,r]);return _9(a)?v.createElement(x3.Provider,{value:a},t):null}var ek=()=>v.useContext(x3),L9=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,y=v.useRef(null),x=v.useRef();x.current=m,v.useImperativeHandle(t,()=>y.current);var[g,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((T,L)=>{b(A=>{var P=Math.round(T),I=Math.round(L);return A.containerWidth===P&&A.containerHeight===I?A:{containerWidth:P,containerHeight:I}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return sp;var T=I=>{var z,{width:G,height:J}=I[0].contentRect;w(G,J),(z=x.current)===null||z===void 0||z.call(x,G,J)};d>0&&(T=j9(T,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(T),{width:A,height:P}=y.current.getBoundingClientRect();return w(A,P),L.observe(y.current),()=>{L.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=g;tg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:M}=b3(S,C,{width:a,height:i,aspect:n,maxHeight:l});return tg(N!=null&&N>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,M,a,i,o,s,n),v.createElement("div",{id:f?"".concat(f):void 0,className:jn("recharts-responsive-container",p),style:Bj(Bj({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:y},v.createElement("div",{style:P9({width:a,height:i})},v.createElement(w3,{width:N,height:M},c)))}),hc=v.forwardRef((e,t)=>{var n=ek();if(Vo(n.width)&&Vo(n.height))return e.children;var{width:r,height:a}=T9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=b3(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return St(i)&&St(o)?v.createElement(w3,{width:i,height:o},e.children):v.createElement(L9,mx({},e,{width:r,height:a,ref:t}))});function k3(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var _0=()=>{var e,t=ii(),n=wt(k9),r=wt(I0),a=(e=wt(D0))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},F9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},S3=()=>{var e;return(e=wt(na))!==null&&e!==void 0?e:F9},tk=()=>wt(ks),nk=()=>wt(Ss),R9=()=>wt(e=>e.layout.margin),Dn=e=>e.layout.layoutType,dp=()=>wt(Dn),$9=()=>{var e=dp();return e!==void 0},L0=e=>{var t=Wn(),n=ii(),{width:r,height:a}=e,i=ek(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),v.useEffect(()=>{!n&&Vo(o)&&Vo(s)&&t(X7({width:o,height:s}))},[t,n,o,s]),null},N3=Symbol.for("immer-nothing"),Uj=Symbol.for("immer-draftable"),Ni=Symbol.for("immer-state");function lo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var If=Object.getPrototypeOf;function Ru(e){return!!e&&!!e[Ni]}function gc(e){var t;return e?j3(e)||Array.isArray(e)||!!e[Uj]||!!((t=e.constructor)!=null&&t[Uj])||fp(e)||R0(e):!1}var B9=Object.prototype.constructor.toString(),zj=new WeakMap;function j3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=zj.get(n);return r===void 0&&(r=Function.toString.call(n),zj.set(n,r)),r===B9}function ng(e,t,n=!0){F0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function F0(e){const t=e[Ni];return t?t.type_:Array.isArray(e)?1:fp(e)?2:R0(e)?3:0}function hx(e,t){return F0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function C3(e,t,n){const r=F0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function U9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function fp(e){return e instanceof Map}function R0(e){return e instanceof Set}function $l(e){return e.copy_||e.base_}function gx(e,t){if(fp(e))return new Map(e);if(R0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=j3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ni];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(If(e),r)}else{const r=If(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function rk(e,t=!1){return $0(e)||Ru(e)||!gc(e)||(F0(e)>1&&Object.defineProperties(e,{set:wm,add:wm,clear:wm,delete:wm}),Object.freeze(e),t&&Object.values(e).forEach(n=>rk(n,!0))),e}function z9(){lo(2)}var wm={value:z9};function $0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var V9={};function yc(e){const t=V9[e];return t||lo(0,e),t}var _f;function M3(){return _f}function q9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vj(e,t){t&&(yc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yx(e){vx(e),e.drafts_.forEach(W9),e.drafts_=null}function vx(e){e===_f&&(_f=e.parent_)}function qj(e){return _f=q9(_f,e)}function W9(e){const t=e[Ni];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Wj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ni].modified_&&(yx(t),lo(4)),gc(e)&&(e=rg(t,e),t.parent_||ag(t,e)),t.patches_&&yc("Patches").generateReplacementPatches_(n[Ni].base_,e,t.patches_,t.inversePatches_)):e=rg(t,n,[]),yx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==N3?e:void 0}function rg(e,t,n){if($0(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Ni];if(!a)return ng(t,(i,o)=>Hj(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return ag(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),ng(o,(l,c)=>Hj(e,a,i,l,c,n,s),r),ag(e,i,!1),n&&e.patches_&&yc("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function Hj(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=$0(a);if(!(s&&!o)){if(Ru(a)){const l=i&&t&&t.type_!==3&&!hx(t.assigned_,r)?i.concat(r):void 0,c=rg(e,a,l);if(C3(n,r,c),Ru(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(gc(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;rg(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(fp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ag(e,a)}}}function ag(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rk(t,n)}function H9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:M3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=ak;n&&(a=[r],i=Lf);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var ak={get(e,t){if(t===Ni)return e;const n=$l(e);if(!hx(n,t))return K9(e,n,t);const r=n[t];return e.finalized_||!gc(r)?r:r===sv(e.base_,t)?(lv(e),e.copy_[t]=xx(r,e)):r},has(e,t){return t in $l(e)},ownKeys(e){return Reflect.ownKeys($l(e))},set(e,t,n){const r=E3($l(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=sv($l(e),t),i=a==null?void 0:a[Ni];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(U9(n,a)&&(n!==void 0||hx(e.base_,t)))return!0;lv(e),bx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lv(e),bx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=$l(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){lo(11)},getPrototypeOf(e){return If(e.base_)},setPrototypeOf(){lo(12)}},Lf={};ng(ak,(e,t)=>{Lf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Lf.deleteProperty=function(e,t){return Lf.set.call(this,e,t,void 0)};Lf.set=function(e,t,n){return ak.set.call(this,e[0],t,n,e[0])};function sv(e,t){const n=e[Ni];return(n?$l(n):e)[t]}function K9(e,t,n){var r;const a=E3(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function E3(e,t){if(!(t in e))return;let n=If(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=If(n)}}function bx(e){e.modified_||(e.modified_=!0,e.parent_&&bx(e.parent_))}function lv(e){e.copy_||(e.copy_=gx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Y9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}typeof n!="function"&&lo(6),r!==void 0&&typeof r!="function"&&lo(7);let a;if(gc(t)){const i=qj(this),o=xx(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?yx(i):vx(i)}return Vj(i,r),Wj(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===N3&&(a=void 0),this.autoFreeze_&&rk(a,!0),r){const i=[],o=[];yc("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else lo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){gc(e)||lo(8),Ru(e)&&(e=G9(e));const t=qj(this),n=xx(e,void 0);return n[Ni].isManual_=!0,vx(t),n}finishDraft(e,t){const n=e&&e[Ni];(!n||!n.isManual_)&&lo(9);const{scope_:r}=n;return Vj(r,t),Wj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=yc("Patches").applyPatches_;return Ru(e)?r(e,t):this.produce(e,a=>r(a,t))}};function xx(e,t){const n=fp(e)?yc("MapSet").proxyMap_(e,t):R0(e)?yc("MapSet").proxySet_(e,t):H9(e,t);return(t?t.scope_:M3()).drafts_.push(n),n}function G9(e){return Ru(e)||lo(10,e),A3(e)}function A3(e){if(!gc(e)||$0(e))return e;const t=e[Ni];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=gx(e,!0);return ng(n,(a,i)=>{C3(n,a,A3(i))},r),t&&(t.finalized_=!1),n}var X9=new Y9;X9.produce;var Q9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},P3=ai({name:"legend",initialState:Q9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ir()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=po(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:ir()},removeLegendPayload:{reducer(e,t){var n=po(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ir()}}}),{setLegendSize:Kj,setLegendSettings:Z9,addLegendPayload:T3,replaceLegendPayload:O3,removeLegendPayload:D3}=P3.actions,J9=P3.reducer,eq=["contextPayload"];function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wx.apply(null,arguments)}function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){tq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tq(e,t,n){return(t=nq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aq(e,t){if(e==null)return{};var n,r,a=iq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oq(e){return e.value}function sq(e){var{contextPayload:t}=e,n=aq(e,eq),r=wD(t,e.payloadUniqBy,oq),a=$u($u({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(mV,a)}function lq(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-i.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),$u($u({},c),d)}function cq(e){var t=Wn();return v.useEffect(()=>{t(Z9(e))},[t,e]),null}function uq(e){var t=Wn();return v.useEffect(()=>(t(Kj(e)),()=>{t(Kj({width:0,height:0}))}),[t,e]),null}function dq(e,t,n,r){return e==="vertical"&&St(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var fq={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function I3(e){var t=Hr(e,fq),n=ZV(),r=lz(),a=R9(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[c,d]=DD([n]),f=tk(),p=nk();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=dq(t.layout,o,i,m),y=l?s:$u($u({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},lq(s,t,a,f,p,c)),s),x=l??r;if(x==null||n==null)return null;var g=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},v.createElement(cq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(uq,{width:c.width,height:c.height}),v.createElement(sq,wx({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Qu.createPortal(g,x)}I3.displayName="Legend";function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(null,arguments)}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(r){pq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pq(e,t,n){return(t=mq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gq(e){return Array.isArray(e)&&zo(e[0])&&zo(e[1])?e.join(" ~ "):e}var yq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},N=(s?x0(i,s):i).map((M,T)=>{if(M.type==="none")return null;var L=M.formatter||o||gq,{value:A,name:P}=M,I=A,z=P;if(L){var G=L(A,P,M,T,i);if(Array.isArray(G))[I,z]=G;else if(G!=null)I=G;else return null}var J=cv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:J},zo(z)?v.createElement("span",{className:"recharts-tooltip-item-name"},z):null,zo(z)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},I),v.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},h=cv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=cv({margin:0},a),x=!Wr(d),g=x?d:"",b=jn("recharts-default-tooltip",l),w=jn("recharts-tooltip-label",c);x&&f&&i!==void 0&&i!==null&&(g=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",kx({className:b,style:h},S),v.createElement("p",{className:w,style:y},v.isValidElement(g)?g:"".concat(g)),m())},Nd="recharts-tooltip-wrapper",vq={visibility:"hidden"};function bq(e){var{coordinate:t,translateX:n,translateY:r}=e;return jn(Nd,{["".concat(Nd,"-right")]:St(n)&&t&&St(t.x)&&n>=t.x,["".concat(Nd,"-left")]:St(n)&&t&&St(t.x)&&n<t.x,["".concat(Nd,"-bottom")]:St(r)&&t&&St(t.y)&&r>=t.y,["".concat(Nd,"-top")]:St(r)&&t&&St(t.y)&&r<t.y})}function Xj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&St(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var y=f+s,x=p+c;return y>x?Math.max(d,p):Math.max(f,p)}function xq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function wq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&n?(d=Xj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Xj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=xq({translateX:d,translateY:f,useTranslate3d:s})):c=vq,{cssProperties:c,cssClasses:bq({translateX:d,translateY:f,coordinate:n})}}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){Sx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sx(e,t,n){return(t=kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nq extends v.PureComponent{constructor(){super(...arguments),Sx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:y,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=wq({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),S=g?{}:km(km({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=km(km({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:x},i)}}var _3=()=>{var e;return(e=wt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(null,arguments)}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){jq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jq(e,t,n){return(t=Cq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eC={curveBasisClosed:Mz,curveBasisOpen:Ez,curveBasis:Cz,curveBumpX:fz,curveBumpY:pz,curveLinearClosed:Az,curveLinear:f0,curveMonotoneX:Pz,curveMonotoneY:Tz,curveNatural:Oz,curveStep:Dz,curveStepAfter:_z,curveStepBefore:Iz},ig=e=>Br(e.x)&&Br(e.y),tC=e=>e.base!=null&&ig(e.base)&&ig(e),jd=e=>e.x,Cd=e=>e.y,Eq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(op(e));return(n==="curveMonotone"||n==="curveBump")&&t?eC["".concat(n).concat(t==="vertical"?"Y":"X")]:eC[n]||f0},Aq=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=Eq(t,a),s=i?n.filter(ig):n,l;if(Array.isArray(r)){var c=n.map((m,h)=>Jj(Jj({},m),{},{base:r[h]}));a==="vertical"?l=mm().y(Cd).x1(jd).x0(m=>m.base.x):l=mm().x(jd).y1(Cd).y0(m=>m.base.y);var d=l.defined(tC).curve(o),f=i?c.filter(tC):c;return d(f)}a==="vertical"&&St(r)?l=mm().y(Cd).x1(jd).x0(r):St(r)?l=mm().x(jd).y1(Cd).y0(r):l=BO().x(jd).y(Cd);var p=l.defined(ig).curve(o);return p(s)},ik=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=dp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?Aq(o):r;return v.createElement("path",Nx({},Gi(e),_1(e),{className:jn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},Pq=["x","y","top","left","width","height","className"];function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(null,arguments)}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(r){Oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oq(e,t,n){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dq(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _q(e,t){if(e==null)return{};var n,r,a=Lq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Lq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fq=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),Rq=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=_q(e,Pq),c=Tq({x:t,y:n,top:r,left:a,width:i,height:o},l);return!St(t)||!St(n)||!St(i)||!St(o)||!St(r)||!St(a)?null:v.createElement("path",jx({},Fa(c),{className:jn("recharts-cross",s),d:Fq(t,n,i,o,r,a)}))};function $q(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(r){Bq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bq(e,t,n){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uq(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),L3=(e,t,n)=>e.map(r=>"".concat(Vq(r)," ").concat(t,"ms ").concat(n)).join(","),qq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Ff=(e,t)=>Object.keys(t).reduce((n,r)=>aC(aC({},n),{},{[r]:e(r,t[r])}),{});function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){Wq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wq(e,t,n){return(t=Hq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hq(e){var t=Kq(e,"string");return typeof t=="symbol"?t:t+""}function Kq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var og=(e,t,n)=>e+(t-e)*n,Cx=e=>{var{from:t,to:n}=e;return t!==n},F3=(e,t,n)=>{var r=Ff((a,i)=>{if(Cx(i)){var[o,s]=e(i.from,i.to,i.velocity);return Vr(Vr({},i),{},{from:o,velocity:s})}return i},t);return n<1?Ff((a,i)=>Cx(i)&&r[a]!=null?Vr(Vr({},i),{},{velocity:og(i.velocity,r[a].velocity,n),from:og(i.from,r[a].from,n)}):i,t):F3(e,r,n-1)};function Yq(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Vr(Vr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Ff((p,m)=>m.from,s),c=()=>!Object.values(s).filter(Cx).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=F3(n,s,h),a(Vr(Vr(Vr({},e),t),l())),o=p,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function Gq(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Vr(Vr({},f),{},{[p]:[m,h]})},{}),c,d=f=>{c||(c=f);var p=(f-c)/r,m=Ff((y,x)=>og(...x,n(p)),l);if(i(Vr(Vr(Vr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=Ff((y,x)=>og(...x,n(1)),l);i(Vr(Vr(Vr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const Xq=(e,t,n,r,a,i)=>{var o=qq(e,t);return n==null?()=>(a(Vr(Vr({},e),t)),()=>{}):n.isStepper===!0?Yq(e,t,n,o,a,i):Gq(e,t,n,r,o,a,i)};var sg=1e-4,R3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),oC=(e,t)=>n=>{var r=R3(e,t);return $3(r,n)},Qq=(e,t)=>n=>{var r=R3(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return $3(a,n)},Zq=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},Jq=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=Zq(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},eW=(e,t,n,r)=>{var a=oC(e,n),i=oC(t,r),o=Qq(e,n),s=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<sg||h<sg)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},sC=function(){return eW(...Jq(...arguments))},tW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,c=s*n,d=s+(l-c)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<sg&&Math.abs(d)<sg?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},nW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sC(e);case"spring":return tW();default:if(e.split("(")[0]==="cubic-bezier")return sC(e)}return typeof e=="function"?e:null};function rW(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class aW{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function iW(){return rW(new aW)}var oW=v.createContext(iW);function sW(e,t){var n=v.useContext(oW);return v.useMemo(()=>t??n(e),[e,t,n])}var lW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),B0={isSsr:lW()},cW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lC={t:0},uv={t:1};function U0(e){var t=Hr(e,cW),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,d=n==="auto"?!B0.isSsr:n,f=sW(t.animationId,t.animationManager),[p,m]=v.useState(d?lC:uv),h=v.useRef(null);return v.useEffect(()=>{d||m(uv)},[d]),v.useEffect(()=>{if(!d||!r)return sp;var y=Xq(lC,uv,nW(i),a,m,f.getTimeoutController()),x=()=>{h.current=y()};return f.start([l,o,x,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),c(p.t)}function z0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Pf(t)),r=v.useRef(e);return r.current!==e&&(n.current=Pf(t),r.current=e),n.current}var uW=["radius"],dW=["radius"],cC,uC,dC,fC,pC,mC,hC,gC,yC,vC;function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(r){fW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fW(e,t,n){return(t=pW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=mW(e,"string");return typeof t=="symbol"?t:t+""}function mW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lg.apply(null,arguments)}function wC(e,t){if(e==null)return{};var n,r,a=hW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ao(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kC=(e,t,n,r,a)=>{var i=Js(n),o=Js(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,c=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=wr(cC||(cC=Ao(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=wr(uC||(uC=Ao(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+c*p[0],t)),f+=wr(dC||(dC=Ao(["L ",",",""])),e+n-c*p[1],t),p[1]>0&&(f+=wr(fC||(fC=Ao(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=wr(pC||(pC=Ao(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=wr(mC||(mC=Ao(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-c*p[2],t+r)),f+=wr(hC||(hC=Ao(["L ",",",""])),e+c*p[3],t+r),p[3]>0&&(f+=wr(gC||(gC=Ao(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f=wr(yC||(yC=Ao(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*y,y,y,d,e+c*y,t,e+n-c*y,t,y,y,d,e+n,t+l*y,e+n,t+r-l*y,y,y,d,e+n-c*y,t+r,e+c*y,t+r,y,y,d,e,t+r-l*y)}else f=wr(vC||(vC=Ao(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},SC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B3=e=>{var t=Hr(e,SC),n=v.useRef(null),[r,a]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&a($)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:y}=t,x=v.useRef(s),g=v.useRef(l),b=v.useRef(i),w=v.useRef(o),S=v.useMemo(()=>({x:i,y:o,width:s,height:l,radius:c}),[i,o,s,l,c]),C=z0(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var N=jn("recharts-rectangle",d);if(!y){var M=Fa(t),{radius:T}=M,L=wC(M,uW);return v.createElement("path",lg({},L,{x:Js(i),y:Js(o),width:Js(s),height:Js(l),radius:typeof c=="number"?c:void 0,className:N,d:kC(i,o,s,l,c)}))}var A=x.current,P=g.current,I=b.current,z=w.current,G="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),ce=L3(["strokeDasharray"],p,typeof f=="string"?f:SC.animationEasing);return v.createElement(U0,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:y,begin:m},$=>{var B=xa(A,s,$),re=xa(P,l,$),k=xa(I,i,$),O=xa(z,o,$);n.current&&(x.current=B,g.current=re,b.current=k,w.current=O);var E;h?$>0?E={transition:ce,strokeDasharray:J}:E={strokeDasharray:G}:E={strokeDasharray:J};var j=Fa(t),{radius:V}=j,Q=wC(j,dW);return v.createElement("path",lg({},Q,{radius:typeof c=="number"?c:void 0,className:N,d:kC(k,O,B,re,c),ref:n,style:xC(xC({},E),t.style)}))})};function NC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(n),!0).forEach(function(r){gW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gW(e,t,n){return(t=yW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cg=Math.PI/180,bW=e=>e*180/Math.PI,Rr=(e,t,n,r)=>({x:e+Math.cos(-cg*r)*n,y:t+Math.sin(-cg*r)*n}),U3=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},xW=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},wW=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=xW({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:bW(l),angleInRadian:l}},kW=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},SW=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},NW=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=wW({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:c}=kW(t),d=i,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?jC(jC({},t),{},{radius:a,angle:SW(d,t)}):null};function z3(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Rr(t,n,r,a),s=Rr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var CC,MC,EC,AC,PC,TC,OC;function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(null,arguments)}function Yl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var jW=(e,t)=>{var n=wa(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Sm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,d=Math.asin(s/c)/cg,f=l?a:a+i*d,p=Rr(t,n,c,f),m=Rr(t,n,r,f),h=l?a-i*d:a,y=Rr(t,n,c*Math.cos(d*cg),h);return{center:p,circleTangency:m,lineTangency:y,theta:d}},V3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=jW(i,o),l=i+s,c=Rr(t,n,a,i),d=Rr(t,n,a,l),f=wr(CC||(CC=Yl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Rr(t,n,r,i),m=Rr(t,n,r,l);f+=wr(MC||(MC=Yl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=wr(EC||(EC=Yl(["L ",","," Z"])),t,n);return f},CW=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,d=wa(c-l),{circleTangency:f,lineTangency:p,theta:m}=Sm({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:y,theta:x}=Sm({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:s}),g=s?Math.abs(l-c):Math.abs(l-c)-m-x;if(g<0)return o?wr(AC||(AC=Yl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):V3({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b=wr(PC||(PC=Yl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),h.x,h.y,i,i,+(d<0),y.x,y.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=Sm({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:N,lineTangency:M,theta:T}=Sm({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),L=s?Math.abs(l-c):Math.abs(l-c)-C-T;if(L<0&&i===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=wr(TC||(TC=Yl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,i,i,+(d<0),N.x,N.y,r,r,+(L>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else b+=wr(OC||(OC=Yl(["L",",","Z"])),t,n);return b},MW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q3=e=>{var t=Hr(e,MW),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var p=jn("recharts-sector",f),m=i-a,h=Hi(o,m,0,!0),y;return h>0&&Math.abs(c-d)<360?y=CW({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):y=V3({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),v.createElement("path",Mx({},Fa(t),{className:p,d:y}))};function EW(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(nD(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Rr(r,a,i,s),c=Rr(r,a,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return z3(t)}}var W3={},H3={},K3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(K3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(H3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,n=H3;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=a,a+=o;return l}e.range=r})(W3);var AW=W3.range;const Y3=wo(AW);function cl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ok(e){let t,n,r;e.length!==2?(t=cl,n=(s,l)=>cl(e(s),l),r=(s,l)=>e(s)-l):(t=e===cl||e===PW?e:TW,n=e,r=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function TW(){return 0}function G3(e){return e===null?NaN:+e}function*OW(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const DW=ok(cl),pp=DW.right;ok(G3).center;class DC extends Map{constructor(t,n=LW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(IC(this,t))}has(t){return super.has(IC(this,t))}set(t,n){return super.set(IW(this,t),n)}delete(t){return super.delete(_W(this,t))}}function IC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function IW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function _W({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function LW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FW(e=cl){if(e===cl)return X3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function X3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const RW=Math.sqrt(50),$W=Math.sqrt(10),BW=Math.sqrt(2);function ug(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=RW?10:i>=$W?5:i>=BW?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?ug(e,t,n*2):[s,l,c]}function Ex(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?ug(t,e,n):ug(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Ax(e,t,n){return t=+t,e=+e,n=+n,ug(e,t,n)[2]}function Px(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Ax(t,e,n):Ax(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function _C(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function LC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Q3(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?X3:FW(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),h=Math.min(r,Math.floor(t+(l-c)*f/l+p));Q3(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(Md(e,n,t),a(e[r],i)>0&&Md(e,n,r);o<s;){for(Md(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Md(e,n,s):(++s,Md(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Md(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function UW(e,t,n){if(e=Float64Array.from(OW(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return LC(e);if(t>=1)return _C(e);var r,a=(r-1)*t,i=Math.floor(a),o=_C(Q3(e,i).subarray(0,i+1)),s=LC(e.subarray(i+1));return o+(s-o)*(a-i)}}function zW(e,t,n=G3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function VW(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Zi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ns(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Tx=Symbol("implicit");function sk(){var e=new DC,t=[],n=[],r=Tx;function a(i){let o=e.get(i);if(o===void 0){if(r!==Tx)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new DC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return sk(t,n).unknown(r)},Zi.apply(a,arguments),a}function lk(){var e=sk().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,y=m?r:a;i=(y-h)/Math.max(1,p-l+c*2),s&&(i=Math.floor(i)),h+=(y-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var x=VW(p).map(function(g){return h+i*g});return n(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return lk(t(),[r,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},Zi.apply(f(),arguments)}function Z3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Z3(t())},e}function qW(){return Z3(lk.apply(null,arguments).paddingInner(1))}function ck(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function J3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mp(){}var Rf=.7,dg=1/Rf,Nu="\\s*([+-]?\\d+)\\s*",$f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WW=/^#([0-9a-f]{3,8})$/,HW=new RegExp(`^rgb\\(${Nu},${Nu},${Nu}\\)$`),KW=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),YW=new RegExp(`^rgba\\(${Nu},${Nu},${Nu},${$f}\\)$`),GW=new RegExp(`^rgba\\(${$o},${$o},${$o},${$f}\\)$`),XW=new RegExp(`^hsl\\(${$f},${$o},${$o}\\)$`),QW=new RegExp(`^hsla\\(${$f},${$o},${$o},${$f}\\)$`),FC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ck(mp,Bf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RC,formatHex:RC,formatHex8:ZW,formatHsl:JW,formatRgb:$C,toString:$C});function RC(){return this.rgb().formatHex()}function ZW(){return this.rgb().formatHex8()}function JW(){return e4(this).formatHsl()}function $C(){return this.rgb().formatRgb()}function Bf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=WW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?BC(t):n===3?new Xa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HW.exec(e))?new Xa(t[1],t[2],t[3],1):(t=KW.exec(e))?new Xa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YW.exec(e))?Nm(t[1],t[2],t[3],t[4]):(t=GW.exec(e))?Nm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XW.exec(e))?VC(t[1],t[2]/100,t[3]/100,1):(t=QW.exec(e))?VC(t[1],t[2]/100,t[3]/100,t[4]):FC.hasOwnProperty(e)?BC(FC[e]):e==="transparent"?new Xa(NaN,NaN,NaN,0):null}function BC(e){return new Xa(e>>16&255,e>>8&255,e&255,1)}function Nm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xa(e,t,n,r)}function eH(e){return e instanceof mp||(e=Bf(e)),e?(e=e.rgb(),new Xa(e.r,e.g,e.b,e.opacity)):new Xa}function Ox(e,t,n,r){return arguments.length===1?eH(e):new Xa(e,t,n,r??1)}function Xa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ck(Xa,Ox,J3(mp,{brighter(e){return e=e==null?dg:Math.pow(dg,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rf:Math.pow(Rf,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xa(ac(this.r),ac(this.g),ac(this.b),fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UC,formatHex:UC,formatHex8:tH,formatRgb:zC,toString:zC}));function UC(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function tH(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function zC(){const e=fg(this.opacity);return`${e===1?"rgb(":"rgba("}${ac(this.r)}, ${ac(this.g)}, ${ac(this.b)}${e===1?")":`, ${e})`}`}function fg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ac(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gl(e){return e=ac(e),(e<16?"0":"")+e.toString(16)}function VC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new co(e,t,n,r)}function e4(e){if(e instanceof co)return new co(e.h,e.s,e.l,e.opacity);if(e instanceof mp||(e=Bf(e)),!e)return new co;if(e instanceof co)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new co(o,s,l,e.opacity)}function nH(e,t,n,r){return arguments.length===1?e4(e):new co(e,t,n,r??1)}function co(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ck(co,nH,J3(mp,{brighter(e){return e=e==null?dg:Math.pow(dg,e),new co(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rf:Math.pow(Rf,e),new co(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Xa(dv(e>=240?e-240:e+120,a,r),dv(e,a,r),dv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new co(qC(this.h),jm(this.s),jm(this.l),fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fg(this.opacity);return`${e===1?"hsl(":"hsla("}${qC(this.h)}, ${jm(this.s)*100}%, ${jm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qC(e){return e=(e||0)%360,e<0?e+360:e}function jm(e){return Math.max(0,Math.min(1,e||0))}function dv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const uk=e=>()=>e;function rH(e,t){return function(n){return e+n*t}}function aH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function iH(e){return(e=+e)==1?t4:function(t,n){return n-t?aH(t,n,e):uk(isNaN(t)?n:t)}}function t4(e,t){var n=t-e;return n?rH(e,n):uk(isNaN(e)?t:e)}const WC=function e(t){var n=iH(t);function r(a,i){var o=n((a=Ox(a)).r,(i=Ox(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=t4(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return r.gamma=e,r}(1);function oH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function sH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Zu(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function cH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function pg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function uH(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Zu(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Dx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fv=new RegExp(Dx.source,"g");function dH(e){return function(){return e}}function fH(e){return function(t){return e(t)+""}}function pH(e,t){var n=Dx.lastIndex=fv.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Dx.exec(e))&&(a=fv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:pg(r,a)})),n=fv.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?fH(l[0].x):dH(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Zu(e,t){var n=typeof t,r;return t==null||n==="boolean"?uk(t):(n==="number"?pg:n==="string"?(r=Bf(t))?(t=r,WC):pH:t instanceof Bf?WC:t instanceof Date?cH:sH(t)?oH:Array.isArray(t)?lH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uH:pg)(e,t)}function dk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function mH(e,t){t===void 0&&(t=e,e=Zu);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function hH(e){return function(){return e}}function mg(e){return+e}var HC=[0,1];function _a(e){return e}function Ix(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:hH(isNaN(t)?NaN:.5)}function gH(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function yH(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Ix(a,r),i=n(o,i)):(r=Ix(r,a),i=n(i,o)),function(s){return i(r(s))}}function vH(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Ix(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=pp(e,s,1,r)-1;return i[l](a[l](s))}}function hp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function V0(){var e=HC,t=HC,n=Zu,r,a,i,o=_a,s,l,c;function d(){var p=Math.min(e.length,t.length);return o!==_a&&(o=gH(e[0],e[p-1])),s=p>2?vH:yH,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((c||(c=s(t,e.map(r),pg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,mg),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=dk,d()},f.clamp=function(p){return arguments.length?(o=p?!0:_a,d()):o!==_a},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function fk(){return V0()(_a,_a)}function bH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Bu(e){return e=hg(Math.abs(e)),e?e[1]:NaN}function xH(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function wH(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var kH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uf(e){if(!(t=kH.exec(e)))throw new Error("invalid format: "+e);var t;return new pk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uf.prototype=pk.prototype;function pk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function SH(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var gg;function NH(e,t){var n=hg(e,t);if(!n)return gg=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(gg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+hg(e,Math.max(0,t+i-1))[0]}function KC(e,t){var n=hg(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const YC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>KC(e*100,t),r:KC,s:NH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function GC(e){return e}var XC=Array.prototype.map,QC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jH(e){var t=e.grouping===void 0||e.thousands===void 0?GC:xH(XC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?GC:wH(XC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,p){f=Uf(f);var m=f.fill,h=f.align,y=f.sign,x=f.symbol,g=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):YC[N]||(S===void 0&&(S=12),C=!0,N="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var M=(p&&p.prefix!==void 0?p.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),T=(x==="$"?r:/[%p]/.test(N)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),L=YC[N],A=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(I){var z=M,G=T,J,ce,$;if(N==="c")G=L(I)+G,I="";else{I=+I;var B=I<0||1/I<0;if(I=isNaN(I)?l:L(Math.abs(I),S),C&&(I=SH(I)),B&&+I==0&&y!=="+"&&(B=!1),z=(B?y==="("?y:s:y==="-"||y==="("?"":y)+z,G=(N==="s"&&!isNaN(I)&&gg!==void 0?QC[8+gg/3]:"")+G+(B&&y==="("?")":""),A){for(J=-1,ce=I.length;++J<ce;)if($=I.charCodeAt(J),48>$||$>57){G=($===46?a+I.slice(J+1):I.slice(J))+G,I=I.slice(0,J);break}}}w&&!g&&(I=t(I,1/0));var re=z.length+I.length+G.length,k=re<b?new Array(b-re+1).join(m):"";switch(w&&g&&(I=t(k+I,k.length?b-G.length:1/0),k=""),h){case"<":I=z+I+G+k;break;case"=":I=z+k+I+G;break;case"^":I=k.slice(0,re=k.length>>1)+z+I+G+k.slice(re);break;default:I=k+z+I+G;break}return i(I)}return P.toString=function(){return f+""},P}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Bu(p)/3)))*3,h=Math.pow(10,-m),y=c((f=Uf(f),f.type="f",f),{suffix:QC[8+m/3]});return function(x){return y(h*x)}}return{format:c,formatPrefix:d}}var Cm,mk,n4;CH({thousands:",",grouping:[3],currency:["$",""]});function CH(e){return Cm=jH(e),mk=Cm.format,n4=Cm.formatPrefix,Cm}function MH(e){return Math.max(0,-Bu(Math.abs(e)))}function EH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bu(t)/3)))*3-Bu(Math.abs(e)))}function AH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bu(t)-Bu(e))+1}function r4(e,t,n,r){var a=Px(e,t,n),i;switch(r=Uf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=EH(a,o))&&(r.precision=i),n4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=AH(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=MH(a))&&(r.precision=i-(r.type==="%")*2);break}}return mk(r)}function wl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ex(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return r4(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);d-- >0;){if(c=Ax(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function a4(){var e=fk();return e.copy=function(){return hp(e,a4())},Zi.apply(e,arguments),wl(e)}function i4(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,mg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return i4(e).unknown(t)},e=arguments.length?Array.from(e,mg):[0,1],wl(n)}function o4(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function ZC(e){return Math.log(e)}function JC(e){return Math.exp(e)}function PH(e){return-Math.log(-e)}function TH(e){return-Math.exp(-e)}function OH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DH(e){return e===10?OH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function IH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eM(e){return(t,n)=>-e(-t,n)}function hk(e){const t=e(ZC,JC),n=t.domain;let r=10,a,i;function o(){return a=IH(r),i=DH(r),n()[0]<0?(a=eM(a),i=eM(i),e(PH,TH)):e(ZC,JC),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=a(c),m=a(d),h,y;const x=s==null?10:+s;let g=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(h=1;h<r;++h)if(y=p<0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(y=p>0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}g.length*2<x&&(g=Ex(c,d,x))}else g=Ex(p,m,Math.min(m-p,x)).map(i);return f?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Uf(l)).precision==null&&(l.trim=!0),l=mk(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(o4(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function s4(){const e=hk(V0()).domain([1,10]);return e.copy=()=>hp(e,s4()).base(e.base()),Zi.apply(e,arguments),e}function tM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gk(e){var t=1,n=e(tM(t),nM(t));return n.constant=function(r){return arguments.length?e(tM(t=+r),nM(t)):t},wl(n)}function l4(){var e=gk(V0());return e.copy=function(){return hp(e,l4()).constant(e.constant())},Zi.apply(e,arguments)}function rM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _H(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function LH(e){return e<0?-e*e:e*e}function yk(e){var t=e(_a,_a),n=1;function r(){return n===1?e(_a,_a):n===.5?e(_H,LH):e(rM(n),rM(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},wl(t)}function vk(){var e=yk(V0());return e.copy=function(){return hp(e,vk()).exponent(e.exponent())},Zi.apply(e,arguments),e}function FH(){return vk.apply(null,arguments).exponent(.5)}function aM(e){return Math.sign(e)*e*e}function RH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function c4(){var e=fk(),t=[0,1],n=!1,r;function a(i){var o=RH(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(aM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,mg)).map(aM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return c4(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Zi.apply(a,arguments),wl(a)}function u4(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=zW(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[pp(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(cl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return u4().domain(e).range(t).unknown(r)},Zi.apply(i,arguments)}function d4(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[pp(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return d4().domain([e,t]).range(a).unknown(i)},Zi.apply(wl(o),arguments)}function f4(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[pp(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return f4().domain(e).range(t).unknown(n)},Zi.apply(a,arguments)}const pv=new Date,mv=new Date;function Kr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>Kr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(pv.setTime(+i),mv.setTime(+o),e(pv),e(mv),Math.floor(n(pv,mv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const yg=Kr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yg);yg.range;const ns=1e3,qi=ns*60,rs=qi*60,gs=rs*24,bk=gs*7,iM=gs*30,hv=gs*365,Xl=Kr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ns)},(e,t)=>(t-e)/ns,e=>e.getUTCSeconds());Xl.range;const xk=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getMinutes());xk.range;const wk=Kr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getUTCMinutes());wk.range;const kk=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns-e.getMinutes()*qi)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getHours());kk.range;const Sk=Kr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getUTCHours());Sk.range;const gp=Kr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qi)/gs,e=>e.getDate()-1);gp.range;const q0=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gs,e=>e.getUTCDate()-1);q0.range;const p4=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gs,e=>Math.floor(e/gs));p4.range;function jc(e){return Kr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qi)/bk)}const W0=jc(0),vg=jc(1),$H=jc(2),BH=jc(3),Uu=jc(4),UH=jc(5),zH=jc(6);W0.range;vg.range;$H.range;BH.range;Uu.range;UH.range;zH.range;function Cc(e){return Kr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/bk)}const H0=Cc(0),bg=Cc(1),VH=Cc(2),qH=Cc(3),zu=Cc(4),WH=Cc(5),HH=Cc(6);H0.range;bg.range;VH.range;qH.range;zu.range;WH.range;HH.range;const Nk=Kr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Nk.range;const jk=Kr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jk.range;const ys=Kr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ys.range;const vs=Kr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vs.range;function m4(e,t,n,r,a,i){const o=[[Xl,1,ns],[Xl,5,5*ns],[Xl,15,15*ns],[Xl,30,30*ns],[i,1,qi],[i,5,5*qi],[i,15,15*qi],[i,30,30*qi],[a,1,rs],[a,3,3*rs],[a,6,6*rs],[a,12,12*rs],[r,1,gs],[r,2,2*gs],[n,1,bk],[t,1,iM],[t,3,3*iM],[e,1,hv]];function s(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),h=m?m.range(c,+d+1):[];return p?h.reverse():h}function l(c,d,f){const p=Math.abs(d-c)/f,m=ok(([,,x])=>x).right(o,p);if(m===o.length)return e.every(Px(c/hv,d/hv,f));if(m===0)return yg.every(Math.max(Px(c,d,f),1));const[h,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(y)}return[s,l]}const[KH,YH]=m4(vs,jk,H0,p4,Sk,wk),[GH,XH]=m4(ys,Nk,W0,gp,kk,xk);function gv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ed(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function QH(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Ad(a),d=Pd(a),f=Ad(i),p=Pd(i),m=Ad(o),h=Pd(o),y=Ad(s),x=Pd(s),g=Ad(l),b=Pd(l),w={a:$,A:B,b:re,B:k,c:null,d:dM,e:dM,f:xK,g:PK,G:OK,H:yK,I:vK,j:bK,L:h4,m:wK,M:kK,p:O,q:E,Q:mM,s:hM,S:SK,u:NK,U:jK,V:CK,w:MK,W:EK,x:null,X:null,y:AK,Y:TK,Z:DK,"%":pM},S={a:j,A:V,b:Q,B:W,c:null,d:fM,e:fM,f:FK,g:KK,G:GK,H:IK,I:_K,j:LK,L:y4,m:RK,M:$K,p:H,q:ee,Q:mM,s:hM,S:BK,u:UK,U:zK,V:VK,w:qK,W:WK,x:null,X:null,y:HK,Y:YK,Z:XK,"%":pM},C={a:A,A:P,b:I,B:z,c:G,d:cM,e:cM,f:pK,g:lM,G:sM,H:uM,I:uM,j:cK,L:fK,m:lK,M:uK,p:L,q:sK,Q:hK,s:gK,S:dK,u:nK,U:rK,V:aK,w:tK,W:iK,x:J,X:ce,y:lM,Y:sM,Z:oK,"%":mK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(_,te){return function(ge){var R=[],ae=-1,K=0,F=_.length,ie,be,et;for(ge instanceof Date||(ge=new Date(+ge));++ae<F;)_.charCodeAt(ae)===37&&(R.push(_.slice(K,ae)),(be=oM[ie=_.charAt(++ae)])!=null?ie=_.charAt(++ae):be=ie==="e"?" ":"0",(et=te[ie])&&(ie=et(ge,be)),R.push(ie),K=ae+1);return R.push(_.slice(K,ae)),R.join("")}}function M(_,te){return function(ge){var R=Ed(1900,void 0,1),ae=T(R,_,ge+="",0),K,F;if(ae!=ge.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(te&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(K=yv(Ed(R.y,0,1)),F=K.getUTCDay(),K=F>4||F===0?bg.ceil(K):bg(K),K=q0.offset(K,(R.V-1)*7),R.y=K.getUTCFullYear(),R.m=K.getUTCMonth(),R.d=K.getUTCDate()+(R.w+6)%7):(K=gv(Ed(R.y,0,1)),F=K.getDay(),K=F>4||F===0?vg.ceil(K):vg(K),K=gp.offset(K,(R.V-1)*7),R.y=K.getFullYear(),R.m=K.getMonth(),R.d=K.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),F="Z"in R?yv(Ed(R.y,0,1)).getUTCDay():gv(Ed(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(F+5)%7:R.w+R.U*7-(F+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,yv(R)):gv(R)}}function T(_,te,ge,R){for(var ae=0,K=te.length,F=ge.length,ie,be;ae<K;){if(R>=F)return-1;if(ie=te.charCodeAt(ae++),ie===37){if(ie=te.charAt(ae++),be=C[ie in oM?te.charAt(ae++):ie],!be||(R=be(_,ge,R))<0)return-1}else if(ie!=ge.charCodeAt(R++))return-1}return R}function L(_,te,ge){var R=c.exec(te.slice(ge));return R?(_.p=d.get(R[0].toLowerCase()),ge+R[0].length):-1}function A(_,te,ge){var R=m.exec(te.slice(ge));return R?(_.w=h.get(R[0].toLowerCase()),ge+R[0].length):-1}function P(_,te,ge){var R=f.exec(te.slice(ge));return R?(_.w=p.get(R[0].toLowerCase()),ge+R[0].length):-1}function I(_,te,ge){var R=g.exec(te.slice(ge));return R?(_.m=b.get(R[0].toLowerCase()),ge+R[0].length):-1}function z(_,te,ge){var R=y.exec(te.slice(ge));return R?(_.m=x.get(R[0].toLowerCase()),ge+R[0].length):-1}function G(_,te,ge){return T(_,t,te,ge)}function J(_,te,ge){return T(_,n,te,ge)}function ce(_,te,ge){return T(_,r,te,ge)}function $(_){return o[_.getDay()]}function B(_){return i[_.getDay()]}function re(_){return l[_.getMonth()]}function k(_){return s[_.getMonth()]}function O(_){return a[+(_.getHours()>=12)]}function E(_){return 1+~~(_.getMonth()/3)}function j(_){return o[_.getUTCDay()]}function V(_){return i[_.getUTCDay()]}function Q(_){return l[_.getUTCMonth()]}function W(_){return s[_.getUTCMonth()]}function H(_){return a[+(_.getUTCHours()>=12)]}function ee(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var te=N(_+="",w);return te.toString=function(){return _},te},parse:function(_){var te=M(_+="",!1);return te.toString=function(){return _},te},utcFormat:function(_){var te=N(_+="",S);return te.toString=function(){return _},te},utcParse:function(_){var te=M(_+="",!0);return te.toString=function(){return _},te}}}var oM={"-":"",_:" ",0:"0"},ra=/^\s*\d+/,ZH=/^%/,JH=/[\\^$*+?|[\]().{}]/g;function kn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function eK(e){return e.replace(JH,"\\$&")}function Ad(e){return new RegExp("^(?:"+e.map(eK).join("|")+")","i")}function Pd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function tK(e,t,n){var r=ra.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function nK(e,t,n){var r=ra.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function iK(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function sM(e,t,n){var r=ra.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function lM(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sK(e,t,n){var r=ra.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function lK(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function cM(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=ra.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function uM(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=ra.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pK(e,t,n){var r=ra.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mK(e,t,n){var r=ZH.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function hK(e,t,n){var r=ra.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=ra.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function dM(e,t){return kn(e.getDate(),t,2)}function yK(e,t){return kn(e.getHours(),t,2)}function vK(e,t){return kn(e.getHours()%12||12,t,2)}function bK(e,t){return kn(1+gp.count(ys(e),e),t,3)}function h4(e,t){return kn(e.getMilliseconds(),t,3)}function xK(e,t){return h4(e,t)+"000"}function wK(e,t){return kn(e.getMonth()+1,t,2)}function kK(e,t){return kn(e.getMinutes(),t,2)}function SK(e,t){return kn(e.getSeconds(),t,2)}function NK(e){var t=e.getDay();return t===0?7:t}function jK(e,t){return kn(W0.count(ys(e)-1,e),t,2)}function g4(e){var t=e.getDay();return t>=4||t===0?Uu(e):Uu.ceil(e)}function CK(e,t){return e=g4(e),kn(Uu.count(ys(e),e)+(ys(e).getDay()===4),t,2)}function MK(e){return e.getDay()}function EK(e,t){return kn(vg.count(ys(e)-1,e),t,2)}function AK(e,t){return kn(e.getFullYear()%100,t,2)}function PK(e,t){return e=g4(e),kn(e.getFullYear()%100,t,2)}function TK(e,t){return kn(e.getFullYear()%1e4,t,4)}function OK(e,t){var n=e.getDay();return e=n>=4||n===0?Uu(e):Uu.ceil(e),kn(e.getFullYear()%1e4,t,4)}function DK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kn(t/60|0,"0",2)+kn(t%60,"0",2)}function fM(e,t){return kn(e.getUTCDate(),t,2)}function IK(e,t){return kn(e.getUTCHours(),t,2)}function _K(e,t){return kn(e.getUTCHours()%12||12,t,2)}function LK(e,t){return kn(1+q0.count(vs(e),e),t,3)}function y4(e,t){return kn(e.getUTCMilliseconds(),t,3)}function FK(e,t){return y4(e,t)+"000"}function RK(e,t){return kn(e.getUTCMonth()+1,t,2)}function $K(e,t){return kn(e.getUTCMinutes(),t,2)}function BK(e,t){return kn(e.getUTCSeconds(),t,2)}function UK(e){var t=e.getUTCDay();return t===0?7:t}function zK(e,t){return kn(H0.count(vs(e)-1,e),t,2)}function v4(e){var t=e.getUTCDay();return t>=4||t===0?zu(e):zu.ceil(e)}function VK(e,t){return e=v4(e),kn(zu.count(vs(e),e)+(vs(e).getUTCDay()===4),t,2)}function qK(e){return e.getUTCDay()}function WK(e,t){return kn(bg.count(vs(e)-1,e),t,2)}function HK(e,t){return kn(e.getUTCFullYear()%100,t,2)}function KK(e,t){return e=v4(e),kn(e.getUTCFullYear()%100,t,2)}function YK(e,t){return kn(e.getUTCFullYear()%1e4,t,4)}function GK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?zu(e):zu.ceil(e),kn(e.getUTCFullYear()%1e4,t,4)}function XK(){return"+0000"}function pM(){return"%"}function mM(e){return+e}function hM(e){return Math.floor(+e/1e3)}var Hc,b4,x4;QK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QK(e){return Hc=QH(e),b4=Hc.format,Hc.parse,x4=Hc.utcFormat,Hc.utcParse,Hc}function ZK(e){return new Date(e)}function JK(e){return e instanceof Date?+e:+new Date(+e)}function Ck(e,t,n,r,a,i,o,s,l,c){var d=fk(),f=d.invert,p=d.domain,m=c(".%L"),h=c(":%S"),y=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?m:s(N)<N?h:o(N)<N?y:i(N)<N?x:r(N)<N?a(N)<N?g:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?p(Array.from(N,JK)):p().map(ZK)},d.ticks=function(N){var M=p();return e(M[0],M[M.length-1],N??10)},d.tickFormat=function(N,M){return M==null?C:c(M)},d.nice=function(N){var M=p();return(!N||typeof N.range!="function")&&(N=t(M[0],M[M.length-1],N??10)),N?p(o4(M,N)):d},d.copy=function(){return hp(d,Ck(e,t,n,r,a,i,o,s,l,c))},d}function eY(){return Zi.apply(Ck(GH,XH,ys,Nk,W0,gp,kk,xk,Xl,b4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tY(){return Zi.apply(Ck(KH,YH,vs,jk,H0,q0,Sk,wk,Xl,x4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function K0(){var e=0,t=1,n,r,a,i,o=_a,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),c):[o(0),o(1)]}}return c.range=d(Zu),c.rangeRound=d(dk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),c}}function kl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function w4(){var e=wl(K0()(_a));return e.copy=function(){return kl(e,w4())},Ns.apply(e,arguments)}function k4(){var e=hk(K0()).domain([1,10]);return e.copy=function(){return kl(e,k4()).base(e.base())},Ns.apply(e,arguments)}function S4(){var e=gk(K0());return e.copy=function(){return kl(e,S4()).constant(e.constant())},Ns.apply(e,arguments)}function Mk(){var e=yk(K0());return e.copy=function(){return kl(e,Mk()).exponent(e.exponent())},Ns.apply(e,arguments)}function nY(){return Mk.apply(null,arguments).exponent(.5)}function N4(){var e=[],t=_a;function n(r){if(r!=null&&!isNaN(r=+r))return t((pp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(cl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>UW(e,i/r))},n.copy=function(){return N4(t).domain(e)},Ns.apply(n,arguments)}function Y0(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,c=_a,d,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-i)*(r*y<r*i?s:l),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,n]=y,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function h(y){return function(x){var g,b,w;return arguments.length?([g,b,w]=x,c=mH(y,[g,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=h(Zu),m.rangeRound=h(dk),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return d=y,a=y(e),i=y(t),o=y(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function j4(){var e=wl(Y0()(_a));return e.copy=function(){return kl(e,j4())},Ns.apply(e,arguments)}function C4(){var e=hk(Y0()).domain([.1,1,10]);return e.copy=function(){return kl(e,C4()).base(e.base())},Ns.apply(e,arguments)}function M4(){var e=gk(Y0());return e.copy=function(){return kl(e,M4()).constant(e.constant())},Ns.apply(e,arguments)}function Ek(){var e=yk(Y0());return e.copy=function(){return kl(e,Ek()).exponent(e.exponent())},Ns.apply(e,arguments)}function rY(){return Ek.apply(null,arguments).exponent(.5)}const zd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lk,scaleDiverging:j4,scaleDivergingLog:C4,scaleDivergingPow:Ek,scaleDivergingSqrt:rY,scaleDivergingSymlog:M4,scaleIdentity:i4,scaleImplicit:Tx,scaleLinear:a4,scaleLog:s4,scaleOrdinal:sk,scalePoint:qW,scalePow:vk,scaleQuantile:u4,scaleQuantize:d4,scaleRadial:c4,scaleSequential:w4,scaleSequentialLog:k4,scaleSequentialPow:Mk,scaleSequentialQuantile:N4,scaleSequentialSqrt:nY,scaleSequentialSymlog:S4,scaleSqrt:FH,scaleSymlog:l4,scaleThreshold:f4,scaleTime:eY,scaleUtc:tY,tickFormat:r4},Symbol.toStringTag,{value:"Module"}));var Sl=e=>e.chartData,Ak=fe([Sl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Pk=(e,t,n,r)=>r?Ak(e):Sl(e);function pl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Br(t)&&Br(n))return!0}return!1}function gM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function E4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(Br(n))a=n;else if(typeof n=="function")return;if(Br(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(pl(o))return o}}function aY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(pl(r))return gM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(St(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&_j.test(a)){var l=_j.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(St(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Lj.test(i)){var d=Lj.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(pl(p))return t==null?p:gM(p,t,n)}}}var Ju=1e9,iY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ok,sr=!0,Qi="[DecimalError] ",ic=Qi+"Invalid argument: ",Tk=Qi+"Exponent out of range: ",ed=Math.floor,Bl=Math.pow,oY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yi,Jr=1e7,Zn=7,A4=9007199254740991,xg=ed(A4/Zn),ft={};ft.absoluteValue=ft.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ft.comparedTo=ft.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Zn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ft.dividedBy=ft.div=function(e){return os(this,new this.constructor(e))};ft.dividedToIntegerBy=ft.idiv=function(e){var t=this,n=t.constructor;return Ln(os(t,new n(e),0,1),n.precision)};ft.equals=ft.eq=function(e){return!this.cmp(e)};ft.exponent=function(){return $r(this)};ft.greaterThan=ft.gt=function(e){return this.cmp(e)>0};ft.greaterThanOrEqualTo=ft.gte=function(e){return this.cmp(e)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(e){return this.cmp(e)<0};ft.lessThanOrEqualTo=ft.lte=function(e){return this.cmp(e)<1};ft.logarithm=ft.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(yi))throw Error(Qi+"NaN");if(n.s<1)throw Error(Qi+(n.s?"NaN":"-Infinity"));return n.eq(yi)?new r(0):(sr=!1,t=os(zf(n,i),zf(e,i),i),sr=!0,Ln(t,a))};ft.minus=ft.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O4(t,e):P4(t,(e.s=-e.s,e))};ft.modulo=ft.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Qi+"NaN");return n.s?(sr=!1,t=os(n,e,0,1).times(e),sr=!0,n.minus(t)):Ln(new r(n),a)};ft.naturalExponential=ft.exp=function(){return T4(this)};ft.naturalLogarithm=ft.ln=function(){return zf(this)};ft.negated=ft.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ft.plus=ft.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P4(t,e):O4(t,(e.s=-e.s,e))};ft.precision=ft.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ic+e);if(t=$r(a)+1,r=a.d.length-1,n=r*Zn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ft.squareRoot=ft.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Qi+"NaN")}for(e=$r(s),sr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Lo(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ed((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(os(s,i,o+2)).times(.5),Lo(i.d).slice(0,o)===(t=Lo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ln(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return sr=!0,Ln(r,n)};ft.times=ft.mul=function(e){var t,n,r,a,i,o,s,l,c,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(i=p,p=m,m=i,o=l,l=c,c=o),i=[],o=l+c,r=o;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%Jr|0,t=s/Jr|0;i[a]=(i[a]+t)%Jr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,sr?Ln(e,f.precision):e};ft.toDecimalPlaces=ft.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(qo(e,0,Ju),t===void 0?t=r.rounding:qo(t,0,8),Ln(n,e+$r(n)+1,t))};ft.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=vc(r,!0):(qo(e,0,Ju),t===void 0?t=a.rounding:qo(t,0,8),r=Ln(new a(r),e+1,t),n=vc(r,!0,e+1)),n};ft.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?vc(a):(qo(e,0,Ju),t===void 0?t=i.rounding:qo(t,0,8),r=Ln(new i(a),e+$r(a)+1,t),n=vc(r.abs(),!1,e+$r(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ft.toInteger=ft.toint=function(){var e=this,t=e.constructor;return Ln(new t(e),$r(e)+1,t.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(yi);if(s=new l(s),!s.s){if(e.s<1)throw Error(Qi+"Infinity");return s}if(s.eq(yi))return s;if(r=l.precision,e.eq(yi))return Ln(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=A4){for(a=new l(yi),t=Math.ceil(r/Zn+4),sr=!1;n%2&&(a=a.times(s),vM(a.d,t)),n=ed(n/2),n!==0;)s=s.times(s),vM(s.d,t);return sr=!0,e.s<0?new l(yi).div(a):Ln(a,r)}}else if(i<0)throw Error(Qi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,sr=!1,a=e.times(zf(s,r+c)),sr=!0,a=T4(a),a.s=i,a};ft.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=$r(a),r=vc(a,n<=i.toExpNeg||n>=i.toExpPos)):(qo(e,1,Ju),t===void 0?t=i.rounding:qo(t,0,8),a=Ln(new i(a),e,t),n=$r(a),r=vc(a,e<=n||n<=i.toExpNeg,e)),r};ft.toSignificantDigits=ft.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(qo(e,1,Ju),t===void 0?t=r.rounding:qo(t,0,8)),Ln(new r(n),e,t)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),n=e.constructor;return vc(e,t<=n.toExpNeg||t>=n.toExpPos)};function P4(e,t){var n,r,a,i,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),sr?Ln(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=c.length):(r=c,a=o,s=l.length),o=Math.ceil(f/Zn),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/Jr|0,l[i]%=Jr;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,sr?Ln(t,f):t}function qo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ic+e)}function Lo(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Zn-r.length,n&&(i+=qs(n)),i+=r;o=e[t],r=o+"",n=Zn-r.length,n&&(i+=qs(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var os=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%Jr|0,o=i/Jr|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Jr+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,c,d,f,p,m,h,y,x,g,b,w,S,C,N,M,T,L=r.constructor,A=r.s==a.s?1:-1,P=r.d,I=a.d;if(!r.s)return new L(r);if(!a.s)throw Error(Qi+"Division by zero");for(l=r.e-a.e,M=I.length,C=P.length,m=new L(A),h=m.d=[],c=0;I[c]==(P[c]||0);)++c;if(I[c]>(P[c]||0)&&--l,i==null?b=i=L.precision:o?b=i+($r(r)-$r(a))+1:b=i,b<0)return new L(0);if(b=b/Zn+2|0,c=0,M==1)for(d=0,I=I[0],b++;(c<C||d)&&b--;c++)w=d*Jr+(P[c]||0),h[c]=w/I|0,d=w%I|0;else{for(d=Jr/(I[0]+1)|0,d>1&&(I=e(I,d),P=e(P,d),M=I.length,C=P.length),S=M,y=P.slice(0,M),x=y.length;x<M;)y[x++]=0;T=I.slice(),T.unshift(0),N=I[0],I[1]>=Jr/2&&++N;do d=0,s=t(I,y,M,x),s<0?(g=y[0],M!=x&&(g=g*Jr+(y[1]||0)),d=g/N|0,d>1?(d>=Jr&&(d=Jr-1),f=e(I,d),p=f.length,x=y.length,s=t(f,y,p,x),s==1&&(d--,n(f,M<p?T:I,p))):(d==0&&(s=d=1),f=I.slice()),p=f.length,p<x&&f.unshift(0),n(y,f,x),s==-1&&(x=y.length,s=t(I,y,M,x),s<1&&(d++,n(y,M<x?T:I,x))),x=y.length):s===0&&(d++,y=[0]),h[c++]=d,s&&y[0]?y[x++]=P[S]||0:(y=[P[S]],x=1);while((S++<C||y[0]!==void 0)&&b--)}return h[0]||h.shift(),m.e=l,Ln(m,o?i+$r(m)+1:i)}}();function T4(e,t){var n,r,a,i,o,s,l=0,c=0,d=e.constructor,f=d.precision;if($r(e)>16)throw Error(Tk+$r(e));if(!e.s)return new d(yi);for(sr=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Bl(2,c))/Math.LN10*2+5|0,s+=r,n=a=i=new d(yi),d.precision=s;;){if(a=Ln(a.times(e),s),n=n.times(++l),o=i.plus(os(a,n,s)),Lo(o.d).slice(0,s)===Lo(i.d).slice(0,s)){for(;c--;)i=Ln(i.times(i),s);return d.precision=f,t==null?(sr=!0,Ln(i,f)):i}i=o}}function $r(e){for(var t=e.e*Zn,n=e.d[0];n>=10;n/=10)t++;return t}function vv(e,t,n){if(t>e.LN10.sd())throw sr=!0,n&&(e.precision=n),Error(Qi+"LN10 precision limit exceeded");return Ln(new e(e.LN10),t)}function qs(e){for(var t="";e--;)t+="0";return t}function zf(e,t){var n,r,a,i,o,s,l,c,d,f=1,p=10,m=e,h=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(Qi+(m.s?"NaN":"-Infinity"));if(m.eq(yi))return new y(0);if(t==null?(sr=!1,c=x):c=t,m.eq(10))return t==null&&(sr=!0),vv(y,c);if(c+=p,y.precision=c,n=Lo(h),r=n.charAt(0),i=$r(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Lo(m.d),r=n.charAt(0),f++;i=$r(m),r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1))}else return l=vv(y,c+2,x).times(i+""),m=zf(new y(r+"."+n.slice(1)),c-p).plus(l),y.precision=x,t==null?(sr=!0,Ln(m,x)):m;for(s=o=m=os(m.minus(yi),m.plus(yi),c),d=Ln(m.times(m),c),a=3;;){if(o=Ln(o.times(d),c),l=s.plus(os(o,new y(a),c)),Lo(l.d).slice(0,c)===Lo(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(vv(y,c+2,x).times(i+""))),s=os(s,new y(f),c),y.precision=x,t==null?(sr=!0,Ln(s,x)):s;s=l,a+=2}}function yM(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=ed(n/Zn),e.d=[],r=(n+1)%Zn,n<0&&(r+=Zn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Zn;r<a;)e.d.push(+t.slice(r,r+=Zn));t=t.slice(r),r=Zn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),sr&&(e.e>xg||e.e<-xg))throw Error(Tk+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ln(e,t,n){var r,a,i,o,s,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Zn,a=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Zn),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;r%=Zn,a=r-Zn+o}if(n!==void 0&&(i=Bl(10,o-a-1),s=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?c/Bl(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=$r(e),f.length=1,t=t-i-1,f[0]=Bl(10,(Zn-t%Zn)%Zn),e.e=ed(-t/Zn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Bl(10,Zn-r),f[d]=a>0?(c/Bl(10,o-a)%Bl(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Jr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Jr)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(sr&&(e.e>xg||e.e<-xg))throw Error(Tk+$r(e));return e}function O4(e,t){var n,r,a,i,o,s,l,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),sr?Ln(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),a=Math.max(Math.ceil(m/Zn),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Jr-1;--l[i],l[a]+=Jr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,sr?Ln(t,m):t):new p(0)}function vc(e,t,n){var r,a=$r(e),i=Lo(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+qs(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+qs(-a-1)+i,n&&(r=n-o)>0&&(i+=qs(r))):a>=o?(i+=qs(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+qs(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=qs(r))),e.s<0?"-"+i:i}function vM(e,t){if(e.length>t)return e.length=t,!0}function D4(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ic+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return yM(o,i.toString())}else if(typeof i!="string")throw Error(ic+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,oY.test(i))yM(o,i);else throw Error(ic+i)}if(a.prototype=ft,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=D4,a.config=a.set=sY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function sY(e){if(!e||typeof e!="object")throw Error(Qi+"Object expected");var t,n,r,a=["precision",1,Ju,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(ed(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(ic+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ic+n+": "+r);return this}var Ok=D4(iY);yi=new Ok(1);const Pn=Ok;var lY=e=>e,I4={},_4=e=>e===I4,bM=e=>function t(){return arguments.length===0||arguments.length===1&&_4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},L4=(e,t)=>e===1?t:bM(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==I4).length;return i>=e?t(...r):L4(e-i,bM(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(d=>_4(d)?s.shift():d);return t(...c,...s)}))}),cY=e=>L4(e.length,e),_x=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},uY=cY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),dY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return lY;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function F4(e){var t;return e===0?t=1:t=Math.floor(new Pn(e).abs().log(10).toNumber())+1,t}function R4(e,t,n){for(var r=new Pn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var $4=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},B4=(e,t,n)=>{if(e.lte(0))return new Pn(0);var r=F4(e.toNumber()),a=new Pn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Pn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new Pn(l.toNumber()):new Pn(Math.ceil(l.toNumber()))},fY=(e,t,n)=>{var r=new Pn(1),a=new Pn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Pn(10).pow(F4(e)-1),a=new Pn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Pn(Math.floor(e)))}else e===0?a=new Pn(Math.floor((t-1)/2)):n||(a=new Pn(Math.floor(e)));var o=Math.floor((t-1)/2),s=dY(uY(l=>a.add(new Pn(l-o).mul(r)).toNumber()),_x);return s(0,t)},U4=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Pn(0),tickMin:new Pn(0),tickMax:new Pn(0)};var i=B4(new Pn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Pn(0):(o=new Pn(e).add(t).div(2),o=o.sub(new Pn(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Pn(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?U4(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new Pn(s).mul(i)),tickMax:o.add(new Pn(l).mul(i))})},pY=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=$4([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,..._x(0,r-1).map(()=>1/0)]:[..._x(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return fY(o,r,a);var{step:c,tickMin:d,tickMax:f}=U4(o,s,i,a,0),p=R4(d,f.add(new Pn(.1).mul(c)),c);return t>n?p.reverse():p},mY=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=$4([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=B4(new Pn(o).sub(i).div(s-1),a,0),c=[...R4(new Pn(i),new Pn(o),l),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>r?c.reverse():c},hY=e=>e.rootProps.barCategoryGap,yp=e=>e.rootProps.stackOffset,z4=e=>e.rootProps.reverseStackOrder,Dk=e=>e.options.chartName,Ik=e=>e.rootProps.syncId,V4=e=>e.rootProps.syncMethod,_k=e=>e.options.eventEmitter,ua={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},gi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},G0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},gY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qo.angleAxisId,includeHidden:!1,name:void 0,reversed:Qo.reversed,scale:Qo.scale,tick:Qo.tick,tickCount:void 0,ticks:void 0,type:Qo.type,unit:void 0},yY={allowDataOverflow:gi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gi.scale,tick:gi.tick,tickCount:gi.tickCount,ticks:void 0,type:gi.type,unit:void 0},vY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qo.scale,tick:Qo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bY={allowDataOverflow:gi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gi.scale,tick:gi.tick,tickCount:gi.tickCount,ticks:void 0,type:"category",unit:void 0},Lk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vY:gY,Fk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bY:yY,X0=e=>e.polarOptions,Rk=fe([ks,Ss,na],U3),q4=fe([X0,Rk],(e,t)=>{if(e!=null)return Hi(e.innerRadius,t,0)}),W4=fe([X0,Rk],(e,t)=>{if(e!=null)return Hi(e.outerRadius,t,t*.8)}),xY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},H4=fe([X0],xY);fe([Lk,H4],G0);var K4=fe([Rk,q4,W4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});fe([Fk,K4],G0);var Y4=fe([Dn,X0,q4,W4,ks,Ss],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Hi(o,a,a/2),cy:Hi(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),lr=(e,t)=>t,vp=(e,t,n)=>n;function G4(e){return e==null?void 0:e.id}function X4(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=G4(s);c.forEach((f,p)=>{var m=i==null||a?p:String(er(f,i,null)),h=er(f,s.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[d]:h}),o.set(m,y)})}}),Array.from(o.values())}function $k(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Q0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Z0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function wY(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Yr=e=>{var t=Dn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},td=e=>e.tooltip.settings.axisId;function xM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(n),!0).forEach(function(r){kY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kY(e,t,n){return(t=SY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SY(e){var t=NY(e,"string");return typeof t=="symbol"?t:t+""}function NY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lx=[0,"auto"],Qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Q4=(e,t)=>e.cartesianAxis.xAxis[t],js=(e,t)=>{var n=Q4(e,t);return n??Qr},Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:up},Z4=(e,t)=>e.cartesianAxis.yAxis[t],Cs=(e,t)=>{var n=Z4(e,t);return n??Zr},jY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Bk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??jY},yr=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Cs(e,n);case"zAxis":return Bk(e,n);case"angleAxis":return Lk(e,n);case"radiusAxis":return Fk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},CY=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Cs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bp=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Cs(e,n);case"angleAxis":return Lk(e,n);case"radiusAxis":return Fk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},J4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Uk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var eI=e=>e.graphicalItems.cartesianItems,MY=fe([lr,vp],Uk),zk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),xp=fe([eI,yr,MY],zk,{memoizeOptions:{resultEqualityCheck:Z0}}),tI=fe([xp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter($k)),nI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),EY=fe([xp],nI),Vk=e=>e.map(t=>t.data).filter(Boolean).flat(1),AY=fe([xp],Vk,{memoizeOptions:{resultEqualityCheck:Z0}}),qk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Wk=fe([AY,Pk],qk),Hk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:er(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:er(a,r)}))):e.map(r=>({value:r})),J0=fe([Wk,yr,xp],Hk);function rI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function nh(e){if(zo(e)||e instanceof Date){var t=Number(e);if(Br(t))return t}}function wM(e){if(Array.isArray(e)){var t=[nh(e[0]),nh(e[1])];return pl(t)?t:void 0}var n=nh(e);if(n!=null)return[n,n]}function bs(e){return e.map(nh).filter(Wz)}function PY(e,t,n){return!n||typeof t!="number"||Uo(t)?[]:n.length?bs(n.flatMap(r=>{var a=er(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Br(i)||!Br(o)))return[t-i,t+o]})):[]}var Gr=e=>{var t=Yr(e),n=td(e);return bp(e,t,n)},wp=fe([Gr],e=>e==null?void 0:e.dataKey),TY=fe([tI,Pk,Gr],X4),aI=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,c=r?[...l].reverse():l,d=c.map(G4);return[s,{stackedData:s9(e,d,n),graphicalItems:c}]}))},OY=fe([TY,tI,yp,z4],aI),iI=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=u9(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},DY=fe([yr],e=>e.allowDataOverflow),Kk=e=>{var t;if(e==null||!("domain"in e))return Lx;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=bs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Lx},Yk=fe([yr],Kk),Gk=fe([Yk,DY],E4),IY=fe([OY,Sl,lr,Gk],iI,{memoizeOptions:{resultEqualityCheck:Q0}}),ey=e=>e.errorBars,_Y=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>rI(n,r)),kg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},Xk=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>rI(a,g)),p=er(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=PY(s,p,f);if(m.length>=2){var h=Math.min(...m),y=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||y>o)&&(o=y)}var x=wM(p);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=wM(er(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Br(i)&&Br(o))return[i,o]},LY=fe([Wk,yr,EY,ey,lr],Xk,{memoizeOptions:{resultEqualityCheck:Q0}});function FY(e){var{value:t}=e;if(zo(t)||t instanceof Date)return t}var RY=(e,t,n)=>{var r=e.map(FY).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&JO(r))?Y3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},oI=e=>e.referenceElements.dots,nd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),$Y=fe([oI,lr,vp],nd),sI=e=>e.referenceElements.areas,BY=fe([sI,lr,vp],nd),lI=e=>e.referenceElements.lines,UY=fe([lI,lr,vp],nd),cI=(e,t)=>{if(e!=null){var n=bs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},zY=fe($Y,lr,cI),uI=(e,t)=>{if(e!=null){var n=bs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VY=fe([BY,lr],uI);function qY(e){var t;if(e.x!=null)return bs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:bs(n)}function WY(e){var t;if(e.y!=null)return bs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:bs(n)}var dI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?qY(r):WY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},HY=fe([UY,lr],dI),KY=fe(zY,HY,VY,(e,t,n)=>kg(e,n,t)),Qk=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?kg(r,i,a):kg(i,a);return aY(t,c,e.allowDataOverflow)},YY=fe([yr,Yk,Gk,IY,LY,KY,Dn,lr],Qk,{memoizeOptions:{resultEqualityCheck:Q0}}),GY=[0,1],Zk=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=xl(t,i);if(c&&s==null){var d;return Y3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?RY(r,e,c):a==="expand"?GY:o}},Jk=fe([yr,Dn,Wk,J0,yp,lr,YY],Zk),fI=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(op(i));return s in zd?s:"point"}}},rd=fe([yr,Dn,J4,Dk,lr],fI);function XY(e){if(e!=null){if(e in zd)return zd[e]();var t="scale".concat(op(e));if(t in zd)return zd[t]()}}function eS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=XY(t);if(a!=null){var i=a.domain(n).range(r);return r9(i),i}}}var tS=(e,t,n)=>{var r=Kk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&pl(e))return pY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pl(e))return mY(e,t.tickCount,t.allowDecimals)}},nS=fe([Jk,bp,rd],tS),rS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},QY=fe([yr,Jk,nS,lr],rS),ZY=fe(J0,yr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(bs(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],c=r[s+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/o}}),pI=fe(ZY,Dn,hY,na,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Br(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Hi(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),JY=(e,t,n)=>{var r=js(e,t);return r==null||typeof r.padding!="string"?0:pI(e,"xAxis",t,n,r.padding)},eG=(e,t,n)=>{var r=Cs(e,t);return r==null||typeof r.padding!="string"?0:pI(e,"yAxis",t,n,r.padding)},tG=fe(js,JY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),nG=fe(Cs,eG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),rG=fe([na,tG,I0,D0,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),aG=fe([na,Dn,nG,I0,D0,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),kp=(e,t,n,r)=>{var a;switch(t){case"xAxis":return rG(e,n,r);case"yAxis":return aG(e,n,r);case"zAxis":return(a=Bk(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return H4(e);case"radiusAxis":return K4(e,n);default:return}},mI=fe([yr,kp],G0),ty=fe([yr,rd,QY,mI],eS);fe([xp,ey,lr],_Y);function hI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ny=(e,t)=>t,ry=(e,t,n)=>n,iG=fe(T0,ny,ry,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(hI)),oG=fe(O0,ny,ry,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(hI)),gI=(e,t)=>({width:e.width,height:t.height}),sG=(e,t)=>{var n=typeof t.width=="number"?t.width:up;return{width:n,height:e.height}},lG=fe(na,js,gI),cG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},uG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},dG=fe(Ss,na,iG,ny,ry,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=gI(t,s);o==null&&(o=cG(t,r,e));var c=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),i}),fG=fe(ks,na,oG,ny,ry,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=sG(t,s);o==null&&(o=uG(t,r,e));var c=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),i}),pG=(e,t)=>{var n=js(e,t);if(n!=null)return dG(e,n.orientation,n.mirror)},mG=fe([na,js,pG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),hG=(e,t)=>{var n=Cs(e,t);if(n!=null)return fG(e,n.orientation,n.mirror)},gG=fe([na,Cs,hG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),yG=fe(na,Cs,(e,t)=>{var n=typeof t.width=="number"?t.width:up;return{width:n,height:e.height}}),yI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=xl(e,r),l=t.map(c=>c.value);if(o&&s&&i==="category"&&a&&JO(l))return l}},aS=fe([Dn,J0,yr,lr],yI),vI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=xl(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},iS=fe([Dn,J0,bp,lr],vI),kM=fe([Dn,CY,rd,ty,aS,iS,kp,nS,lr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var c=xl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}}),vG=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var c=xl(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?wa(i[0]-i[1])*2*h:h;var y=f||a;if(y){var x=y.map((g,b)=>{var w=o?o.indexOf(g):g;return{index:b,coordinate:r(w)+h,value:g,offset:h}});return x.filter(g=>Br(g.coordinate))}return c&&s?s.map((g,b)=>({coordinate:r(g)+h,value:g,index:b,offset:h})).filter(g=>Br(g.coordinate)):r.ticks?r.ticks(p).map(g=>({coordinate:r(g)+h,value:g,offset:h})):r.domain().map((g,b)=>({coordinate:r(g)+h,value:o?o[g]:g,index:b,offset:h}))}},bI=fe([Dn,bp,rd,ty,nS,kp,aS,iS,lr],vG),bG=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=xl(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?wa(r[0]-r[1])*2*c:c,s&&i?i.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:a?a[d]:d,index:f,offset:c}))}},xI=fe([Dn,bp,ty,kp,aS,iS,lr],bG),wI=fe(yr,ty,(e,t)=>{if(!(e==null||t==null))return wg(wg({},e),{},{scale:t})}),xG=fe([yr,rd,Jk,mI],eS);fe((e,t,n)=>Bk(e,n),xG,(e,t)=>{if(!(e==null||t==null))return wg(wg({},e),{},{scale:t})});var wG=fe([Dn,T0,O0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kI=e=>e.options.defaultTooltipEventType,SI=e=>e.options.validateTooltipEventTypes;function NI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function oS(e,t){var n=kI(e),r=SI(e);return NI(t,n,r)}function kG(e){return wt(t=>oS(t,e))}var jI=(e,t)=>{var n,r=Number(t);if(!(Uo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},SG=e=>e.tooltip.settings,Gs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},NG={itemInteraction:{click:Gs,hover:Gs},axisInteraction:{click:Gs,hover:Gs},keyboardInteraction:Gs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CI=ai({name:"tooltip",initialState:NG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ir()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=po(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:ir()},removeTooltipEntrySettings:{reducer(e,t){var n=po(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ir()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:jG,replaceTooltipEntrySettings:CG,removeTooltipEntrySettings:MG,setTooltipSettingsState:EG,setActiveMouseOverItemIndex:MI,mouseLeaveItem:AG,mouseLeaveChart:EI,setActiveClickItemIndex:PG,setMouseOverAxisIndex:AI,setMouseClickAxisIndex:TG,setSyncInteraction:Fx,setKeyboardInteraction:Rx}=CI.actions,OG=CI.reducer;function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(r){DG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DG(e,t,n){return(t=IG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FG(e){return e.index!=null}var PI=(e,t,n,r)=>{if(t==null)return Gs;var a=LG(e,t,n);if(a==null)return Gs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(FG(a)){if(i)return Mm(Mm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Mm(Mm({},Gs),{},{coordinate:a.coordinate})};function RG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function $G(e,t){var n=RG(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function BG(e,t,n){if(n==null||t==null)return!0;var r=er(e,t);return r==null||!pl(n)?!0:$G(r,n)}var sS=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Br(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),c=t[l];return c==null||BG(c,n,r)?String(l):null},TI=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},OI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Sp=e=>e.options.tooltipPayloadSearcher,ad=e=>e.tooltip;function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(r){UG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UG(e,t,n){return(t=zG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qG(e,t){return e??t}var DI=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:y,settings:x}=m,g=qG(y,s),b=Array.isArray(g)?c3(g,c,d):g,w=(h=x==null?void 0:x.dataKey)!==null&&h!==void 0?h:r,S=x==null?void 0:x.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?C=eD(b,r,a):C=i(b,t,l,S),Array.isArray(C))C.forEach(M=>{var T=jM(jM({},x),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});p.push(Fj({tooltipEntrySettings:T,dataKey:M.dataKey,payload:M.payload,value:er(M.payload,M.dataKey),name:M.name}))});else{var N;p.push(Fj({tooltipEntrySettings:x,dataKey:w,payload:C,value:er(C,w),name:(N=er(C,S))!==null&&N!==void 0?N:x==null?void 0:x.name}))}return p},f)}},lS=fe([Gr,Dn,J4,Dk,Yr],fI),WG=fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HG=fe([Yr,td],Uk),id=fe([WG,Gr,HG],zk,{memoizeOptions:{resultEqualityCheck:Z0}}),KG=fe([id],e=>e.filter($k)),YG=fe([id],Vk,{memoizeOptions:{resultEqualityCheck:Z0}}),od=fe([YG,Sl],qk),GG=fe([KG,Sl,Gr],X4),cS=fe([od,Gr,id],Hk),II=fe([Gr],Kk),XG=fe([Gr],e=>e.allowDataOverflow),_I=fe([II,XG],E4),QG=fe([id],e=>e.filter($k)),ZG=fe([GG,QG,yp,z4],aI),JG=fe([ZG,Sl,Yr,_I],iI),eX=fe([id],nI),tX=fe([od,Gr,eX,ey,Yr],Xk,{memoizeOptions:{resultEqualityCheck:Q0}}),nX=fe([oI,Yr,td],nd),rX=fe([nX,Yr],cI),aX=fe([sI,Yr,td],nd),iX=fe([aX,Yr],uI),oX=fe([lI,Yr,td],nd),sX=fe([oX,Yr],dI),lX=fe([rX,sX,iX],kg),cX=fe([Gr,II,_I,JG,tX,lX,Dn,Yr],Qk),Np=fe([Gr,Dn,od,cS,yp,Yr,cX],Zk),uX=fe([Np,Gr,lS],tS),dX=fe([Gr,Np,uX,Yr],rS),LI=e=>{var t=Yr(e),n=td(e),r=!1;return kp(e,t,n,r)},FI=fe([Gr,LI],G0),RI=fe([Gr,lS,dX,FI],eS),fX=fe([Dn,cS,Gr,Yr],yI),pX=fe([Dn,cS,Gr,Yr],vI),mX=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=xl(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?wa(a[0]-a[1])*2*f:f,c&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Ms=fe([Dn,Gr,lS,RI,LI,fX,pX,Yr],mX),uS=fe([kI,SI,SG],(e,t,n)=>NI(n.shared,e,t)),$I=e=>e.tooltip.settings.trigger,dS=e=>e.tooltip.settings.defaultIndex,jp=fe([ad,uS,$I,dS],PI),Vu=fe([jp,od,wp,Np],sS),BI=fe([Ms,Vu],jI),UI=fe([jp],e=>{if(e)return e.dataKey}),hX=fe([jp],e=>{if(e)return e.graphicalItemId}),zI=fe([ad,uS,$I,dS],OI),gX=fe([ks,Ss,Dn,na,Ms,dS,zI,Sp],TI),yX=fe([jp,gX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),vX=fe([jp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),bX=fe([zI,Vu,Sl,wp,BI,Sp,uS],DI),xX=fe([bX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function CM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(n),!0).forEach(function(r){wX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wX(e,t,n){return(t=kX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NX=()=>wt(Gr),jX=()=>{var e=NX(),t=wt(Ms),n=wt(RI);return px(!e||!n?void 0:MM(MM({},e),{},{scale:n}),t)};function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){CX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CX(e,t,n){return(t=MX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MX(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AX=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},PX=(e,t,n,r)=>{var a=t.find(c=>c&&c.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Kc(Kc(Kc({},r),Rr(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Kc(Kc(Kc({},r),Rr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function TX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var VI=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,c,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,y=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(m==null||h==null||y==null))if(wa(h-m)!==wa(y-h)){var g=[];if(wa(y-h)===wa(a[1]-a[0])){x=y;var b=h+a[1]-a[0];g[0]=Math.min(b,(b+m)/2),g[1]=Math.max(b,(b+m)/2)}else{x=m;var w=y+a[1]-a[0];g[0]=Math.min(h,(w+h)/2),g[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){var C;return(C=n[s])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,y),M=Math.max(m,y);if(e>(N+h)/2&&e<=(M+h)/2){var T;return(T=n[s])===null||T===void 0?void 0:T.index}}}else if(t)for(var L=0;L<o;L++){var A=t[L];if(A!=null){var P=t[L+1],I=t[L-1];if(L===0&&P!=null&&e<=(A.coordinate+P.coordinate)/2||L===o-1&&I!=null&&e>(A.coordinate+I.coordinate)/2||L>0&&L<o-1&&I!=null&&P!=null&&e>(A.coordinate+I.coordinate)/2&&e<=(A.coordinate+P.coordinate)/2)return A.index}}return-1},OX=()=>wt(Dk),fS=(e,t)=>t,qI=(e,t,n)=>n,pS=(e,t,n,r)=>r,DX=fe(Ms,e=>x0(e,t=>t.coordinate)),mS=fe([ad,fS,qI,pS],PI),hS=fe([mS,od,wp,Np],sS),IX=(e,t,n)=>{if(t!=null){var r=ad(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},WI=fe([ad,fS,qI,pS],OI),Sg=fe([ks,Ss,Dn,na,Ms,pS,WI,Sp],TI),_X=fe([mS,Sg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),HI=fe([Ms,hS],jI),LX=fe([WI,hS,Sl,wp,HI,Sp,fS],DI),FX=fe([mS,hS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),RX=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&TX(e,o)){var s=d9(e,t),l=VI(s,i,a,n,r),c=AX(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},$X=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=NW(e,n);if(s){var l=f9(s,t),c=VI(l,o,i,r,a),d=PX(t,i,c,s);return{activeIndex:String(c),activeCoordinate:d}}}},BX=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?RX(e,t,r,a,i,o,s):$X(e,t,n,r,a,i,o)},UX=fe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),zX=fe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ua)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:wY}});function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){VX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VX(e,t,n){return(t=qX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HX={},KX={zIndexMap:Object.values(ua).reduce((e,t)=>PM(PM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),HX)},YX=new Set(Object.values(ua));function GX(e){return YX.has(e)}var KI=ai({name:"zIndex",initialState:KX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ir()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!GX(n)&&delete e.zIndexMap[n])},prepare:ir()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:ir()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ir()}}}),{registerZIndexPortal:XX,unregisterZIndexPortal:QX,registerZIndexPortalElement:ZX,unregisterZIndexPortalElement:JX}=KI.actions,eQ=KI.reducer;function So(e){var{zIndex:t,children:n}=e,r=$9(),a=r&&t!==void 0&&t!==0,i=ii(),o=Wn();v.useLayoutEffect(()=>a?(o(XX({zIndex:t})),()=>{o(QX({zIndex:t}))}):sp,[o,t,a]);var s=wt(l=>UX(l,t,i));return a?s?Qu.createPortal(n,s):null:n}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(null,arguments)}function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(r){tQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tQ(e,t,n){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nQ(e){var t=rQ(e,"string");return typeof t=="symbol"?t:t+""}function rQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function iQ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var h,y,x;if(d==="ScatterChart")h=f,y=Rq,x=ua.cursorLine;else if(d==="BarChart")h=$q(s,f,i,o),y=B3,x=ua.cursorRectangle;else if(s==="radial"&&nD(f)){var{cx:g,cy:b,radius:w,startAngle:S,endAngle:C}=z3(f);h={cx:g,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},y=q3,x=ua.cursorLine}else h={points:EW(s,f,i)},y=ik,x=ua.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,M=Em(Em(Em(Em({stroke:"#ccc",pointerEvents:"none"},i),h),_u(l)),{},{payload:p,payloadIndex:m,className:jn("recharts-tooltip-cursor",N)});return v.createElement(So,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},v.createElement(aQ,{cursor:l,cursorComp:y,cursorProps:M}))}function oQ(e){var t=jX(),n=S3(),r=dp(),a=OX();return t==null||n==null||r==null||a==null?null:v.createElement(iQ,$x({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var YI=v.createContext(null),sQ=()=>v.useContext(YI),GI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,c,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var y=this._events[h],x=arguments.length,g,b;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,m),!0}for(b=1,g=new Array(x-1);b<x;b++)g[b-1]=arguments[b];y.fn.apply(y.context,g)}else{var w=y.length,S;for(b=0;b<w;b++)switch(y[b].once&&this.removeListener(l,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,d);break;case 4:y[b].fn.call(y[b].context,c,d,f);break;default:if(!g)for(S=1,g=new Array(x-1);S<x;S++)g[S-1]=arguments[S];y[b].fn.apply(y[b].context,g)}}return!0},s.prototype.on=function(l,c,d){return i(this,l,c,d,!1)},s.prototype.once=function(l,c,d){return i(this,l,c,d,!0)},s.prototype.removeListener=function(l,c,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,y=[],x=m.length;h<x;h++)(m[h].fn!==c||f&&!m[h].once||d&&m[h].context!==d)&&y.push(m[h]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(GI);var lQ=GI.exports;const cQ=wo(lQ);var Vf=new cQ,Bx="recharts.syncEvent.tooltip",OM="recharts.syncEvent.brush";function XI(e,t){if(t){var n=Number.parseInt(t,10);if(!Uo(n))return e==null?void 0:e[n]}}var uQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},QI=ai({name:"options",initialState:uQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dQ=QI.reducer,{createEventEmitter:fQ}=QI.actions;function pQ(e){return e.tooltip.syncInteraction}var mQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ZI=ai({name:"chartData",initialState:mQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:DM,setDataStartEndIndexes:hQ,setComputedData:ege}=ZI.actions,gQ=ZI.reducer,yQ=["x","y"];function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(r){vQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vQ(e,t,n){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wQ(e,t){if(e==null)return{};var n,r,a=kQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SQ(){var e=wt(Ik),t=wt(_k),n=Wn(),r=wt(V4),a=wt(Ms),i=dp(),o=_0(),s=wt(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return sp;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y}=m,x=wQ(m,yQ),{x:g,y:b,width:w,height:S}=d.payload.sourceViewBox,C=Yc(Yc({},x),{},{x:o.x+(w?(h-g)/w:0)*o.width,y:o.y+(S?(y-b)/S:0)*o.height});n(Yc(Yc({},d),{},{payload:Yc(Yc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var N;if(typeof r=="function"){var M={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(a,M);N=a[T]}else r==="value"&&(N=a.find(ce=>String(ce.value)===d.payload.label));var{coordinate:L}=d.payload;if(N==null||d.payload.active===!1||L==null||o==null){n(Fx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:P}=L,I=Math.min(A,o.x+o.width),z=Math.min(P,o.y+o.height),G={x:i==="horizontal"?N.coordinate:I,y:i==="horizontal"?z:N.coordinate},J=Fx({active:d.payload.active,coordinate:G,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(J)}}};return Vf.on(Bx,l),()=>{Vf.off(Bx,l)}},[s,n,t,e,r,a,i,o])}function NQ(){var e=wt(Ik),t=wt(_k),n=Wn();v.useEffect(()=>{if(e==null)return sp;var r=(a,i,o)=>{t!==o&&e===a&&n(hQ(i))};return Vf.on(OM,r),()=>{Vf.off(OM,r)}},[n,t,e])}function jQ(){var e=Wn();v.useEffect(()=>{e(fQ())},[e]),SQ(),NQ()}function CQ(e,t,n,r,a,i){var o=wt(m=>IX(m,e,t)),s=wt(_k),l=wt(Ik),c=wt(V4),d=wt(pQ),f=d==null?void 0:d.active,p=_0();v.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Fx({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Vf.emit(Bx,l,m,s)}},[f,n,o,a,r,s,l,c,i,p])}function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function LM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){MQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MQ(e,t,n){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PQ(e){return e.dataKey}function TQ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(yq,t)}var FM=[],OQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bc(e){var t,n,r=Hr(e,OQ),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:y,wrapperStyle:x,cursor:g,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,M=Wn(),T=typeof S=="number"?String(S):S;v.useEffect(()=>{M(EG({shared:b,trigger:w,axisId:N,active:a,defaultIndex:T}))},[M,b,w,N,a,T]);var L=_0(),A=_3(),P=kG(b),{activeIndex:I,isActive:z}=(t=wt(H=>FX(H,P,w,T)))!==null&&t!==void 0?t:{},G=wt(H=>LX(H,P,w,T)),J=wt(H=>HI(H,P,w,T)),ce=wt(H=>_X(H,P,w,T)),$=G,B=sQ(),re=(n=a??z)!==null&&n!==void 0?n:!1,[k,O]=DD([$,re]),E=P==="axis"?J:void 0;CQ(P,w,ce,E,I,re);var j=C??B;if(j==null||L==null||P==null)return null;var V=$??FM;re||(V=FM),c&&V.length&&(V=wD(V.filter(H=>H.value!=null&&(H.hide!==!0||r.includeHidden)),p,PQ));var Q=V.length>0,W=v.createElement(Nq,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:re,coordinate:ce,hasPayload:Q,offset:f,position:m,reverseDirection:h,useTranslate3d:y,viewBox:L,wrapperStyle:x,lastBoundingBox:k,innerRef:O,hasPortalFromProps:!!C},TQ(l,LM(LM({},r),{},{payload:V,label:E,active:re,activeIndex:I,coordinate:ce,accessibilityLayer:A})));return v.createElement(v.Fragment,null,Qu.createPortal(W,j),re&&v.createElement(oQ,{cursor:g,tooltipEventType:P,coordinate:ce,payload:V,index:I}))}var qu=e=>null;qu.displayName="Cell";function DQ(e,t,n){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LQ{constructor(t){DQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(n),!0).forEach(function(r){RQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RQ(e,t,n){return(t=$Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Q(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UQ={cacheSize:2e3,enableCache:!0},JI=FQ({},UQ),$M=new LQ(JI.cacheSize),zQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BM="recharts_measurement_span";function VQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var UM=(e,t)=>{try{var n=document.getElementById(BM);n||(n=document.createElement("span"),n.setAttribute("id",BM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Jd=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||B0.isSsr)return{width:0,height:0};if(!JI.enableCache)return UM(e,t);var n=VQ(e,t),r=$M.get(n);if(r)return r;var a=UM(e,t);return $M.set(n,a),a},e_;function qQ(e,t,n){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,GQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XQ=["cm","mm","pt","pc","in","Q","px"];function QQ(e){return XQ.includes(e)}var fu="NaN";function ZQ(e,t){return e*GQ[t]}class ca{static parse(t){var n,[,r,a]=(n=YQ.exec(t))!==null&&n!==void 0?n:[];return r==null?ca.NaN:new ca(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Uo(t)&&(this.unit=""),n!==""&&!KQ.test(n)&&(this.num=NaN,this.unit=""),QQ(n)&&(this.num=ZQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ca(NaN,""):new ca(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ca(NaN,""):new ca(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ca(NaN,""):new ca(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ca(NaN,""):new ca(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Uo(this.num)}}e_=ca;qQ(ca,"NaN",new e_(NaN,""));function t_(e){if(e==null||e.includes(fu))return fu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=zM.exec(t))!==null&&n!==void 0?n:[],o=ca.parse(r??""),s=ca.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return fu;t=t.replace(zM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=VM.exec(t))!==null&&c!==void 0?c:[],m=ca.parse(d??""),h=ca.parse(p??""),y=f==="+"?m.add(h):m.subtract(h);if(y.isNaN())return fu;t=t.replace(VM,y.toString())}return t}var qM=/\(([^()]*)\)/;function JQ(e){for(var t=e,n;(n=qM.exec(t))!=null;){var[,r]=n;t=t.replace(qM,t_(r))}return t}function eZ(e){var t=e.replace(/\s+/g,"");return t=JQ(t),t=t_(t),t}function tZ(e){try{return eZ(e)}catch{return fu}}function bv(e){var t=tZ(e.slice(5,-1));return t===fu?"":t}var nZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rZ=["dx","dy","angle","className","breakAll"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}function WM(e,t){if(e==null)return{};var n,r,a=aZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function aZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var n_=/[ \f\n\r\t\v\u2028\u2029]+/,r_=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Wr(t)||(n?a=t.toString().split(""):a=t.toString().split(n_));var i=a.map(s=>({word:s,width:Jd(s,r).width})),o=n?0:Jd("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function iZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var a_=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var c={words:[o],width:s};a.push(c)}return a},[]),i_=e=>e.reduce((t,n)=>t.width>n.width?t:n),oZ="",HM=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),c=r_({breakAll:n,style:r,children:l+oZ});if(!c)return[!1,[]];var d=a_(c.wordsWithComputedWidth,i,o,s),f=d.length>a||i_(d).width>Number(i);return[f,d]},sZ=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=St(i),d=String(o),f=a_(t,r,n,a);if(!c||a)return f;var p=f.length>i||i_(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,y=0,x;m<=h&&y<=d.length-1;){var g=Math.floor((m+h)/2),b=g-1,[w,S]=HM(d,b,l,s,i,r,n,a),[C]=HM(d,g,l,s,i,r,n,a);if(!w&&!C&&(m=g+1),w&&C&&(h=g-1),!w&&C){x=S;break}y++}return x||f},KM=e=>{var t=Wr(e)?[]:e.toString().split(n_);return[{words:t,width:void 0}]},lZ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!B0.isSsr){var s,l,c=r_({breakAll:i,children:r,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;s=d,l=f}else return KM(r);return sZ({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return KM(r)},o_="#808080",cZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:o_,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ay=v.forwardRef((e,t)=>{var n=Hr(e,cZ),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=WM(n,nZ),p=v.useMemo(()=>lZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:y,className:x,breakAll:g}=f,b=WM(f,rZ);if(!zo(r)||!zo(a)||p.length===0)return null;var w=Number(r)+(St(m)?m:0),S=Number(a)+(St(h)?h:0);if(!Br(w)||!Br(S))return null;var C;switch(d){case"start":C=bv("calc(".concat(o,")"));break;case"middle":C=bv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=bv("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(l){var M=p[0].width,{width:T}=f;N.push("scale(".concat(St(T)&&St(M)?T/M:1,")"))}return y&&N.push("rotate(".concat(y,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),v.createElement("text",Ux({},Fa(b),{ref:t,x:w,y:S,className:jn("recharts-text",x),textAnchor:c,fill:s.includes("url")?o_:s}),p.map((L,A)=>{var P=L.words.join(g?"":" ");return v.createElement("tspan",{x:w,dy:A===0?C:i,key:"".concat(P,"-").concat(A)},P)}))});ay.displayName="Text";var uZ=["labelRef"],dZ=["content"];function YM(e,t){if(e==null)return{};var n,r,a=fZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(n),!0).forEach(function(r){pZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pZ(e,t,n){return(t=mZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zo.apply(null,arguments)}var s_=v.createContext(null),gZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return v.createElement(s_.Provider,{value:l},s)},l_=()=>{var e=v.useContext(s_),t=_0();return e||k3(t)},yZ=v.createContext(null),vZ=()=>{var e=v.useContext(yZ),t=wt(Y4);return e||t},bZ=e=>{var{value:t,formatter:n}=e,r=Wr(e.children)?t:e.children;return typeof n=="function"?n(r):r},gS=e=>e!=null&&typeof e=="function",xZ=(e,t)=>{var n=wa(t-e),r=Math.min(Math.abs(t-e),360);return n*r},wZ=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(c+d)/2,y=xZ(f,p),x=y>=0?1:-1,g,b;switch(t){case"insideStart":g=f+x*i,b=m;break;case"insideEnd":g=p-x*i,b=!m;break;case"end":g=p+x*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var w=Rr(s,l,h,g),S=Rr(s,l,h,g+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Wr(e.id)?Pf("recharts-radial-line-"):e.id;return v.createElement("text",Zo({},r,{dominantBaseline:"central",className:jn("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:N,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(N)},n))},kZ=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Rr(r,a,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Rr(r,a,p,c);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},zx=e=>"cx"in e&&St(e.cx),SZ=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!zx(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:d}=t,f=o,p=o+(l-c)/2,m=(f+p)/2,h=(l+c)/2,y=f+l/2,x=d>=0?1:-1,g=x*r,b=x>0?"end":"start",w=x>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",M=S>0?"start":"end";if(a==="top"){var T={x:f+l/2,y:s-g,textAnchor:"middle",verticalAnchor:b};return Mr(Mr({},T),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var L={x:p+c/2,y:s+d+g,textAnchor:"middle",verticalAnchor:w};return Mr(Mr({},L),i?{height:Math.max(i.y+i.height-(s+d),0),width:c}:{})}if(a==="left"){var A={x:m-C,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return Mr(Mr({},A),i?{width:Math.max(A.x-i.x,0),height:d}:{})}if(a==="right"){var P={x:m+h+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"};return Mr(Mr({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var I=i?{width:h,height:d}:{};return a==="insideLeft"?Mr({x:m+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"},I):a==="insideRight"?Mr({x:m+h-C,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},I):a==="insideTop"?Mr({x:f+l/2,y:s+g,textAnchor:"middle",verticalAnchor:w},I):a==="insideBottom"?Mr({x:p+c/2,y:s+d-g,textAnchor:"middle",verticalAnchor:b},I):a==="insideTopLeft"?Mr({x:f+C,y:s+g,textAnchor:M,verticalAnchor:w},I):a==="insideTopRight"?Mr({x:f+l-C,y:s+g,textAnchor:N,verticalAnchor:w},I):a==="insideBottomLeft"?Mr({x:p+C,y:s+d-g,textAnchor:M,verticalAnchor:b},I):a==="insideBottomRight"?Mr({x:p+c-C,y:s+d-g,textAnchor:N,verticalAnchor:b},I):a&&typeof a=="object"&&(St(a.x)||ms(a.x))&&(St(a.y)||ms(a.y))?Mr({x:o+Hi(a.x,h),y:s+Hi(a.y,d),textAnchor:"end",verticalAnchor:"end"},I):Mr({x:y,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},I)},NZ={angle:0,offset:5,zIndex:ua.label,position:"middle",textBreakAll:!1};function Ws(e){var t=Hr(e,NZ),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:c}=t,d=vZ(),f=l_(),p=r==="center"?f:d??f,m,h,y;if(n==null?m=p:zx(n)?m=n:m=k3(n),!m||Wr(a)&&Wr(i)&&!v.isValidElement(o)&&typeof o!="function")return null;var x=Mr(Mr({},t),{},{viewBox:m});if(v.isValidElement(o)){var{labelRef:g}=x,b=YM(x,uZ);return v.cloneElement(o,b)}if(typeof o=="function"){var{content:w}=x,S=YM(x,dZ);if(h=v.createElement(o,S),v.isValidElement(h))return h}else h=bZ(t);var C=Fa(t);if(zx(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return wZ(t,r,h,C,m);y=kZ(m,t.offset,t.position)}else y=SZ(t,m);return v.createElement(So,{zIndex:t.zIndex},v.createElement(ay,Zo({ref:c,className:jn("recharts-label",s)},C,y,{textAnchor:iZ(C.textAnchor)?C.textAnchor:y.textAnchor,breakAll:l}),h))}Ws.displayName="Label";var jZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Ws,Zo({key:"label-implicit"},r)):zo(e)?v.createElement(Ws,Zo({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Ws?v.cloneElement(e,Mr({key:"label-implicit"},r)):v.createElement(Ws,Zo({key:"label-implicit",content:e},r)):gS(e)?v.createElement(Ws,Zo({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Ws,Zo({},e,{key:"label-implicit"},r)):null};function CZ(e){var{label:t,labelRef:n}=e,r=l_();return jZ(t,r,n)||null}var c_={},u_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(u_);var d_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(d_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u_,n=d_,r=y0;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(c_);var MZ=c_.last;const EZ=wo(MZ);var AZ=["valueAccessor"],PZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(null,arguments)}function XM(e,t){if(e==null)return{};var n,r,a=TZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function TZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OZ=e=>Array.isArray(e.value)?EZ(e.value):e.value,f_=v.createContext(void 0),DZ=f_.Provider,p_=v.createContext(void 0),IZ=p_.Provider;function _Z(){return v.useContext(f_)}function LZ(){return v.useContext(p_)}function rh(e){var{valueAccessor:t=OZ}=e,n=XM(e,AZ),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=XM(n,PZ),c=_Z(),d=LZ(),f=c||d;return!f||!f.length?null:v.createElement(So,{zIndex:s??ua.label},v.createElement(ti,{className:"recharts-label-list"},f.map((p,m)=>{var h,y=Wr(r)?t(p,m):er(p&&p.payload,r),x=Wr(i)?{}:{id:"".concat(i,"-").concat(m)};return v.createElement(Ws,Ng({key:"label-".concat(m)},Fa(p),l,x,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}rh.displayName="LabelList";function m_(e){var{label:t}=e;return t?t===!0?v.createElement(rh,{key:"labelList-implicit"}):v.isValidElement(t)||gS(t)?v.createElement(rh,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(rh,Ng({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(null,arguments)}var h_=e=>{var{cx:t,cy:n,r,className:a}=e,i=jn("recharts-dot",a);return St(t)&&St(n)&&St(r)?v.createElement("circle",Vx({},Gi(e),_1(e),{className:i,cx:t,cy:n,r})):null},g_=e=>e.graphicalItems.polarItems,FZ=fe([lr,vp],Uk),iy=fe([g_,yr,FZ],zk),RZ=fe([iy],Vk),oy=fe([RZ,Ak],qk),$Z=fe([oy,yr,iy],Hk);fe([oy,yr,iy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=er(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:er(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var QM=()=>{},BZ=fe([oy,yr,iy,ey,lr],Xk),UZ=fe([yr,Yk,Gk,QM,BZ,QM,Dn,lr],Qk),y_=fe([yr,Dn,oy,$Z,yp,lr,UZ],Zk),zZ=fe([y_,yr,rd],tS);fe([yr,y_,zZ,lr],rS);var VZ={radiusAxis:{},angleAxis:{}},v_=ai({name:"polarAxis",initialState:VZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:tge,removeRadiusAxis:nge,addAngleAxis:rge,removeAngleAxis:age}=v_.actions,qZ=v_.reducer;function ZM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(n),!0).forEach(function(r){WZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WZ(e,t,n){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YZ=(e,t)=>t,yS=fe([g_,YZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),GZ=[],vS=(e,t,n)=>(n==null?void 0:n.length)===0?GZ:n,b_=fe([Ak,yS,vS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>JM(JM({},t.presentationProps),i.props))),a!=null)return a}}),XZ=fe([b_,yS,vS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=er(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:P0(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),QZ=fe([b_,yS,vS,na],(e,t,n,r)=>{if(!(t==null||e==null))return uee({offset:r,pieSettings:t,displayedData:e,cells:n})}),x_={exports:{}},Rn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var sy=60103,ly=60106,Cp=60107,Mp=60108,Ep=60114,Ap=60109,Pp=60110,Tp=60112,Op=60113,bS=60120,Dp=60115,Ip=60116,w_=60121,k_=60122,S_=60117,N_=60129,j_=60131;if(typeof Symbol=="function"&&Symbol.for){var oa=Symbol.for;sy=oa("react.element"),ly=oa("react.portal"),Cp=oa("react.fragment"),Mp=oa("react.strict_mode"),Ep=oa("react.profiler"),Ap=oa("react.provider"),Pp=oa("react.context"),Tp=oa("react.forward_ref"),Op=oa("react.suspense"),bS=oa("react.suspense_list"),Dp=oa("react.memo"),Ip=oa("react.lazy"),w_=oa("react.block"),k_=oa("react.server.block"),S_=oa("react.fundamental"),N_=oa("react.debug_trace_mode"),j_=oa("react.legacy_hidden")}function No(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sy:switch(e=e.type,e){case Cp:case Ep:case Mp:case Op:case bS:return e;default:switch(e=e&&e.$$typeof,e){case Pp:case Tp:case Ip:case Dp:case Ap:return e;default:return t}}case ly:return t}}}var ZZ=Ap,JZ=sy,eJ=Tp,tJ=Cp,nJ=Ip,rJ=Dp,aJ=ly,iJ=Ep,oJ=Mp,sJ=Op;Rn.ContextConsumer=Pp;Rn.ContextProvider=ZZ;Rn.Element=JZ;Rn.ForwardRef=eJ;Rn.Fragment=tJ;Rn.Lazy=nJ;Rn.Memo=rJ;Rn.Portal=aJ;Rn.Profiler=iJ;Rn.StrictMode=oJ;Rn.Suspense=sJ;Rn.isAsyncMode=function(){return!1};Rn.isConcurrentMode=function(){return!1};Rn.isContextConsumer=function(e){return No(e)===Pp};Rn.isContextProvider=function(e){return No(e)===Ap};Rn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sy};Rn.isForwardRef=function(e){return No(e)===Tp};Rn.isFragment=function(e){return No(e)===Cp};Rn.isLazy=function(e){return No(e)===Ip};Rn.isMemo=function(e){return No(e)===Dp};Rn.isPortal=function(e){return No(e)===ly};Rn.isProfiler=function(e){return No(e)===Ep};Rn.isStrictMode=function(e){return No(e)===Mp};Rn.isSuspense=function(e){return No(e)===Op};Rn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cp||e===Ep||e===N_||e===Mp||e===Op||e===bS||e===j_||typeof e=="object"&&e!==null&&(e.$$typeof===Ip||e.$$typeof===Dp||e.$$typeof===Ap||e.$$typeof===Pp||e.$$typeof===Tp||e.$$typeof===S_||e.$$typeof===w_||e[0]===k_)};Rn.typeOf=No;x_.exports=Rn;var lJ=x_.exports,eE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",tE=null,xv=null,C_=e=>{if(e===tE&&Array.isArray(xv))return xv;var t=[];return v.Children.forEach(e,n=>{Wr(n)||(lJ.isFragment(n)?t=t.concat(C_(n.props.children)):t.push(n))}),xv=t,tE=e,t};function M_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>eE(a)):r=[eE(t)],C_(e).forEach(a=>{var i=pc(a,"type.displayName")||pc(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var E_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,A_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(A_);var cJ=A_.isPlainObject;const uJ=wo(cJ);var nE,rE,aE,iE,oE;function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(r){dJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(null,arguments)}function Td(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cE=(e,t,n,r,a)=>{var i=n-r,o;return o=wr(nE||(nE=Td(["M ",",",""])),e,t),o+=wr(rE||(rE=Td(["L ",",",""])),e+n,t),o+=wr(aE||(aE=Td(["L ",",",""])),e+n-i/2,t+a),o+=wr(iE||(iE=Td(["L ",",",""])),e+n-i/2-r,t+a),o+=wr(oE||(oE=Td(["L ",","," Z"])),e,t),o},mJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hJ=e=>{var t=Hr(e,mJ),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=v.useRef(null),[m,h]=v.useState(-1),y=v.useRef(a),x=v.useRef(i),g=v.useRef(o),b=v.useRef(n),w=v.useRef(r),S=z0(e,"trapezoid-");if(v.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var G=p.current.getTotalLength();G&&h(G)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var C=jn("recharts-trapezoid",s);if(!f)return v.createElement("g",null,v.createElement("path",jg({},Fa(t),{className:C,d:cE(n,r,a,i,o)})));var N=y.current,M=x.current,T=g.current,L=b.current,A=w.current,P="0px ".concat(m===-1?1:m,"px"),I="".concat(m,"px 0px"),z=L3(["strokeDasharray"],c,l);return v.createElement(U0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},G=>{var J=xa(N,a,G),ce=xa(M,i,G),$=xa(T,o,G),B=xa(L,n,G),re=xa(A,r,G);p.current&&(y.current=J,x.current=ce,g.current=$,b.current=B,w.current=re);var k=G>0?{transition:z,strokeDasharray:I}:{strokeDasharray:P};return v.createElement("path",jg({},Fa(t),{className:C,d:cE(B,re,J,ce,$),ref:p,style:lE(lE({},k),t.style)}))})},gJ=["option","shapeType","activeClassName"];function yJ(e,t){if(e==null)return{};var n,r,a=vJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(r){bJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bJ(e,t,n){return(t=xJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xJ(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kJ(e,t){return Cg(Cg({},t),e)}function SJ(e,t){return e==="symbols"}function dE(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(B3,n);case"trapezoid":return v.createElement(hJ,n);case"sector":return v.createElement(q3,n);case"symbols":if(SJ(t))return v.createElement(I1,n);break;case"curve":return v.createElement(ik,n);default:return null}}function NJ(e){return v.isValidElement(e)?e.props:e}function P_(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=yJ(e,gJ),i;if(v.isValidElement(t))i=v.cloneElement(t,Cg(Cg({},a),NJ(t)));else if(typeof t=="function")i=t(a,a.index);else if(uJ(t)&&typeof t!="boolean"){var o=kJ(t,a);i=v.createElement(dE,{shapeType:n,elementProps:o})}else{var s=a;i=v.createElement(dE,{shapeType:n,elementProps:s})}return a.isActive?v.createElement(ti,{className:r},i):i}var jJ=(e,t,n)=>{var r=Wn();return(a,i)=>o=>{e==null||e(a,i,o),r(MI({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},CJ=e=>{var t=Wn();return(n,r)=>a=>{e==null||e(n,r,a),t(AG())}},MJ=(e,t,n)=>{var r=Wn();return(a,i)=>o=>{e==null||e(a,i,o),r(PG({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function T_(e){var{tooltipEntrySettings:t}=e,n=Wn(),r=ii(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(jG(t)):a.current!==t&&n(CG({prev:a.current,next:t})),a.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{a.current&&(n(MG(a.current)),a.current=null)},[n]),null}function EJ(e){var{legendPayload:t}=e,n=Wn(),r=ii(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(T3(t)):a.current!==t&&n(O3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(D3(a.current)),a.current=null)},[n]),null}function AJ(e){var{legendPayload:t}=e,n=Wn(),r=wt(Dn),a=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(T3(t)):a.current!==t&&n(O3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(D3(a.current)),a.current=null)},[n]),null}var wv,PJ=()=>{var[e]=v.useState(()=>Pf("uid-"));return e},TJ=(wv=V6.useId)!==null&&wv!==void 0?wv:PJ;function OJ(e,t){var n=TJ();return t||(e?"".concat(e,"-").concat(n):n)}var DJ=v.createContext(void 0),O_=e=>{var{id:t,type:n,children:r}=e,a=OJ("recharts-".concat(n),t);return v.createElement(DJ.Provider,{value:a},r(a))},IJ={cartesianItems:[],polarItems:[]},D_=ai({name:"graphicalItems",initialState:IJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ir()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=po(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:ir()},removeCartesianGraphicalItem:{reducer(e,t){var n=po(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ir()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ir()},removePolarGraphicalItem:{reducer(e,t){var n=po(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ir()}}}),{addCartesianGraphicalItem:_J,replaceCartesianGraphicalItem:LJ,removeCartesianGraphicalItem:FJ,addPolarGraphicalItem:RJ,removePolarGraphicalItem:$J}=D_.actions,BJ=D_.reducer,UJ=e=>{var t=Wn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(_J(e)):n.current!==e&&t(LJ({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(FJ(n.current)),n.current=null)},[t]),null},zJ=v.memo(UJ);function VJ(e){var t=Wn();return v.useLayoutEffect(()=>(t(RJ(e)),()=>{t($J(e))}),[t,e]),null}var qJ=["key"],WJ=["onMouseEnter","onClick","onMouseLeave"],HJ=["id"],KJ=["id"];function fE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(n),!0).forEach(function(r){YJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YJ(e,t,n){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(null,arguments)}function cy(e,t){if(e==null)return{};var n,r,a=QJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function QJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZJ(e){var t=v.useMemo(()=>M_(e.children,qu),[e.children]),n=wt(r=>XZ(r,e.id,t));return n==null?null:v.createElement(AJ,{legendPayload:n})}var JJ=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:P0(s,t),hide:l,type:c,color:o,unit:"",graphicalItemId:d}};return v.createElement(T_,{tooltipEntrySettings:f})}),eee=(e,t)=>e>t?"start":e<t?"end":"middle",tee=(e,t,n)=>Hi(typeof t=="function"?t(e):t,n,n*.8),nee=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=U3(i,o),l=a+Hi(e.cx,i,i/2),c=r+Hi(e.cy,o,o/2),d=Hi(e.innerRadius,s,0),f=tee(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}},ree=(e,t)=>{var n=wa(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function aee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var iee=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=jn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=cy(t,qJ);return v.createElement(ik,ml({},a,{type:"linear",className:n}))},oee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var a=jn("recharts-pie-label-text",aee(e));return v.createElement(ay,ml({},t,{alignmentBaseline:"middle",className:a}),r)};function see(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=Gi(n),l=_u(a),c=_u(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,y=Rr(p.cx,p.cy,p.outerRadius+d,h),x=Sr(Sr(Sr(Sr({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:eee(y.x,p.cx)},y),g=Sr(Sr(Sr(Sr({},s),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[Rr(p.cx,p.cy,p.outerRadius,h),y],key:"line"});return v.createElement(So,{zIndex:ua.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},v.createElement(ti,null,i&&iee(i,g),oee(a,x,er(p,o))))});return v.createElement(ti,{className:"recharts-pie-labels"},f)}function lee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(m_,{label:a}):v.createElement(see,{sectors:t,props:n,showLabels:r})}function cee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=wt(Vu),l=wt(UI),c=wt(hX),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=cy(a,WJ),h=jJ(d,a.dataKey,o),y=CJ(p),x=MJ(f,a.dataKey,o);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=c==null||c===o,S=String(b)===s&&(l==null||a.dataKey===l)&&w,C=s?r:null,N=n&&S?n:C,M=Sr(Sr({},g),{},{stroke:g.stroke,tabIndex:-1,[p3]:b,[m3]:o});return v.createElement(ti,ml({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},L1(m,g,b),{onMouseEnter:h(g,b),onMouseLeave:y(g,b),onClick:x(g,b)}),v.createElement(P_,ml({option:i??N,index:b,shapeType:"sector",isActive:S},M)))}))}function uee(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=ree(s,l),h=Math.abs(m),y=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(N=>er(N,c,0)!==0).length,g=(h>=360?x:x-1)*y,b=h-x*p-g,w=r.reduce((N,M)=>{var T=er(M,c,0);return N+(St(T)?T:0)},0),S;if(w>0){var C;S=r.map((N,M)=>{var T=er(N,c,0),L=er(N,d,M),A=nee(n,i,N),P=(St(T)?T:0)/w,I,z=Sr(Sr({},N),a&&a[M]&&a[M].props);M?I=C.endAngle+wa(m)*y*(T!==0?1:0):I=s;var G=I+wa(m)*((T!==0?p:0)+P*b),J=(I+G)/2,ce=(A.innerRadius+A.outerRadius)/2,$=[{name:L,value:T,payload:z,dataKey:c,type:f,graphicalItemId:n.id}],B=Rr(A.cx,A.cy,ce,J);return C=Sr(Sr(Sr(Sr({},n.presentationProps),{},{percent:P,cornerRadius:typeof o=="string"?parseFloat(o):o,name:L,tooltipPayload:$,midAngle:J,middleRadius:ce,tooltipPosition:B},z),A),{},{value:T,dataKey:c,startAngle:I,endAngle:G,payload:z,paddingAngle:wa(m)*y}),C})}return S}function dee(e){var{showLabels:t,sectors:n,children:r}=e,a=v.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return v.createElement(IZ,{value:t?a:void 0},r)}function fee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=z0(t,"recharts-pie-"),h=n.current,[y,x]=v.useState(!1),g=v.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),b=v.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return v.createElement(dee,{showLabels:!y,sectors:a},v.createElement(U0,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:b,onAnimationEnd:g,key:m},w=>{var S=[],C=a&&a[0],N=C==null?void 0:C.startAngle;return a==null||a.forEach((M,T)=>{var L=h&&h[T],A=T>0?pc(M,"paddingAngle",0):0;if(L){var P=xa(L.endAngle-L.startAngle,M.endAngle-M.startAngle,w),I=Sr(Sr({},M),{},{startAngle:N+A,endAngle:N+P+A});S.push(I),N=I.endAngle}else{var{endAngle:z,startAngle:G}=M,J=xa(0,z-G,w),ce=Sr(Sr({},M),{},{startAngle:N+A,endAngle:N+J+A});S.push(ce),N=ce.endAngle}}),n.current=S,v.createElement(ti,null,v.createElement(cee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(lee,{showLabels:!y,sectors:a,props:t}),t.children)}var pee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ua.area};function mee(e){var{id:t}=e,n=cy(e,HJ),{hide:r,className:a,rootTabIndex:i}=e,o=v.useMemo(()=>M_(e.children,qu),[e.children]),s=wt(d=>QZ(d,t,o)),l=v.useRef(null),c=jn("recharts-pie",a);return r||s==null?(l.current=null,v.createElement(ti,{tabIndex:i,className:c})):v.createElement(So,{zIndex:e.zIndex},v.createElement(JJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(ti,{tabIndex:i,className:c},v.createElement(fee,{props:Sr(Sr({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function Mg(e){var t=Hr(e,pee),{id:n}=t,r=cy(t,KJ),a=Gi(r);return v.createElement(O_,{id:n,type:"pie"},i=>v.createElement(v.Fragment,null,v.createElement(VJ,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),v.createElement(ZJ,ml({},r,{id:i})),v.createElement(mee,ml({},r,{id:i}))))}Mg.displayName="Pie";var hee=["points"];function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){gee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gee(e,t,n){return(t=yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yee(e){var t=vee(e,"string");return typeof t=="symbol"?t:t+""}function vee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eg.apply(null,arguments)}function bee(e,t){if(e==null)return{};var n,r,a=xee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wee(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var a=jn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=bee(i,hee);return v.createElement(h_,Eg({},s,{className:a}))}function kee(e,t){return e==null?!1:t?!0:e.length===1}function See(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:c=ua.scatter}=e;if(!kee(t,n))return null;var d=E_(n),f=tz(n),p=t.map((h,y)=>{var x,g,b=kv(kv(kv({r:3},o),f),{},{index:y,cx:(x=h.x)!==null&&x!==void 0?x:void 0,cy:(g=h.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return v.createElement(wee,{key:"dot-".concat(y),option:n,dotProps:b,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(So,{zIndex:c},v.createElement(ti,Eg({className:r},m),p))}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(n),!0).forEach(function(r){Nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nee(e,t,n){return(t=jee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jee(e){var t=Cee(e,"string");return typeof t=="symbol"?t:t+""}function Cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mee={xAxis:{},yAxis:{},zAxis:{}},I_=ai({name:"cartesianAxis",initialState:Mee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ir()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ir()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ir()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ir()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ir()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ir()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ir()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ir()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ir()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=hE(hE({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Eee,replaceXAxis:Aee,removeXAxis:Pee,addYAxis:Tee,replaceYAxis:Oee,removeYAxis:Dee,addZAxis:ige,replaceZAxis:oge,removeZAxis:sge,updateYAxisWidth:Iee}=I_.actions,_ee=I_.reducer,Lee=fe([na],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Fee=fe([Lee,ks,Ss],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),xS=()=>wt(Fee),Ree=()=>wt(xX);function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(r){$ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ee(e,t,n){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Sv(Sv(Sv({},s),_u(a)),_1(a)),c;return v.isValidElement(a)?c=v.cloneElement(a,l):typeof a=="function"?c=a(l):c=v.createElement(h_,l),v.createElement(ti,{className:"recharts-active-dot",clipPath:o},c)};function Vee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=ua.activeDot}=e,s=wt(Vu),l=Ree();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Wr(c)?null:v.createElement(So,{zIndex:o},v.createElement(zee,{point:c,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var __=e=>{var{chartData:t}=e,n=Wn(),r=ii();return v.useEffect(()=>r?()=>{}:(n(DM(t)),()=>{n(DM(void 0))}),[t,n,r]),null},yE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},L_=ai({name:"brush",initialState:yE,reducers:{setBrushSettings(e,t){return t.payload==null?yE:t.payload}}}),{setBrushSettings:lge}=L_.actions,qee=L_.reducer;function Wee(e,t,n){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wS{static create(t){return new wS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Wee(wS,"EPS",1e-4);function Yee(e){return(e%180+180)%180}var Gee=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Yee(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Xee={dots:[],areas:[],lines:[]},F_=ai({name:"referenceElements",initialState:Xee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=po(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=po(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=po(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:cge,removeDot:uge,addArea:dge,removeArea:fge,addLine:pge,removeLine:mge}=F_.actions,Qee=F_.reducer,Zee=v.createContext(void 0),Jee=e=>{var{children:t}=e,[n]=v.useState("".concat(Pf("recharts"),"-clip")),r=xS();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return v.createElement(Zee.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function R_(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function ete(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Gee(r,n)}function tte(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function qf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function nte(e,t){return R_(e,t+1)}function rte(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:R_(r,c)};var h=l,y,x=()=>(y===void 0&&(y=n(m,h)),y),g=m.coordinate,b=l===0||qf(e,g,x,d,s);b||(l=0,d=o,c+=1),b&&(d=g+e*(x()/2+a),l+=c)},p;c<=i.length;)if(p=f(),p)return p.v;return[]}function ate(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=s,p=!0,m=function(){var g=r[h],b=h,w,S=()=>(w===void 0&&(w=n(g,b)),w),C=g.coordinate,N=h===d||qf(e,C,S,f,l);if(!N)return p=!1,1;N&&(f=C+e*(S()/2+a))},h=d;h<o&&!m();h+=c);if(p){for(var y=[],x=d;x<o;x+=c)y.push(r[x]);return y}}return[]}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(r){ite(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ite(e,t,n){return(t=ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ote(e){var t=ste(e,"string");return typeof t=="symbol"?t:t+""}function ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lte(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var y=e*(p.coordinate+e*h()/2-l);i[f]=p=ya(ya({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[f]=p=ya(ya({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=qf(e,p.tickCoord,h,s,l);x&&(l=p.tickCoord-e*(h()/2+a),i[f]=ya(ya({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function cte(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-c);if(o[s-1]=d=ya(ya({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=qf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+a),o[s-1]=ya(ya({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,y=function(g){var b=o[g],w,S=()=>(w===void 0&&(w=n(b,g)),w);if(g===0){var C=e*(b.coordinate-e*S()/2-l);o[g]=b=ya(ya({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else o[g]=b=ya(ya({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=qf(e,b.tickCoord,S,l,c);N&&(l=b.tickCoord+e*(S()/2+a),o[g]=ya(ya({},b),{},{isShow:!0}))}},x=0;x<h;x++)y(x);return o}function kS(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(St(l)||B0.isSsr){var p;return(p=nte(a,St(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",y=d&&h==="width"?Jd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return h==="width"?ete(Jd(C,{fontSize:t,letterSpacing:n}),y,f):Jd(C,{fontSize:t,letterSpacing:n})[h]},g=a.length>=2?wa(a[1].coordinate-a[0].coordinate):1,b=tte(i,g,h);return l==="equidistantPreserveStart"?rte(g,b,x,a,o):l==="equidistantPreserveEnd"?ate(g,b,x,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=cte(g,b,x,a,o,l==="preserveStartEnd"):m=lte(g,b,x,a,o),m.filter(w=>w.isShow))}var ute=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,c=o+l+s+(n?r:0);return Math.round(c)}return 0},dte=["axisLine","width","height","className","hide","ticks","axisType"];function fte(e,t){if(e==null)return{};var n,r,a=pte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc.apply(null,arguments)}function bE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(n),!0).forEach(function(r){mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mte(e,t,n){return(t=hte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ss={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ua.axis};function yte(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=Lr(Lr(Lr({},l),Gi(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Lr(Lr({},c),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=Lr(Lr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return v.createElement("line",xc({},c,{className:jn("recharts-cartesian-axis-line",pc(s,"className"))}))}function vte(e,t,n,r,a,i,o,s,l){var c,d,f,p,m,h,y=s?-1:1,x=e.tickSize||o,g=St(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,p=n+ +!s*a,f=p-y*x,h=f-y*l,m=g;break;case"left":f=p=e.coordinate,d=t+ +!s*r,c=d-y*x,m=c-y*l,h=g;break;case"right":f=p=e.coordinate,d=t+ +s*r,c=d+y*x,m=c+y*l,h=g;break;default:c=d=e.coordinate,p=n+ +s*a,f=p+y*x,h=f+y*l,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function bte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function xte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function wte(e){var{option:t,tickProps:n,value:r}=e,a,i=jn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,Lr(Lr({},n),{},{className:i}));else if(typeof t=="function")a=t(Lr(Lr({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=jn(o,t==null?void 0:t.className)),a=v.createElement(ay,xc({},n,{className:o}),r)}return a}var kte=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:m,width:h,height:y,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,M=kS(Lr(Lr({},S),{},{ticks:n}),b,w),T=bte(d,f),L=xte(d,f),A=Gi(S),P=_u(r),I={};typeof a=="object"&&(I=a);var z=Lr(Lr({},A),{},{fill:"none"},I),G=M.map($=>Lr({entry:$},vte($,p,m,h,y,d,x,f,g))),J=G.map($=>{var{entry:B,line:re}=$;return v.createElement(ti,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},a&&v.createElement("line",xc({},z,re,{className:jn("recharts-cartesian-axis-tick-line",pc(a,"className"))})))}),ce=G.map(($,B)=>{var{entry:re,tick:k}=$,O=Lr(Lr(Lr(Lr({textAnchor:T,verticalAnchor:L},A),{},{stroke:"none",fill:i},P),k),{},{index:B,payload:re,visibleTicksCount:M.length,tickFormatter:o,padding:l},c);return v.createElement(ti,xc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},L1(C,re,B)),r&&v.createElement(wte,{option:r,tickProps:O,value:"".concat(typeof o=="function"?o(re.value,B):re.value).concat(s||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},ce.length>0&&v.createElement(So,{zIndex:ua.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},ce)),J.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},J))}),Ste=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,c=fte(e,dte),[d,f]=v.useState(""),[p,m]=v.useState(""),h=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return ute({ticks:h.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==p)&&(f(S),m(C))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:v.createElement(So,{zIndex:e.zIndex},v.createElement(ti,{className:jn("recharts-cartesian-axis",i)},v.createElement(yte,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Gi(e)}),v.createElement(kte,{ref:y,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(gZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(CZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),SS=v.forwardRef((e,t)=>{var n=Hr(e,ss);return v.createElement(Ste,xc({},n,{ref:t}))});SS.displayName="CartesianAxis";var Nte=["x1","y1","x2","y2","key"],jte=["offset"],Cte=["xAxisId","yAxisId"],Mte=["xAxisId","yAxisId"];function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(r){Ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ete(e,t,n){return(t=Ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ate(e){var t=Pte(e,"string");return typeof t=="symbol"?t:t+""}function Pte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(null,arguments)}function Ag(e,t){if(e==null)return{};var n,r,a=Tte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ote=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return v.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $_(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:c}=n,d=Ag(n,Nte),f=(a=Gi(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=Ag(f,jte);r=v.createElement("line",Ql({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:c}))}return r}function Dte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Ag(e,Cte),l=a.map((c,d)=>{var f=ba(ba({},s),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement($_,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Ite(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Ag(e,Mte),l=a.map((c,d)=>{var f=ba(ba({},s),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement($_,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function _te(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var c=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%t.length;return v.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Lte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%n.length;return v.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Fte=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return u3(kS(ba(ba(ba({},ss),n),{},{ticks:d3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Rte=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return u3(kS(ba(ba(ba({},ss),n),{},{ticks:d3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},$te={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ua.grid};function Wf(e){var t=tk(),n=nk(),r=S3(),a=ba(ba({},Hr(e,$te)),{},{x:St(e.x)?e.x:r.left,y:St(e.y)?e.y:r.top,width:St(e.width)?e.width:r.width,height:St(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=ii(),y=wt(L=>kM(L,"xAxis",i,h)),x=wt(L=>kM(L,"yAxis",o,h));if(!Vo(c)||!Vo(d)||!St(s)||!St(l))return null;var g=a.verticalCoordinatesGenerator||Fte,b=a.horizontalCoordinatesGenerator||Rte,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof b=="function"){var C=p&&p.length,N=b({yAxis:x?ba(ba({},x),{},{ticks:C?p:x.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);tg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof g=="function"){var M=m&&m.length,T=g({xAxis:y?ba(ba({},y),{},{ticks:M?m:y.ticks}):void 0,width:t??c,height:n??d,offset:r},M?!0:f);tg(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}return v.createElement(So,{zIndex:a.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Ote,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(_te,Ql({},a,{horizontalPoints:w})),v.createElement(Lte,Ql({},a,{verticalPoints:S})),v.createElement(Dte,Ql({},a,{offset:r,horizontalPoints:w,xAxis:y,yAxis:x})),v.createElement(Ite,Ql({},a,{offset:r,verticalPoints:S,xAxis:y,yAxis:x}))))}Wf.displayName="CartesianGrid";var Bte={},B_=ai({name:"errorBars",initialState:Bte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:hge,replaceErrorBar:gge,removeErrorBar:yge}=B_.actions,Ute=B_.reducer,zte=["children"];function Vte(e,t){if(e==null)return{};var n,r,a=qte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Hte=v.createContext(Wte);function Kte(e){var{children:t}=e,n=Vte(e,zte);return v.createElement(Hte.Provider,{value:n},t)}function U_(e,t){var n,r,a=wt(c=>js(c,e)),i=wt(c=>Cs(c,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Qr.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Zr.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Yte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=xS(),{needClipX:i,needClipY:o,needClip:s}=U_(t,n);if(!s||!a)return null;var{x:l,y:c,width:d,height:f}=a;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:i?l:l-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var z_=(e,t,n,r)=>wI(e,"xAxis",t,r),V_=(e,t,n,r)=>xI(e,"xAxis",t,r),q_=(e,t,n,r)=>wI(e,"yAxis",n,r),W_=(e,t,n,r)=>xI(e,"yAxis",n,r),Gte=fe([Dn,z_,q_,V_,W_],(e,t,n,r,a)=>xl(e,"xAxis")?px(t,r,!1):px(n,a,!1)),Xte=(e,t,n,r,a)=>a;function Qte(e){return e.type==="line"}var Zte=fe([eI,Xte],(e,t)=>e.filter(Qte).find(n=>n.id===t)),Jte=fe([Dn,z_,q_,V_,W_,Zte,Gte,Pk],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(c,d+1),m!=null)return Lne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function ene(e){var t=_u(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var _p=v;_p.useSyncExternalStore;_p.useRef;_p.useEffect;_p.useMemo;_p.useDebugValue;function tne(e){e()}function nne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){tne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var wE={notify(){},get:()=>[]};function rne(e,t){let n,r=wE,a=0,i=!1;function o(y){d();const x=r.subscribe(y);let g=!1;return()=>{g||(g=!0,x(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function c(){return i}function d(){a++,n||(n=e.subscribe(l),r=nne())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=wE)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var ane=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ine=ane(),one=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sne=one(),lne=()=>ine||sne?v.useLayoutEffect:v.useEffect,cne=lne();function kE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function une(e,t){if(kE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!kE(e[n[a]],t[n[a]]))return!1;return!0}var SE=Symbol.for("react-redux-context"),NE=typeof globalThis<"u"?globalThis:{};function dne(){if(!v.createContext)return{};const e=NE[SE]??(NE[SE]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var fne=dne();function pne(e){const{children:t,context:n,serverState:r,store:a}=e,i=v.useMemo(()=>{const l=rne(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=v.useMemo(()=>a.getState(),[a]);cne(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||fne;return v.createElement(s.Provider,{value:i},t)}var mne=pne,hne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function gne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function NS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(hne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!une(e[r],t[r]))return!1}else if(!gne(e[r],t[r]))return!1;return!0}var yne=["id"],vne=["type","layout","connectNulls","needClip","shape"],bne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hf.apply(null,arguments)}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xne(e,t,n){return(t=wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jS(e,t){if(e==null)return{};var n,r,a=Sne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Sne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nne=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:P0(n,t),payload:e}]},jne=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:P0(o,t),hide:s,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(T_,{tooltipEntrySettings:f})}),H_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Cne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Mne=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return H_(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var d=s.length%2===0?[0,o]:[o];return[...Cne(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function Ene(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=jS(r,yne),c=Gi(l);return v.createElement(See,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function Ane(e){var{showLabels:t,children:n,points:r}=e,a=v.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Io(Io({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(DZ,{value:t?a:void 0},n)}function CE(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:c,shape:d}=i,f=jS(i,vne),p=Io(Io({},Fa(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(P_,Hf({shapeType:"curve",option:d},p,{pathRef:n})),v.createElement(Ene,{points:r,clipPathId:t,props:i}))}function Pne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Tne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:y,onAnimationStart:x}=n,g=a.current,b=z0(o,"recharts-line-"),w=v.useRef(b),[S,C]=v.useState(!1),N=!S,M=v.useCallback(()=>{typeof y=="function"&&y(),C(!1)},[y]),T=v.useCallback(()=>{typeof x=="function"&&x(),C(!0)},[x]),L=Pne(r.current),A=v.useRef(0);w.current!==b&&(A.current=i.current,w.current=b);var P=A.current;return v.createElement(Ane,{points:o,showLabels:N},n.children,v.createElement(U0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:M,onAnimationStart:T,key:b},I=>{var z=xa(P,L+P,I),G=Math.min(z,L),J;if(l)if(s){var ce="".concat(s).split(/[,\s]+/gim).map(re=>parseFloat(re));J=Mne(G,L,ce)}else J=H_(L,G);else J=s==null?void 0:String(s);if(I>0&&L>0&&(a.current=o,i.current=Math.max(i.current,G)),g){var $=g.length/o.length,B=I===1?o:o.map((re,k)=>{var O=Math.floor(k*$);if(g[O]){var E=g[O];return Io(Io({},re),{},{x:xa(E.x,re.x,I),y:xa(E.y,re.y,I)})}return p?Io(Io({},re),{},{x:xa(m*2,re.x,I),y:xa(h/2,re.y,I)}):Io(Io({},re),{},{x:re.x,y:re.y})});return a.current=B,v.createElement(CE,{props:n,points:B,clipPathId:t,pathRef:r,strokeDasharray:J})}return v.createElement(CE,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:J})}),v.createElement(m_,{label:n.label}))}function One(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),a=v.useRef(0),i=v.useRef(null);return v.createElement(Tne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Dne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:er(e.payload,t)}};class Ine extends v.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:c,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=jn("recharts-line",a),y=f,{r:x,strokeWidth:g}=ene(n),b=E_(n),w=x*2+g,S=p?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return v.createElement(So,{zIndex:m},v.createElement(ti,{className:h},p&&v.createElement("defs",null,v.createElement(Yte,{clipPathId:y,xAxisId:i,yAxisId:o}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:l-w/2,y:s-w/2,width:c+w,height:d+w}))),v.createElement(Kte,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Dne,errorBarOffset:0},v.createElement(One,{props:this.props,clipPathId:y}))),v.createElement(Vee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var K_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ua.line,type:"linear"};function _ne(e){var t=Hr(e,K_),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:y}=t,x=jS(t,bne),{needClip:g}=U_(m,h),b=xS(),w=dp(),S=ii(),C=wt(A=>Jte(A,m,h,S,y));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:M,x:T,y:L}=b;return v.createElement(Ine,Hf({},x,{id:y,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:p,xAxisId:m,yAxisId:h,points:C,layout:w,height:N,width:M,left:T,top:L,needClip:g}))}function Lne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((c,d)=>{var f=er(c,o);if(t==="horizontal"){var p=Ij({axis:n,ticks:a,bandSize:s,entry:c,index:d}),m=Wr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:c}}var h=Wr(f)?null:n.scale(f),y=Ij({axis:r,ticks:i,bandSize:s,entry:c,index:d});return h==null||y==null?null:{x:h,y,value:f,payload:c}}).filter(Boolean)}function Fne(e){var t=Hr(e,K_),n=ii();return v.createElement(O_,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(EJ,{legendPayload:Nne(t)}),v.createElement(jne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(zJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(_ne,Hf({},t,{id:r}))))}var Jo=v.memo(Fne,NS);Jo.displayName="Line";var Rne=["domain","range"],$ne=["domain","range"];function ME(e,t){if(e==null)return{};var n,r,a=Bne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Bne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EE(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Y_(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=ME(e,Rne),{domain:i,range:o}=t,s=ME(t,$ne);return!EE(n,i)||!EE(r,o)?!1:NS(a,s)}var Une=["dangerouslySetInnerHTML","ticks","scale"],zne=["id","scale"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(null,arguments)}function AE(e,t){if(e==null)return{};var n,r,a=Vne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qne(e){var t=Wn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Eee(e)):n.current!==e&&t(Aee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Pee(n.current)),n.current=null)},[t]),null}var Wne=e=>{var{xAxisId:t,className:n}=e,r=wt(h3),a=ii(),i="xAxis",o=wt(g=>bI(g,i,t,a)),s=wt(g=>lG(g,t)),l=wt(g=>mG(g,t)),c=wt(g=>Q4(g,t));if(s==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=AE(e,Une),{id:h,scale:y}=c,x=AE(c,zne);return v.createElement(SS,qx({},m,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:jn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Hne={allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,angle:Qr.angle,axisLine:ss.axisLine,height:Qr.height,hide:!1,includeHidden:Qr.includeHidden,interval:Qr.interval,minTickGap:Qr.minTickGap,mirror:Qr.mirror,orientation:Qr.orientation,padding:Qr.padding,reversed:Qr.reversed,scale:Qr.scale,tick:Qr.tick,tickCount:Qr.tickCount,tickLine:ss.tickLine,tickSize:ss.tickSize,type:Qr.type,xAxisId:0},Kne=e=>{var t=Hr(e,Hne);return v.createElement(v.Fragment,null,v.createElement(qne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Wne,t))},Kf=v.memo(Kne,Y_);Kf.displayName="XAxis";var Yne=["dangerouslySetInnerHTML","ticks","scale"],Gne=["id","scale"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(null,arguments)}function PE(e,t){if(e==null)return{};var n,r,a=Xne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qne(e){var t=Wn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Tee(e)):n.current!==e&&t(Oee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Dee(n.current)),n.current=null)},[t]),null}var Zne=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=v.useRef(null),o=v.useRef(null),s=wt(h3),l=ii(),c=Wn(),d="yAxis",f=wt(N=>yG(N,t)),p=wt(N=>gG(N,t)),m=wt(N=>bI(N,d,t,l)),h=wt(N=>Z4(N,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||gS(a)||v.isValidElement(a)||h==null)){var N=i.current;if(N){var M=N.getCalculatedWidth();Math.round(f.width)!==Math.round(M)&&c(Iee({id:t,width:M}))}}},[m,f,c,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:g}=e,b=PE(e,Yne),{id:w,scale:S}=h,C=PE(h,Gne);return v.createElement(SS,Wx({},b,C,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:jn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},Jne={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,angle:Zr.angle,axisLine:ss.axisLine,hide:!1,includeHidden:Zr.includeHidden,interval:Zr.interval,minTickGap:Zr.minTickGap,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,tickLine:ss.tickLine,tickSize:ss.tickSize,type:Zr.type,width:Zr.width,yAxisId:0},ere=e=>{var t=Hr(e,Jne);return v.createElement(v.Fragment,null,v.createElement(Qne,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(Zne,t))},Yf=v.memo(ere,Y_);Yf.displayName="YAxis";var tre=(e,t)=>t,CS=fe([tre,Dn,Y4,Yr,FI,Ms,DX,na],BX),MS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},G_=Xi("mouseClick"),X_=cp();X_.startListening({actionCreator:G_,effect:(e,t)=>{var n=e.payload,r=CS(t.getState(),MS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(TG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Hx=Xi("mouseMove"),Q_=cp(),Am=null;Q_.startListening({actionCreator:Hx,effect:(e,t)=>{var n=e.payload;Am!==null&&cancelAnimationFrame(Am);var r=MS(n);Am=requestAnimationFrame(()=>{var a=t.getState(),i=oS(a,a.tooltip.settings.shared);if(i==="axis"){var o=CS(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(AI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(EI())}Am=null})}});function nre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var TE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Z_=ai({name:"rootProps",initialState:TE,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:TE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rre=Z_.reducer,{updateOptions:are}=Z_.actions,J_=ai({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ire}=J_.actions,ore=J_.reducer,eL=Xi("keyDown"),tL=Xi("focus"),ES=cp();ES.startListening({actionCreator:eL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=sS(a,od(n),wp(n),Np(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Ms(n);if(i==="Enter"){var c=Sg(n,"axis","hover",String(a.index));t.dispatch(Rx({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var d=wG(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=Sg(n,"axis","hover",String(m));t.dispatch(Rx({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});ES.startListening({actionCreator:tL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=Sg(n,"axis","hover",String(i));t.dispatch(Rx({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Fi=Xi("externalEvent"),nL=cp(),Nv=new Map;nL.startListening({actionCreator:Fi,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=Nv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:yX(s),activeDataKey:UI(s),activeIndex:Vu(s),activeLabel:BI(s),activeTooltipIndex:Vu(s),isTooltipActive:vX(s)};n(l,r)}finally{Nv.delete(a)}});Nv.set(a,o)}}});var sre=fe([ad],e=>e.tooltipItemPayloads),lre=fe([sre,Sp,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),rL=Xi("touchMove"),aL=cp();aL.startListening({actionCreator:rL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=oS(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=CS(r,MS({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(AI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(p3),f=(s=c.getAttribute(m3))!==null&&s!==void 0?s:void 0,p=id(r).find(y=>y.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=lre(r,d,f);t.dispatch(MI({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var cre=_D({brush:qee,cartesianAxis:_ee,chartData:gQ,errorBars:Ute,graphicalItems:BJ,layout:Z7,legend:J9,options:dQ,polarAxis:qZ,polarOptions:ore,referenceElements:Qee,rootProps:rre,tooltip:OG,zIndex:eQ}),ure=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return S7({reducer:cre,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([X_.middleware,Q_.middleware,ES.middleware,nL.middleware,aL.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(XD({type:"raf"}))},devTools:{serialize:{replacer:nre},name:"recharts-".concat(t)}})};function iL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ii(),i=v.useRef(null);if(a)return n;i.current==null&&(i.current=ure(t,r));var o=W1;return v.createElement(mne,{context:o,store:i.current},n)}function dre(e){var{layout:t,margin:n}=e,r=Wn(),a=ii();return v.useEffect(()=>{a||(r(G7(t)),r(Y7(n)))},[r,a,t,n]),null}var oL=v.memo(dre,NS);function sL(e){var t=Wn();return v.useEffect(()=>{t(are(e))},[t,e]),null}function OE(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),a=Wn();return v.useLayoutEffect(()=>(r.current&&a(ZX({zIndex:t,element:r.current,isPanorama:n})),()=>{a(JX({zIndex:t,isPanorama:n}))}),[a,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function DE(e){var{children:t,isPanorama:n}=e,r=wt(zX);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return v.createElement(v.Fragment,null,a.map(o=>v.createElement(OE,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>v.createElement(OE,{key:o,zIndex:o,isPanorama:n})))}var fre=["children"];function pre(e,t){if(e==null)return{};var n,r,a=mre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pg.apply(null,arguments)}var hre={width:"100%",height:"100%",display:"block"},gre=v.forwardRef((e,t)=>{var n=tk(),r=nk(),a=_3();if(!Vo(n)||!Vo(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),v.createElement(A1,Pg({},o,{title:s,desc:l,role:d,tabIndex:c,width:n,height:r,style:hre,ref:t}),i)}),yre=e=>{var{children:t}=e,n=wt(I0);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return v.createElement(A1,{width:r,height:a,x:o,y:i},t)},IE=v.forwardRef((e,t)=>{var{children:n}=e,r=pre(e,fre),a=ii();return a?v.createElement(yre,null,v.createElement(DE,{isPanorama:!0},n)):v.createElement(gre,Pg({ref:t},r),v.createElement(DE,{isPanorama:!1},n))});function vre(){var e=Wn(),[t,n]=v.useState(null),r=wt(p9);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Br(i)&&i!==r&&e(Q7(i))}},[t,e,r]),n}function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){xre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xre(e,t,n){return(t=wre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wre(e){var t=kre(e,"string");return typeof t=="symbol"?t:t+""}function kre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(null,arguments)}var Sre=()=>(jQ(),null);function Tg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Nre=v.forwardRef((e,t)=>{var n,r,a=v.useRef(null),[i,o]=v.useState({containerWidth:Tg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Tg((r=e.style)===null||r===void 0?void 0:r.height)}),s=v.useCallback((c,d)=>{o(f=>{var p=Math.round(c),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();s(d,f);var p=h=>{var{width:y,height:x}=h[0].contentRect;s(y,x)},m=new ResizeObserver(p);m.observe(c),a.current=m}},[t,s]);return v.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[s]),v.createElement(v.Fragment,null,v.createElement(L0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",wc({ref:l},e)))}),jre=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=v.useState({containerWidth:Tg(n),containerHeight:Tg(r)}),o=v.useCallback((l,c)=>{i(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();o(c,d)}},[t,o]);return v.createElement(v.Fragment,null,v.createElement(L0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",wc({ref:s},e)))}),Cre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(L0,{width:n,height:r}),v.createElement("div",wc({ref:t},e)))}),Mre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return ms(n)||ms(r)?v.createElement(jre,wc({},e,{ref:t})):v.createElement(Cre,wc({},e,{ref:t}))});function Ere(e){return e===!0?Nre:Mre}var Are=v.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:y,style:x,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,S=v.useRef(null),C=Wn(),[N,M]=v.useState(null),[T,L]=v.useState(null),A=vre(),P=ek(),I=(P==null?void 0:P.width)>0?P.width:g,z=(P==null?void 0:P.height)>0?P.height:a,G=v.useCallback(_=>{A(_),typeof t=="function"&&t(_),M(_),L(_),_!=null&&(S.current=_)},[A,t,M,L]),J=v.useCallback(_=>{C(G_(_)),C(Fi({handler:i,reactEvent:_}))},[C,i]),ce=v.useCallback(_=>{C(Hx(_)),C(Fi({handler:c,reactEvent:_}))},[C,c]),$=v.useCallback(_=>{C(EI()),C(Fi({handler:d,reactEvent:_}))},[C,d]),B=v.useCallback(_=>{C(Hx(_)),C(Fi({handler:f,reactEvent:_}))},[C,f]),re=v.useCallback(()=>{C(tL())},[C]),k=v.useCallback(_=>{C(eL(_.key))},[C]),O=v.useCallback(_=>{C(Fi({handler:o,reactEvent:_}))},[C,o]),E=v.useCallback(_=>{C(Fi({handler:s,reactEvent:_}))},[C,s]),j=v.useCallback(_=>{C(Fi({handler:l,reactEvent:_}))},[C,l]),V=v.useCallback(_=>{C(Fi({handler:p,reactEvent:_}))},[C,p]),Q=v.useCallback(_=>{C(Fi({handler:y,reactEvent:_}))},[C,y]),W=v.useCallback(_=>{w&&C(rL(_)),C(Fi({handler:h,reactEvent:_}))},[C,w,h]),H=v.useCallback(_=>{C(Fi({handler:m,reactEvent:_}))},[C,m]),ee=Ere(b);return v.createElement(YI.Provider,{value:N},v.createElement(IO.Provider,{value:T},v.createElement(ee,{width:I??(x==null?void 0:x.width),height:z??(x==null?void 0:x.height),className:jn("recharts-wrapper",r),style:bre({position:"relative",cursor:"default",width:I,height:z},x),onClick:J,onContextMenu:O,onDoubleClick:E,onFocus:re,onKeyDown:k,onMouseDown:j,onMouseEnter:ce,onMouseLeave:$,onMouseMove:B,onMouseUp:V,onTouchEnd:H,onTouchMove:W,onTouchStart:Q,ref:G},v.createElement(Sre,null),n)))}),Pre=["width","height","responsive","children","className","style","compact","title","desc"];function Tre(e,t){if(e==null)return{};var n,r,a=Ore(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ore(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lL=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:c,desc:d}=e,f=Tre(e,Pre),p=Gi(f);return l?v.createElement(v.Fragment,null,v.createElement(L0,{width:n,height:r}),v.createElement(IE,{otherAttributes:p,title:c,desc:d},i)):v.createElement(Are,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(IE,{otherAttributes:p,title:c,desc:d,ref:t},v.createElement(Jee,null,i)))});function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(null,arguments)}var Dre={top:5,right:5,bottom:5,left:5},Ire={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Dre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},_re=v.forwardRef(function(e,t){var n,r=Hr(e.categoricalChartProps,Ire),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,c={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return v.createElement(iL,{preloadedState:{options:c},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},v.createElement(__,{chartData:l.data}),v.createElement(oL,{layout:r.layout,margin:r.margin}),v.createElement(sL,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement(lL,Kx({},r,{ref:t})))}),Lre=["axis"],Og=v.forwardRef((e,t)=>v.createElement(_re,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lre,tooltipPayloadSearcher:XI,categoricalChartProps:e,ref:t}));function Fre(e){var t=Wn();return v.useEffect(()=>{t(ire(e))},[t,e]),null}var Rre=["layout"];function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(null,arguments)}function $re(e,t){if(e==null)return{};var n,r,a=Bre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Bre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ure={top:5,right:5,bottom:5,left:5},cL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ure,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zre=v.forwardRef(function(e,t){var n,r=Hr(e.categoricalChartProps,cL),{layout:a}=r,i=$re(r,Rre),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return v.createElement(iL,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},v.createElement(__,{chartData:r.data}),v.createElement(oL,{layout:a,margin:r.margin}),v.createElement(sL,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement(Fre,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),v.createElement(lL,Yx({},i,{ref:t})))});function LE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(n),!0).forEach(function(r){Vre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vre(e,t,n){return(t=qre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qre(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hre=["item"],Kre=FE(FE({},cL),{},{layout:"centric",startAngle:0,endAngle:360}),Gx=v.forwardRef((e,t)=>{var n=Hr(e,Kre);return v.createElement(zre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Hre,tooltipPayloadSearcher:XI,categoricalChartProps:n,ref:t})});const Tn=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),RE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",ef=new Map,ju=new Map,Yre=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(ef.has(r)||ju.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&ef.set(r,o),o})();ju.set(r,a);try{await a}finally{ju.delete(r)}}))},Gre=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:ef.get(e)||RE:null});return v.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=ef.get(e);if(a){n(a);return}let i=!0;const o=ju.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&ef.set(e,l),l})();return ju.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(RE)}}).finally(()=>{ju.delete(e)}),()=>{i=!1}},[e]),t},Xre=(e,t,n,r)=>{const[a,i]=v.useState("bottom"),[o,s]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(M=>{let T=(M==null?void 0:M.parentElement)||null;for(;T;){const L=window.getComputedStyle(T),A=`${L.overflow}${L.overflowY}${L.overflowX}`;if(/(auto|scroll|hidden)/.test(A))return T;T=T.parentElement}return null})(c),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=h.bottom-f.bottom,x=f.top-h.top,g=y<p.height+8&&x>y?"top":"bottom";i(g);const b=6,w=f.left+f.width/2,S=h.left+b+p.width/2,C=h.right-b-p.width/2,N=Math.min(Math.max(w,S),C);s(N-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},Qre=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},uL=(e,t,n,r,a=8)=>{const[i,o]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const s=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,y=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),x=f.left+f.width/2,g=a+p.width/2,b=window.innerWidth-a-p.width/2,w=Math.min(Math.max(x,g),b);o({position:"fixed",top:y,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},Zre=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Kl(a||"Unknown"),o=r.length>1,[s,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=Xre(s,[r.length,f],c,d),h=Array.from(new Set(r.map(b=>nc(b||"Unknown")))).slice(0,4),y=h.length>1?`conic-gradient(${h.map((b,w)=>`${b} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const x=p==="top"?"bottom-full mb-2":"top-full mt-2",g={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:y},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:g,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${x} ${s?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Kl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},Jre=(e,t,n="w-4 h-4 object-contain")=>u.jsx(Zre,{profession:e,professionList:t,className:n}),jv=({count:e,classCounts:t,label:n,className:r})=>{const a=Qre(t||{}),i=e>0,[o,s]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=uL(o,[a.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Qu.createPortal(u.jsxs("div",{ref:c,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${o?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const y=Kl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[y?u.jsx("img",{src:y,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},jr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a=""})=>{const i=Gre(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[i?u.jsx("img",{src:i,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${a}`,children:e})]})},$E=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=v.useState(!1),s=v.useRef(null),l=v.useRef(null),c=uL(i,[n.length],s,l);return u.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{children:e}),a&&typeof document<"u"&&Qu.createPortal(u.jsxs("div",{ref:l,style:c,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${i?"block":"hidden"}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(jr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},eae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:y,setSkillUsagePlayerFilter:x,skillUsageView:g,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:M,skillBarData:T,selectedSkillName:L,selectedSkillIcon:A,skillUsageReady:P,skillUsageAvailable:I,isSkillUsagePerSecond:z,skillChartData:G,skillChartMaxY:J,playerTotalsForSkill:ce,hoveredSkillPlayer:$,setHoveredSkillPlayer:B,getLineStrokeColor:re,getLineDashForPlayer:k,formatSkillUsageValue:O,renderProfessionIcon:E})=>u.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Tn,{value:g,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]})]}),s.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(j=>{const V=d.get(j);return V?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:V.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[V.logs," ",V.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(V.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(mO,{className:"w-3 h-3"})})]},V.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:y,onChange:j=>x(j.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(j=>{const V=p===j.profession,Q=j.players.map(H=>H.key),W=Q.length>0&&Q.every(H=>s.includes(H));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(V){m(null);return}m(j.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${V?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[E(j.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:j.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[j.players.length,"p"]}),V?u.jsx(Kb,{className:"w-3.5 h-3.5"}):u.jsx(fU,{className:"w-3.5 h-3.5"})]})]})}),V&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[j.players.length," ",j.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(H=>{if(W)return H.filter(_=>!Q.includes(_));const ee=new Set(H);return Q.forEach(_=>ee.add(_)),Array.from(ee)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:W?"Clear All":"Select All"})]}),j.players.map(H=>{const ee=s.includes(H.key);return u.jsx("button",{type:"button",onClick:()=>h(H.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${ee?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:H.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[H.account,"  ",H.profession,"  ",H.logs," ",H.logs===1?"log":"logs"]})]}),ee&&u.jsx(dO,{className:"w-4 h-4 text-cyan-300"})]})},H.key)})]})]},j.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${z?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:j=>C(j.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):T.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const j=T.reduce((V,Q)=>Math.max(V,Q.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:T.map((V,Q)=>{const W=Math.min(100,V.total/j*100),H=N===V.skillId;return u.jsxs("button",{type:"button",onClick:()=>M(V.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${H?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${Q+1}`}),u.jsx(jr,{name:V.name,iconUrl:V.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:O(V.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${W}%`,backgroundColor:V.color}})})]},V.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:P?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:L?u.jsx(jr,{name:L,iconUrl:A,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",z?"casts per second":"casts per log",")"]})]}),u.jsx(hc,{width:"100%",height:250,children:u.jsxs(Og,{data:G,children:[u.jsx(Wf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Kf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:j=>{const V=G[j],Q=String((V==null?void 0:V.shortLabel)??j);return Q.length>20?`${Q.slice(0,20)}`:Q}}),u.jsx(Yf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,J)],allowDecimals:!1}),u.jsx(bc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:j,payload:V,label:Q})=>{var W;if(!j||!V||V.length===0)return null;const H=[...V].sort((te,ge)=>(ge.value||0)-(te.value||0)),ee=H[0],_=((W=ee==null?void 0:ee.payload)==null?void 0:W.fullLabel)||Q;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:_}),u.jsx("div",{className:"space-y-1",children:H.map(te=>{const ge=String(te.name||""),R=d.get(ge),ae=(R==null?void 0:R.displayName)||ge||"Player",K=O(Number(te.value||0)),F=te.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:F},children:ae}),u.jsx("span",{className:"text-gray-200 font-mono",children:K})]},`${ae}-${K}`)})})]})}}),s.map(j=>{const V=$.includes(j),Q=$.length>0,W=re(j,V,Q),H=k(j),ee=$.length>0&&!V;return u.jsx(Jo,{dataKey:j,stroke:W,strokeWidth:V?4:3,strokeDasharray:H,opacity:ee?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},j)})]})})]}),s.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((j,V)=>(ce.get(V)||0)-(ce.get(j)||0)).map(j=>{const V=d.get(j),Q=ce.get(j)??0,W=$.includes(j),H=$.length>0,ee=re(j,W,H);return u.jsxs("button",{type:"button",onClick:()=>{B(_=>_.includes(j)?_.filter(te=>te!==j):[..._,j])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${W?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":W,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:ee,strokeWidth:"2",strokeDasharray:k(j),strokeLinecap:"round"})}),E(V==null?void 0:V.profession,V==null?void 0:V.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(V==null?void 0:V.displayName)||j}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(V==null?void 0:V.logs)??0," ",((V==null?void 0:V.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:O(Q)})]},j)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:I?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),tae=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,a]=v.useState(0),[i,o]=v.useState(0),s=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=p,N=w>S,M=n.current,T=(M==null?void 0:M.clientWidth)||0;if(!T){m=window.requestAnimationFrame(h);return}if(!N){a(T),o(0);return}const L=S/w,A=Math.max(20,Math.floor(T*L)),P=w-S,I=Math.max(0,T-A),z=P>0?Math.floor(C/P*I):0;a(A),o(z)};h();const y=()=>h(),x=new ResizeObserver(h);x.observe(p);const g=p.firstElementChild;g instanceof HTMLElement&&x.observe(g),n.current&&x.observe(n.current);const b=new MutationObserver(()=>h());return b.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",y),()=>{m&&window.cancelAnimationFrame(m),x.disconnect(),b.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",y)}},[e]),v.useEffect(()=>{const p=h=>{if(!s.current)return;const y=n.current,x=e.current;if(!y||!x)return;const g=y.getBoundingClientRect(),b=h.clientX-l.current,w=Math.max(0,g.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=x.scrollWidth-x.clientWidth,N=w>0?S/w*C:0;x.scrollLeft=N},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const y=m.getBoundingClientRect(),x=p.clientX-y.left,g=Math.max(0,y.width-r),b=Math.min(g,Math.max(0,x-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=g>0?b/g*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,c.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},vo=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?u.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),m&&u.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>u.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),u.jsx(tae,{containerRef:c})]})},bo=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=v.useState(""),[s,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),p=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const g=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=v.useMemo(()=>{const g=i.trim().toLowerCase();return g?e.filter(b=>b.label.toLowerCase().includes(g)).slice(0,50):e.slice(0,50)},[e,i]),y=v.useMemo(()=>{const g=new Map;return h.forEach((b,w)=>{g.set(`${b.type}-${b.id}`,w)}),g},[h]),x=v.useMemo(()=>{const g=h.filter(w=>w.type==="column"),b=h.filter(w=>w.type==="player");return{columns:g,players:b}},[h]);return v.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(g=>Math.min(Math.max(g,0),h.length-1))}},[h,s]),v.useEffect(()=>{if(!s)return;const g=h[c];if(!g)return;const b=`${g.type}-${g.id}`,w=m.current.get(b);w&&p.current&&w.scrollIntoView({block:"nearest"})},[c,h,s]),u.jsxs("div",{ref:f,className:`relative ${a}`,children:[u.jsx("input",{value:i,onChange:g=>{o(g.target.value),l(!0)},onKeyDown:g=>{if(!s&&(g.key==="ArrowDown"||g.key==="ArrowUp")){l(!0);return}if(s)if(g.key==="ArrowDown"){if(g.preventDefault(),h.length===0)return;d(b=>(b+1)%h.length)}else if(g.key==="ArrowUp"){if(g.preventDefault(),h.length===0)return;d(b=>(b-1+h.length)%h.length)}else if(g.key==="Enter"){g.preventDefault();const b=h[c];if(!b)return;r(b),o(""),l(!1)}else g.key==="Escape"&&(g.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[x.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),x.columns.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]}),x.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),x.players.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]})]})})]})},mr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=p=>{c.current&&(c.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${a}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,u.jsx("span",{children:i}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},nae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:y,setActiveApmSkillId:x,ALL_SKILLS_KEY:g,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:M,setApmView:T,formatApmValue:L,formatCastRateValue:A,formatCastCountValue:P,renderProfessionIcon:I})=>{var z;const[G,J]=v.useState({key:"apm",dir:"desc"}),ce=e==="apm-stats",[$,B]=v.useState({columnId:"",dir:"desc"}),[re,k]=v.useState([]),[O,E]=v.useState([]),[j,V]=v.useState({}),Q=ce?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,W=ee=>{J(_=>({key:ee,dir:_.key===ee&&_.dir==="desc"?"asc":"desc"}))},H=v.useMemo(()=>{const ee=[...(S==null?void 0:S.playerRows)||[]];return ee.sort((_,te)=>{const ge=G.key==="apm"?Number(M==="perSecond"?_.aps:_.apm):Number(M==="perSecond"?_.apsNoAuto:_.apmNoAuto),R=G.key==="apm"?Number(M==="perSecond"?te.aps:te.apm):Number(M==="perSecond"?te.apsNoAuto:te.apmNoAuto);return(G.dir==="desc"?R-ge:ge-R)||String(_.displayName||"").localeCompare(String(te.displayName||""))}),ee},[S,G,M]);return u.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:ee=>w(ee.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:Q,children:d.map(ee=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const _=f!==ee.profession;p(ee.profession),h(_?ee.profession:m===ee.profession?null:ee.profession),_&&(x(g),k([]),E([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===ee.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I(ee.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[ee.players.length,"p"]})})]})}),!ce&&m===ee.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:j[ee.profession]||"",onChange:_=>{const te=_.target.value;V(ge=>({...ge,[ee.profession]:te}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{p(ee.profession),x(g)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ee.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(ee.skills||[]).filter(_=>{const te=(j[ee.profession]||"").trim().toLowerCase();return te?String(_.name||"").toLowerCase().includes(te):!0}).map(_=>u.jsx("button",{type:"button",onClick:()=>{p(ee.profession),x(_.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ee.profession&&y===_.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:_.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_.icon?u.jsx("img",{src:_.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:_.name})]})},_.id)),(ee.skills||[]).filter(_=>{const te=(j[ee.profession]||"").trim().toLowerCase();return te?String(_.name||"").toLowerCase().includes(te):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},ee.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ce&&(()=>{const ee=S.skills||[],_=(S.playerRows||[]).map(ae=>({id:ae.key,label:ae.displayName||ae.account||ae.key,icon:I(ae.profession,ae.professionList,"w-3 h-3")})),te=ee.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ge=[...ee.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(ae=>({id:ae.key,label:ae.displayName||ae.account||ae.key,type:"player",icon:I(ae.profession,ae.professionList,"w-3 h-3")}))],R=new Set([...re.map(ae=>`column:${ae}`),...O.map(ae=>`player:${ae}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:ge,selectedIds:R,onSelect:ae=>{ae.type==="column"?k(K=>K.includes(ae.id)?K.filter(F=>F!==ae.id):[...K,ae.id]):E(K=>K.includes(ae.id)?K.filter(F=>F!==ae.id):[...K,ae.id])},className:"w-full sm:w-64"}),u.jsx(mr,{options:te,selectedIds:re,onToggle:ae=>{k(K=>K.includes(ae)?K.filter(F=>F!==ae):[...K,ae])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:_,selectedIds:O,onToggle:ae=>{E(K=>K.includes(ae)?K.filter(F=>F!==ae):[...K,ae])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:M,onChange:T,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(re.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{k([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),re.map(ae=>{var K;const F=((K=ee.find(ie=>ie.id===ae))==null?void 0:K.name)||ae;return u.jsxs("button",{type:"button",onClick:()=>k(ie=>ie.filter(be=>be!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)}),O.map(ae=>{var K;const F=((K=_.find(ie=>ie.id===ae))==null?void 0:K.label)||ae;return u.jsxs("button",{type:"button",onClick:()=>E(ie=>ie.filter(be=>be!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),ce?(()=>{var ee,_;const te=S.skills||[],ge=re.length>0?te.filter(F=>re.includes(F.id)):te,R=O.length>0?(S.playerRows||[]).filter(F=>O.includes(F.key)):S.playerRows||[];if(te.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ae=((ee=ge.find(F=>F.id===$.columnId))==null?void 0:ee.id)||((_=ge[0])==null?void 0:_.id)||"",K=[...R].map(F=>{const ie={},be={};return ge.forEach(et=>{var ue;const We=Number(((ue=et.playerCounts)==null?void 0:ue.get(F.key))||0),$e=M==="perSecond"?We/Math.max(1,F.totalActiveSeconds||0):We;be[et.id]=$e,ie[et.id]=M==="perSecond"?A($e):P($e)}),{row:F,values:ie,numericValues:be}}).sort((F,ie)=>{const be=F.numericValues[ae]??0,et=ie.numericValues[ae]??0;return($.dir==="desc"?et-be:be-et)||String(F.row.displayName||"").localeCompare(String(ie.row.displayName||""))});return u.jsx(vo,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ae,sortDirection:$.dir,onSortColumn:F=>{B(ie=>({columnId:F,dir:ie.columnId===F&&ie.dir==="desc"?"asc":"desc"}))},columns:ge.map(F=>({id:F.id,label:u.jsx(jr,{name:F.name,iconUrl:F.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:K.map((F,ie)=>({id:`${S.profession}-${F.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ie+1}),I(F.row.profession,F.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:F.row.displayName})]}),values:F.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(jr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((z=S.playerRows)==null?void 0:z.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>W("apm"),className:`text-right transition-colors ${G.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM",G.key==="apm"?G.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>W("apmNoAuto"),className:`text-right transition-colors ${G.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM"," (No Auto)",G.key==="apmNoAuto"?G.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:M==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:H.map((ee,_)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),I(ee.profession,ee.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ee.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(M==="perSecond"?ee.aps:ee.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(M==="perSecond"?ee.apsNoAuto:ee.apmNoAuto)})]},`${S.profession}-all-${ee.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((ee,_)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),I(ee.profession,ee.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ee.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:P(Number(ee.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(Number(M==="perSecond"?ee.aps||0:ee.apm||0))})]},`${S.profession}-${C.id}-${ee.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},rae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:y,activePlayerSkillId:x,setActivePlayerSkillId:g,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:M,skillSearch:T,setSkillSearch:L,activePlayerBreakdown:A,activePlayerSkill:P,activeClassBreakdown:I,activeClassSkill:z,renderProfessionIcon:G})=>{const J=d.length,ce=((A==null?void 0:A.skills)||[]).reduce((K,F)=>K+(F.damage||0),0),$=(I==null?void 0:I.players)||[],[B,re]=v.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[O,E]=v.useState([]),[j,V]=v.useState([]),[Q,W]=v.useState({columnId:"",dir:"desc"}),[H,ee]=v.useState({}),[_,te]=v.useState({}),ge=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,R=v.useMemo(()=>{if(!I||!z)return $;const K=[...$];return K.sort((F,ie)=>{var be,et;const ue=(be=F.skillMap)==null?void 0:be[z.id],We=(et=ie.skillMap)==null?void 0:et[z.id],$e=Number((ue==null?void 0:ue.downContribution)||0),gt=Number((We==null?void 0:We.downContribution)||0),Gt=Number((ue==null?void 0:ue.damage)||0),Sn=Number((We==null?void 0:We.damage)||0),An=F.totalFightMs>0?Gt/(F.totalFightMs/1e3):0,he=ie.totalFightMs>0?Sn/(ie.totalFightMs/1e3):0;let Fe=0;return B.key==="down"&&(Fe=$e-gt),B.key==="damage"&&(Fe=Gt-Sn),B.key==="dps"&&(Fe=An-he),B.dir==="asc"?Fe:-Fe}),K},[I,$,z,B]),ae=K=>{re(F=>F.key!==K?{key:K,dir:"desc"}:{key:K,dir:F.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(v1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[J," ",J===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(K=>{const F=l===K.id;return u.jsx("button",{type:"button",onClick:()=>c(K.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${F?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:K.label},K.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:T,onChange:K=>L(K.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:ge,children:(k?"class":l)==="player"?d.map(K=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=p!==K.key;F&&(g(null),E([]),V([])),m(K.key),y(F?K.key:h===K.key?null:K.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===K.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:K.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[G(K.profession,K.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:K.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[K.skills.length," skills"]})})]})}),!k&&h===K.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:H[K.key]||"",onChange:F=>{const ie=F.target.value;ee(be=>({...be,[K.key]:ie}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),K.skills.filter(F=>{const ie=(H[K.key]||"").trim().toLowerCase();return ie?String(F.name||"").toLowerCase().includes(ie):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{m(K.key),g(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===K.key&&x===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),K.skills.filter(F=>{const ie=(H[K.key]||"").trim().toLowerCase();return ie?String(F.name||"").toLowerCase().includes(ie):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},K.key)):f.map(K=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=b!==K.profession;F&&(M(null),E([]),V([])),w(K.profession),C(F?K.profession:S===K.profession?null:K.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===K.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[G(K.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:K.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[K.players.length,"p"]})})]})}),!k&&S===K.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:_[K.profession]||"",onChange:F=>{const ie=F.target.value;te(be=>({...be,[K.profession]:ie}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),K.skills.filter(F=>{const ie=(_[K.profession]||"").trim().toLowerCase();return ie?String(F.name||"").toLowerCase().includes(ie):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{w(K.profession),M(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===K.profession&&N===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),K.skills.filter(F=>{const ie=(_[K.profession]||"").trim().toLowerCase();return ie?String(F.name||"").toLowerCase().includes(ie):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},K.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!A||!k&&!P?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const K=A.skills||[],F=d.map(ue=>({id:ue.key,label:ue.displayName||ue.key,icon:G(ue.profession,ue.professionList,"w-3 h-3")})),ie=K.map(ue=>({id:ue.id,label:ue.name,icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),be=[...K.map(ue=>({id:ue.id,label:ue.name,type:"column",icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ue=>({id:ue.key,label:ue.displayName||ue.key,type:"player",icon:G(ue.profession,ue.professionList,"w-3 h-3")}))],et=new Set([...O.map(ue=>`column:${ue}`),...j.map(ue=>`player:${ue}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:be,selectedIds:et,onSelect:ue=>{ue.type==="column"?E(We=>We.includes(ue.id)?We.filter($e=>$e!==ue.id):[...We,ue.id]):V(We=>We.includes(ue.id)?We.filter($e=>$e!==ue.id):[...We,ue.id])},className:"w-full sm:w-64"}),u.jsx(mr,{options:ie,selectedIds:O,onToggle:ue=>{E(We=>We.includes(ue)?We.filter($e=>$e!==ue):[...We,ue])},onClear:()=>E([]),buttonLabel:"Columns",buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:F,selectedIds:j,onToggle:ue=>{V(We=>We.includes(ue)?We.filter($e=>$e!==ue):[...We,ue])},onClear:()=>V([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})})]}),(O.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),V([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(ue=>{var We;const $e=((We=K.find(gt=>gt.id===ue))==null?void 0:We.name)||ue;return u.jsxs("button",{type:"button",onClick:()=>E(gt=>gt.filter(Gt=>Gt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$e}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)}),j.map(ue=>{var We;const $e=((We=F.find(gt=>gt.id===ue))==null?void 0:We.label)||ue;return u.jsxs("button",{type:"button",onClick:()=>V(gt=>gt.filter(Gt=>Gt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$e}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)})]})]})})(),k?(()=>{var K,F;const ie=A.skills||[],be=O.length>0?ie.filter($e=>O.includes($e.id)):ie,et=j.length>0?d.filter($e=>j.includes($e.key)):d,ue=((K=be.find($e=>$e.id===Q.columnId))==null?void 0:K.id)||((F=be[0])==null?void 0:F.id)||"",We=et.map($e=>{const gt={},Gt={};return be.forEach(Sn=>{var An;const he=(An=$e.skillMap)==null?void 0:An[Sn.id],Fe=Number((he==null?void 0:he.damage)||0);Gt[Sn.id]=Fe,gt[Sn.id]=Bs(Fe)}),{player:$e,values:gt,numericValues:Gt}}).sort(($e,gt)=>{const Gt=$e.numericValues[ue]??0,Sn=gt.numericValues[ue]??0;return(Q.dir==="desc"?Sn-Gt:Gt-Sn)||String($e.player.displayName||"").localeCompare(String(gt.player.displayName||""))});return u.jsx(vo,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:ue,sortDirection:Q.dir,onSortColumn:$e=>{W(gt=>({columnId:$e,dir:gt.columnId===$e&&gt.dir==="desc"?"asc":"desc"}))},columns:be.map($e=>({id:$e.id,label:u.jsx(jr,{name:$e.name,iconUrl:$e.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:We.map(($e,gt)=>({id:`${$e.player.key}-${gt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:gt+1}),G($e.player.profession,$e.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:$e.player.displayName})]}),values:$e.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[G(A.profession,A.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(jr,{name:(P==null?void 0:P.name)||"",iconUrl:P==null?void 0:P.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[A.skills.length," skills | ",Bs(ce)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Bs((P==null?void 0:P.downContribution)||0)},{label:"Total Damage",value:Bs((P==null?void 0:P.damage)||0)},{label:"DPS",value:mi(A.totalFightMs>0?((P==null?void 0:P.damage)||0)/(A.totalFightMs/1e3):0,1)}].map(K=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:K.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:K.value})]},K.label))})]})]}):!I||!k&&!z?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const K=I.skills||[],F=$.map(ue=>({id:ue.key,label:ue.displayName||ue.key,icon:G(ue.profession,ue.professionList,"w-3 h-3")})),ie=K.map(ue=>({id:ue.id,label:ue.name,icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),be=[...K.map(ue=>({id:ue.id,label:ue.name,type:"column",icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4"}):void 0})),...$.map(ue=>({id:ue.key,label:ue.displayName||ue.key,type:"player",icon:G(ue.profession,ue.professionList,"w-3 h-3")}))],et=new Set([...O.map(ue=>`column:${ue}`),...j.map(ue=>`player:${ue}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:be,selectedIds:et,onSelect:ue=>{ue.type==="column"?E(We=>We.includes(ue.id)?We.filter($e=>$e!==ue.id):[...We,ue.id]):V(We=>We.includes(ue.id)?We.filter($e=>$e!==ue.id):[...We,ue.id])},className:"w-full sm:w-64"}),u.jsx(mr,{options:ie,selectedIds:O,onToggle:ue=>{E(We=>We.includes(ue)?We.filter($e=>$e!==ue):[...We,ue])},onClear:()=>E([]),buttonLabel:"Columns",buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:F,selectedIds:j,onToggle:ue=>{V(We=>We.includes(ue)?We.filter($e=>$e!==ue):[...We,ue])},onClear:()=>V([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})})]}),(O.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),V([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(ue=>{var We;const $e=((We=K.find(gt=>gt.id===ue))==null?void 0:We.name)||ue;return u.jsxs("button",{type:"button",onClick:()=>E(gt=>gt.filter(Gt=>Gt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$e}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)}),j.map(ue=>{var We;const $e=((We=F.find(gt=>gt.id===ue))==null?void 0:We.label)||ue;return u.jsxs("button",{type:"button",onClick:()=>V(gt=>gt.filter(Gt=>Gt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$e}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)})]})]})})(),k?(()=>{var K,F;const ie=I.skills||[],be=O.length>0?ie.filter($e=>O.includes($e.id)):ie,et=j.length>0?$.filter($e=>j.includes($e.key)):$,ue=((K=be.find($e=>$e.id===Q.columnId))==null?void 0:K.id)||((F=be[0])==null?void 0:F.id)||"",We=et.map($e=>{const gt={},Gt={};return be.forEach(Sn=>{var An;const he=(An=$e.skillMap)==null?void 0:An[Sn.id],Fe=Number((he==null?void 0:he.damage)||0);Gt[Sn.id]=Fe,gt[Sn.id]=Bs(Fe)}),{player:$e,values:gt,numericValues:Gt}}).sort(($e,gt)=>{const Gt=$e.numericValues[ue]??0,Sn=gt.numericValues[ue]??0;return(Q.dir==="desc"?Sn-Gt:Gt-Sn)||String($e.player.displayName||"").localeCompare(String(gt.player.displayName||""))});return u.jsx(vo,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:ue,sortDirection:Q.dir,onSortColumn:$e=>{W(gt=>({columnId:$e,dir:gt.columnId===$e&&gt.dir==="desc"?"asc":"desc"}))},columns:be.map($e=>({id:$e.id,label:u.jsx(jr,{name:$e.name,iconUrl:$e.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:We.map(($e,gt)=>({id:`${$e.player.key}-${gt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:gt+1}),G($e.player.profession,$e.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:$e.player.displayName})]}),values:$e.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[G(I.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:I.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(jr,{name:(z==null?void 0:z.name)||"",iconUrl:z==null?void 0:z.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[$.length," players | ",I.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:B.key==="down"?B.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ae("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:B.key==="damage"?B.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ae("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:B.key==="dps"?B.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:R.map(K=>{var F;const ie=(F=K.skillMap)==null?void 0:F[(z==null?void 0:z.id)||""],be=Number((ie==null?void 0:ie.downContribution)||0),et=Number((ie==null?void 0:ie.damage)||0),ue=K.totalFightMs>0?et/(K.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[G(K.profession,K.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:K.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Bs(be)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Bs(et)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:mi(ue,1)})]},`${I.profession}-${K.key}`)})})]})]})})]})})]})},dL=({className:e})=>u.jsx(jU,{className:e,style:{transform:"rotate(45deg)"}}),Es=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),xo=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),aae=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[N,M]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),T=f==="offense-detailed",[L,A]=v.useState([]),[P,I]=v.useState([]),z=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),G=t.map(k=>({id:k.id,label:k.label})),J=G.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),ce=L.length>0?t.filter(k=>L.includes(k.id)):t,$=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),B=new Set([...L.map(k=>`column:${k}`),...P.map(k=>`player:${k}`)]),re=k=>{C(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":y("offense-detailed"),"data-section-first":x("offense-detailed"),className:g("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(dL,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:[...G.map(k=>({...k,type:"column"})),...$.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?A(O=>O.includes(k.id)?O.filter(E=>E!==k.id):[...O,k.id]):I(O=>O.includes(k.id)?O.filter(E=>E!==k.id):[...O,k.id])},selectedIds:B,className:"w-full sm:w-64"}),u.jsx(mr,{options:J,selectedIds:L,onToggle:k=>{A(O=>O.includes(k)?O.filter(E=>E!==k):[...O,k])},onClear:()=>A([]),buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:$,selectedIds:P,onToggle:k=>{I(O=>O.includes(k)?O.filter(E=>E!==k):[...O,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(L.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),L.map(k=>{var O;const E=((O=G.find(j=>j.id===k))==null?void 0:O.label)||k;return u.jsxs("button",{type:"button",onClick:()=>A(j=>j.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:E}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),P.map(k=>u.jsxs("button",{type:"button",onClick:()=>I(O=>O.filter(E=>E!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:z.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,O;const E=H=>Math.max(1,(H.totalFightMs||0)/1e3),j=(H,ee,_)=>{var te,ge,R,ae,K;if(ee==="downContributionPercent"){const F=((te=H.offenseTotals)==null?void 0:te.downContribution)||0,ie=((ge=H.offenseTotals)==null?void 0:ge.damage)||0;return ie>0?F/ie*100:0}if(_.isRate){const F=((R=H.offenseRateWeights)==null?void 0:R[ee])||0,ie=((ae=H.offenseTotals)==null?void 0:ae[ee])||0;return F>0?ie/F*100:0}return((K=H.offenseTotals)==null?void 0:K[ee])||0},V=(H,ee)=>{const _=n&&!ee.isPercent&&s==="total"?0:2,te=c(H,_);return ee.isPercent?`${te}%`:te},Q=((k=ce.find(H=>H.id===N.columnId))==null?void 0:k.id)||((O=ce[0])==null?void 0:O.id)||"",W=[...e.offensePlayers].filter(H=>P.length===0||P.includes(H.account)).map(H=>{const ee={},_={};return ce.forEach(te=>{const ge=j(H,te.id,te),R=s==="total"||te.isPercent||te.isRate?ge:s==="per1s"?ge/E(H):ge*60/E(H);_[te.id]=R,ee[te.id]=V(R,te)}),{row:H,values:ee,numericValues:_}}).sort((H,ee)=>{const _=H.numericValues[Q]??0,te=ee.numericValues[Q]??0;return(N.dir==="desc"?te-_:_-te)||String(H.row.account||"").localeCompare(String(ee.row.account||""))});return u.jsx(vo,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:Q,sortDirection:N.dir,onSortColumn:H=>{M(ee=>({columnId:H,dir:ee.columnId===H&&ee.dir==="desc"?"asc":"desc"}))},columns:ce.map(H=>({id:H.id,label:H.label,align:"right",minWidth:90})),rows:W.map((H,ee)=>({id:`${H.row.account}-${ee}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ee+1}),d(H.row.profession,H.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:H.row.account})]}),values:H.values}))})})()})]}):u.jsx(Es,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:z.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):z.map(k=>u.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(Q=>Q.id===i)||t[0],O=Q=>Math.max(1,(Q.totalFightMs||0)/1e3),E=Q=>{var W,H,ee,_,te;if(k.id==="downContributionPercent"){const ge=((W=Q.offenseTotals)==null?void 0:W.downContribution)||0,R=((H=Q.offenseTotals)==null?void 0:H.damage)||0;return R>0?ge/R*100:0}if(k.isRate){const ge=((ee=Q.offenseRateWeights)==null?void 0:ee[k.id])||0,R=((_=Q.offenseTotals)==null?void 0:_[k.id])||0;return ge>0?R/ge*100:0}return((te=Q.offenseTotals)==null?void 0:te[k.id])||0},j=Q=>{const W=n&&!k.isPercent&&s==="total"?0:2,H=c(Q,W);return k.isPercent?`${H}%`:H},V=[...e.offensePlayers].map(Q=>({...Q,total:E(Q),per1s:k.isPercent||k.isRate?E(Q):E(Q)/O(Q),per60s:k.isPercent||k.isRate?E(Q):E(Q)*60/O(Q)})).sort((Q,W)=>{const H=S.key==="fightTime"?Number(Q.totalFightMs||0):Number(s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s),ee=S.key==="fightTime"?Number(W.totalFightMs||0):Number(s==="total"?W.total:s==="per1s"?W.per1s:W.per60s);return(S.dir==="desc"?ee-H:H-ee)||Q.account.localeCompare(W.account)});return u.jsx(xo,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Tn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>re("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:V.map((Q,W)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(Q.profession,Q.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Q.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const H=s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s;return j(H)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Q.totalFightMs?`${(Q.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${Q.account}-${W}`))})})})()})})]})},iae=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const N=m==="conditions-outgoing",[M,T]=v.useState([]),[L,A]=v.useState([]),[P,I]=v.useState({columnId:"all",dir:"desc"}),z=k=>{if(!k)return 0;if(o!=="outgoing"){const V=Number(k.applicationsFromUptime);return Number.isFinite(V)&&V>0?V:Number(k.applications||0)}const O=Number(k.applicationsFromUptime);if(Number.isFinite(O)&&O>0)return O;const E=Number(k.applicationsFromBuffsActive);if(Number.isFinite(E)&&E>0)return E;const j=Number(k.applicationsFromBuffs);return Number.isFinite(j)&&j>0?j:Number(k.applications||0)},G=[...e||[]].sort((k,O)=>(O.damage||0)-(k.damage||0)),J=G.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),ce=J.map(k=>({id:k.name,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),$=M.length>0?G.filter(k=>M.includes(k.name)):G,B=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),re=new Set([...M.map(k=>`column:${k}`),...L.map(k=>`player:${k}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":g("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(l0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?x():y("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e&&e.length>0?N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:[...G.map(k=>({id:k.name,label:k.name,type:"column"})),...B.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?T(O=>O.includes(k.id)?O.filter(E=>E!==k.id):[...O,k.id]):A(O=>O.includes(k.id)?O.filter(E=>E!==k.id):[...O,k.id])},selectedIds:re,className:"w-full sm:w-64"}),u.jsx(mr,{options:ce,selectedIds:M,onToggle:k=>{T(O=>O.includes(k)?O.filter(E=>E!==k):[...O,k])},onClear:()=>T([]),buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:B,selectedIds:L,onToggle:k=>{A(O=>O.includes(k)?O.filter(E=>E!==k):[...O,k])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Tn,{value:c.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=c.key,O=[{id:"all",label:"All Conditions",icon:null},...$],E=(t||[]).filter(Q=>L.length===0||L.includes(Q.account)).map(Q=>{const W=Q.conditions||{},H={},ee={};return O.forEach(_=>{if(_.id==="all"||_.name==="All Conditions"){const R=Object.values(W).reduce((K,F)=>{const ie=z(F);return K.applications+=Number(ie||0),K.damage+=Number((F==null?void 0:F.damage)||0),K},{applications:0,damage:0}),ae=k==="applications"?R.applications:R.damage;ee.all=ae||0,H.all=Math.round(ae||0).toLocaleString();return}const te=W[_.name],ge=k==="applications"?z(te):Number((te==null?void 0:te.damage)||0);ee[_.name]=Number(ge||0),H[_.name]=Math.round(ge||0).toLocaleString()}),{player:Q,values:H,numericValues:ee}}).filter(Q=>Object.values(Q.values).some(W=>W!=="0")),j=["all",...$.map(Q=>Q.name)].includes(P.columnId)?P.columnId:"all",V=[...E].sort((Q,W)=>{const H=Q.numericValues[j]??0,ee=W.numericValues[j]??0;return(P.dir==="desc"?ee-H:H-ee)||String(Q.player.account||"").localeCompare(String(W.player.account||""))});return u.jsx(vo,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:j,sortDirection:P.dir,onSortColumn:Q=>{I(W=>({columnId:Q,dir:W.columnId===Q&&W.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...$.map(Q=>({id:Q.name,label:u.jsx(jr,{name:Q.name,iconUrl:Q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:V.map((Q,W)=>({id:`${Q.player.account}-${W}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:W+1}),p(Q.player.profession,Q.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Q.player.account})]}),values:Q.values}))})})()}),(M.length>0||L.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>u.jsxs("button",{type:"button",onClick:()=>T(O=>O.filter(E=>E!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k)),L.map(k=>u.jsxs("button",{type:"button",onClick:()=>A(O=>O.filter(E=>E!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):u.jsx(Es,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),J.map(k=>u.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(jr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:u.jsx(xo,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":u.jsx(jr,{name:a,iconUrl:(C=e.find(k=>k.name===a))==null?void 0:C.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Tn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const k=(t||[]).map(O=>{const E=O.conditions||{};if(a==="all"){const V=Object.values(E).reduce((Q,W)=>{const H=z(W);return Q.applications+=Number(H||0),Q.damage+=Number((W==null?void 0:W.damage)||0),Q},{applications:0,damage:0});return{...O,applications:V.applications,damage:V.damage}}const j=E[a];return{...O,applications:z(j),damage:Number((j==null?void 0:j.damage)||0)}}).filter(O=>O.applications>0||O.damage>0).sort((O,E)=>{const j=c.key==="applications"?O.applications||0:O.damage||0,V=c.key==="applications"?E.applications||0:E.damage||0,Q=c.dir==="desc"?V-j:j-V;if(Q!==0)return Q;const W=c.key==="applications"?(E.damage||0)-(O.damage||0):(E.applications||0)-(O.applications||0);return W!==0?W:String(O.account||"").localeCompare(String(E.account||""))});return k.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((O,E)=>{var j;const V=O.conditions||{};let Q={};a==="all"?Object.values(V).forEach(R=>{const ae=(R==null?void 0:R.skills)||{};Object.values(ae).forEach(K=>{const F=(K==null?void 0:K.name)||"Unknown",ie=Number((K==null?void 0:K.hits)||0),be=Number((K==null?void 0:K.damage)||0);if((!Number.isFinite(ie)||ie<=0)&&(!Number.isFinite(be)||be<=0))return;const et=Q[F]||{name:F,hits:0,damage:0,icon:K==null?void 0:K.icon};et.hits+=Number.isFinite(ie)?ie:0,et.damage+=Number.isFinite(be)?be:0,!et.icon&&K!=null&&K.icon&&(et.icon=K.icon),Q[F]=et})}):Q=((j=V[a])==null?void 0:j.skills)||{};const W=Object.values(Q).filter(R=>Number.isFinite(R.hits)&&R.hits>0).sort((R,ae)=>ae.hits-R.hits||R.name.localeCompare(ae.name)),H=Object.values(Q).filter(R=>Number.isFinite(R.damage)&&R.damage>0).sort((R,ae)=>ae.damage-R.damage||R.name.localeCompare(ae.name)),ee=a==="all"&&W.length>0,_=a==="all"&&H.length>0,te=Math.round(O.applications||0).toLocaleString(),ge=Math.round(O.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:E+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(O.profession,O.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:O.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ee?u.jsx($E,{value:te,label:"Condition Sources",items:W.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.hits).toLocaleString()})),className:"justify-end"}):te}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:_?u.jsx($E,{value:ge,label:"Condition Damage Sources",items:H.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.damage).toLocaleString()})),className:"justify-end"}):ge}):null]},`${O.account}-${E}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},oae=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:y,expandedSectionClosing:x,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[M,T]=v.useState({key:"value",dir:"desc"}),[L,A]=v.useState({columnId:"",dir:"desc"}),P=y==="boon-output",[I,z]=v.useState([]),[G,J]=v.useState([]),ce=e.boonTables||[],$=I.length>0?ce.filter(E=>I.includes(E.id)):ce,B=l.map(E=>({id:E.id,label:E.name,icon:E.icon?u.jsx("img",{src:E.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),re=Array.from(new Map((e.boonTables||[]).flatMap(E=>E.rows||[]).filter(E=>E.account).map(E=>[E.account,E])).values()).map(E=>({id:E.account,label:E.account,icon:m(E.profession,E.professionList,"w-3 h-3")})),k=new Set([...I.map(E=>`column:${E}`),...G.map(E=>`player:${E}`)]),O=E=>{T(j=>({key:E,dir:j.key===E&&j.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${y==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${x?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>y==="boon-output"?b():g("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":y==="boon-output"?"Close Boon Output":"Expand Boon Output",title:y==="boon-output"?"Close":"Expand",children:y==="boon-output"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:[...ce.map(E=>({id:E.id,label:E.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(E=>E.rows||[]).filter(E=>E.account).map(E=>[E.account,E])).values()).map(E=>({id:E.account,label:E.account,type:"player",icon:m(E.profession,E.professionList,"w-3 h-3")}))],onSelect:E=>{E.type==="column"?z(j=>j.includes(E.id)?j.filter(V=>V!==E.id):[...j,E.id]):J(j=>j.includes(E.id)?j.filter(V=>V!==E.id):[...j,E.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(mr,{options:B,selectedIds:I,onToggle:E=>{z(j=>j.includes(E)?j.filter(V=>V!==E):[...j,E])},onClear:()=>z([]),buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:re,selectedIds:G,onToggle:E=>{J(j=>j.includes(E)?j.filter(V=>V!==E):[...j,E])},onClear:()=>J([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Tn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||G.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{z([]),J([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(E=>{var j;const V=((j=ce.find(Q=>Q.id===E))==null?void 0:j.name)||E;return u.jsxs("button",{type:"button",onClick:()=>z(Q=>Q.filter(W=>W!==E)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},E)}),G.map(E=>u.jsxs("button",{type:"button",onClick:()=>J(j=>j.filter(V=>V!==E)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:E}),u.jsx("span",{className:"text-gray-400",children:""})]},E))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ce.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var E,j;const V=$,Q=((E=V.find(_=>_.id===L.columnId))==null?void 0:E.id)||(i&&V.some(_=>_.id===i)?i:void 0)||((j=V[0])==null?void 0:j.id)||"",W=new Map,H=new Map;V.forEach(_=>{const te=new Map;_.rows.forEach(ge=>{const R=ge.account||ge.name||ge.id;R&&(te.set(R,ge),H.has(R)||H.set(R,ge))}),W.set(_.id,te)});const ee=Array.from(H.entries()).filter(([_])=>G.length===0||G.includes(String(_))).map(([_,te])=>{const ge={};return V.forEach(R=>{var ae;const K=(ae=W.get(R.id))==null?void 0:ae.get(_);ge[R.id]=K?f(K,t,R.stacking,r,{roundCountStats:h}):"-"}),{key:_,row:te,values:ge}}).sort((_,te)=>{var ge,R;if(!Q)return String(_.key).localeCompare(String(te.key));const ae=V.find(et=>et.id===Q),K=ae?(ge=W.get(ae.id))==null?void 0:ge.get(_.key):null,F=ae?(R=W.get(ae.id))==null?void 0:R.get(te.key):null,ie=K?p(K,t,ae==null?void 0:ae.stacking,r):0,be=F?p(F,t,ae==null?void 0:ae.stacking,r):0;return(L.dir==="desc"?be-ie:ie-be)||String(_.key).localeCompare(String(te.key))});return u.jsx(vo,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:Q,sortDirection:L.dir,onSortColumn:_=>{A(te=>({columnId:_,dir:te.columnId===_&&te.dir==="desc"?"asc":"desc"}))},columns:V.map(_=>({id:_.id,label:u.jsx(jr,{name:_.name,iconUrl:_.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ee.map((_,te)=>({id:`${_.key}-${te}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:te+1}),m(_.row.profession,_.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:_.row.account||_.row.name||_.key})]}),values:_.values}))})})()})]}):u.jsx(Es,{expanded:y==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${y==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${y==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:E=>d(E.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${y==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(E=>u.jsx("button",{onClick:()=>o(E.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===E.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(jr,{name:E.name,iconUrl:E.icon,iconClassName:"h-3.5 w-3.5"})},E.id))})]}),content:s?u.jsx(xo,{expanded:y==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(jr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Tn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Tn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>O("value"),className:`text-right transition-colors ${M.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",M.key==="value"?M.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>O("fightTime"),className:`text-right transition-colors ${M.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",M.key==="fightTime"?M.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...s.rows].sort((E,j)=>(()=>{const V=M.key==="fightTime"?Number(E.activeTimeMs||0):p(E,t,s.stacking,r),Q=M.key==="fightTime"?Number(j.activeTimeMs||0):p(j,t,s.stacking,r);return(M.dir==="desc"?Q-V:V-Q)||String(E.account||"").localeCompare(String(j.account||""))})()).map((E,j)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:j+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(E.profession,E.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:E.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(E,t,s.stacking,r,{roundCountStats:h})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:E.activeTimeMs?`${(E.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${E.account}-${j}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},sae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[N,M]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),T=f==="defense-detailed",[L,A]=v.useState([]),[P,I]=v.useState([]),z=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),G=t.map(k=>({id:k.id,label:k.label})),J=G.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),ce=L.length>0?t.filter(k=>L.includes(k.id)):t,$=Array.from(new Map(e.defensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),B=new Set([...L.map(k=>`column:${k}`),...P.map(k=>`player:${k}`)]),re=k=>{C(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":y("defense-detailed"),"data-section-first":x("defense-detailed"),className:g("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Iu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:[...G.map(k=>({...k,type:"column"})),...$.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?A(O=>O.includes(k.id)?O.filter(E=>E!==k.id):[...O,k.id]):I(O=>O.includes(k.id)?O.filter(E=>E!==k.id):[...O,k.id])},selectedIds:B,className:"w-full sm:w-64"}),u.jsx(mr,{options:J,selectedIds:L,onToggle:k=>{A(O=>O.includes(k)?O.filter(E=>E!==k):[...O,k])},onClear:()=>A([]),buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:$,selectedIds:P,onToggle:k=>{I(O=>O.includes(k)?O.filter(E=>E!==k):[...O,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(L.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),L.map(k=>{var O;const E=((O=G.find(j=>j.id===k))==null?void 0:O.label)||k;return u.jsxs("button",{type:"button",onClick:()=>A(j=>j.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:E}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),P.map(k=>u.jsxs("button",{type:"button",onClick:()=>I(O=>O.filter(E=>E!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:z.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var k,O;const E=W=>Math.max(1,(W.activeMs||0)/1e3),j=(W,H)=>{const ee=H.isPercent,_=c(W,l&&!ee&&o==="total"?0:2);return ee?`${_}%`:_},V=((k=ce.find(W=>W.id===N.columnId))==null?void 0:k.id)||((O=ce[0])==null?void 0:O.id)||"",Q=[...e.defensePlayers].filter(W=>P.length===0||P.includes(W.account)).map(W=>{const H={},ee={};return ce.forEach(_=>{var te;const ge=((te=W.defenseTotals)==null?void 0:te[_.id])||0,R=_.isPercent,ae=o==="total"||R?ge:o==="per1s"?ge/E(W):ge*60/E(W);ee[_.id]=ae,H[_.id]=j(ae,_)}),{row:W,values:H,numericValues:ee}}).sort((W,H)=>{const ee=W.numericValues[V]??0,_=H.numericValues[V]??0;return(N.dir==="desc"?_-ee:ee-_)||String(W.row.account||"").localeCompare(String(H.row.account||""))});return u.jsx(vo,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:V,sortDirection:N.dir,onSortColumn:W=>{M(H=>({columnId:W,dir:H.columnId===W&&H.dir==="desc"?"asc":"desc"}))},columns:ce.map(W=>({id:W.id,label:W.label,align:"right",minWidth:90})),rows:Q.map((W,H)=>({id:`${W.row.account}-${H}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),d(W.row.profession,W.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.row.account})]}),values:W.values}))})})()})]}):u.jsx(Es,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:z.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):z.map(k=>u.jsx("button",{onClick:()=>i(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(j=>j.id===a)||t[0],O=j=>Math.max(1,(j.activeMs||0)/1e3),E=[...e.defensePlayers].map(j=>{var V,Q,W;return{...j,total:((V=j.defenseTotals)==null?void 0:V[k.id])||0,per1s:(((Q=j.defenseTotals)==null?void 0:Q[k.id])||0)/O(j),per60s:(((W=j.defenseTotals)==null?void 0:W[k.id])||0)*60/O(j)}}).sort((j,V)=>{const Q=S.key==="fightTime"?Number(j.activeMs||0):Number(o==="total"?j.total:o==="per1s"?j.per1s:j.per60s),W=S.key==="fightTime"?Number(V.activeMs||0):Number(o==="total"?V.total:o==="per1s"?V.per1s:V.per60s);return(S.dir==="desc"?W-Q:Q-W)||j.account.localeCompare(V.account)});return u.jsx(xo,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Tn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>re("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:E.map((j,V)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Q=o==="total"?j.total:o==="per1s"?j.per1s:j.per60s;return c(Q,l&&o==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.activeMs?`${(j.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${j.account}-${V}`))})})})()})})]})},lae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C,N;const M=((C=t.find(R=>R.id==="totalMitigation"))==null?void 0:C.id)||((N=t[0])==null?void 0:N.id)||"totalMitigation",[T,L]=v.useState({key:"value",dir:"desc"}),[A,P]=v.useState({columnId:M,dir:"desc"}),I=m==="defense-mitigation",[z,G]=v.useState([]),[J,ce]=v.useState([]),[$,B]=v.useState([]),re=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],O=l==="minions"?k:re,E=re.length>0||k.length>0,j=t.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),V=t.map(R=>({id:R.id,label:R.label})),Q=V.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),W=z.length>0?t.filter(R=>z.includes(R.id)):t,H=Array.from(new Map(O.map(R=>[R.account,R])).values()).map(R=>({id:R.account,label:R.account,icon:p(R.profession,R.professionList,"w-3 h-3")})),ee=Array.from(new Map(k.map(R=>[R.minion,R])).values()).filter(R=>R==null?void 0:R.minion).map(R=>({id:String(R.minion),label:String(R.minion)})),_=new Set([...z.map(R=>`column:${R}`),...J.map(R=>`player:${R}`)]),te=R=>{L(ae=>({key:R,dir:ae.key===R&&ae.dir==="desc"?"asc":"desc"}))},ge=R=>f(R,d&&o==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":g("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?x():y("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),E?I?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:[...V.map(R=>({...R,type:"column"})),...H.map(R=>({...R,type:"player"}))],onSelect:R=>{R.type==="column"?G(ae=>ae.includes(R.id)?ae.filter(K=>K!==R.id):[...ae,R.id]):ce(ae=>ae.includes(R.id)?ae.filter(K=>K!==R.id):[...ae,R.id])},selectedIds:_,className:"w-full sm:w-64"}),u.jsx(mr,{options:Q,selectedIds:z,onToggle:R=>{G(ae=>ae.includes(R)?ae.filter(K=>K!==R):[...ae,R])},onClear:()=>G([]),buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:H,selectedIds:J,onToggle:R=>{ce(ae=>ae.includes(R)?ae.filter(K=>K!==R):[...ae,R])},onClear:()=>ce([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(mr,{options:ee,selectedIds:$,onToggle:R=>{B(ae=>ae.includes(R)?ae.filter(K=>K!==R):[...ae,R])},onClear:()=>B([]),buttonLabel:"Minions"}),u.jsx(Tn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Tn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(z.length>0||J.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{G([]),ce([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),z.map(R=>{var ae;const K=((ae=V.find(F=>F.id===R))==null?void 0:ae.label)||R;return u.jsxs("button",{type:"button",onClick:()=>G(F=>F.filter(ie=>ie!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:K}),u.jsx("span",{className:"text-gray-400",children:""})]},R)}),J.map(R=>u.jsxs("button",{type:"button",onClick:()=>ce(ae=>ae.filter(K=>K!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},R))]}),l==="minions"&&$.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>B([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),$.map(R=>u.jsxs("button",{type:"button",onClick:()=>B(ae=>ae.filter(K=>K!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},R))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var R,ae;const K=be=>Math.max(1,(be.activeMs||0)/1e3),F=((R=W.find(be=>be.id===A.columnId))==null?void 0:R.id)||((ae=W[0])==null?void 0:ae.id)||"",ie=[...O].filter(be=>J.length===0||J.includes(be.account)).filter(be=>l!=="minions"||!$.length?!0:$.includes(String(be.minion||""))).map(be=>{const et={},ue={};return W.forEach(We=>{var $e;const gt=(($e=be.mitigationTotals)==null?void 0:$e[We.id])||0,Gt=o==="total"?gt:o==="per1s"?gt/K(be):gt*60/K(be);ue[We.id]=Gt,et[We.id]=ge(Gt)}),{row:be,values:et,numericValues:ue}}).sort((be,et)=>{const ue=be.numericValues[F]??0,We=et.numericValues[F]??0;return(A.dir==="desc"?We-ue:ue-We)||String(be.row.account||"").localeCompare(String(et.row.account||""))});return u.jsx(vo,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:F,sortDirection:A.dir,onSortColumn:be=>{P(et=>({columnId:be,dir:et.columnId===be&&et.dir==="desc"?"asc":"desc"}))},columns:W.map(be=>({id:be.id,label:be.label,align:"right",minWidth:90})),rows:ie.map((be,et)=>({id:`${be.row.account}-${be.row.minion||"player"}-${et}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:et+1}),p(be.row.profession,be.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:be.row.account}),be.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:be.row.minion})]})]}),values:be.values}))})})()})]}):u.jsx(Es,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:R=>r(R.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(R=>u.jsx("button",{onClick:()=>i(R.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===R.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:R.label},R.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const R=t.find(F=>F.id===a)||t[0],ae=F=>Math.max(1,(F.activeMs||0)/1e3),K=[...O].map(F=>{var ie,be,et;return{...F,total:((ie=F.mitigationTotals)==null?void 0:ie[R.id])||0,per1s:(((be=F.mitigationTotals)==null?void 0:be[R.id])||0)/ae(F),per60s:(((et=F.mitigationTotals)==null?void 0:et[R.id])||0)*60/ae(F)}}).filter(F=>l!=="minions"||!$.length?!0:$.includes(String(F.minion||""))).sort((F,ie)=>{const be=T.key==="fightTime"?Number(F.activeMs||0):Number(o==="total"?F.total:o==="per1s"?F.per1s:F.per60s),et=T.key==="fightTime"?Number(ie.activeMs||0):Number(o==="total"?ie.total:o==="per1s"?ie.per1s:ie.per60s);return(T.dir==="desc"?et-be:be-et)||F.account.localeCompare(ie.account)});return u.jsx(xo,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Tn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Tn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("value"),className:`text-right transition-colors ${T.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",T.key==="value"?T.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>te("fightTime"),className:`text-right transition-colors ${T.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",T.key==="fightTime"?T.dir==="desc"?" ":" ":""]})]})]}),rows:K.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:K.map((F,ie)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ie+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(F.profession,F.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:F.account}),F.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:F.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const be=o==="total"?F.total:o==="per1s"?F.per1s:F.per60s;return ge(be)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:F.activeMs?`${(F.activeMs/1e3).toFixed(1)}s`:"-"})]},`${R.id}-${F.account}-${F.minion||"player"}-${ie}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},cae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const[N,M]=v.useState({key:"value",dir:"desc"}),[T,L]=v.useState({columnId:((C=t[0])==null?void 0:C.id)||"value",dir:"desc"}),A=m==="support-detailed",[P,I]=v.useState([]),[z,G]=v.useState([]),J=t.filter(E=>E.label.toLowerCase().includes(n.trim().toLowerCase())),ce=t.map(E=>({id:E.id,label:E.label})),$=ce.filter(E=>E.label.toLowerCase().includes(n.trim().toLowerCase())),B=P.length>0?t.filter(E=>P.includes(E.id)):t,re=Array.from(new Map(e.supportPlayers.map(E=>[E.account,E])).values()).map(E=>({id:E.account,label:E.account,icon:p(E.profession,E.professionList,"w-3 h-3")})),k=new Set([...P.map(E=>`column:${E}`),...z.map(E=>`player:${E}`)]),O=E=>{M(j=>({key:E,dir:j.key===E&&j.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":g("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(x1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?x():y("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:[...ce.map(E=>({...E,type:"column"})),...re.map(E=>({...E,type:"player"}))],onSelect:E=>{E.type==="column"?I(j=>j.includes(E.id)?j.filter(V=>V!==E.id):[...j,E.id]):G(j=>j.includes(E.id)?j.filter(V=>V!==E.id):[...j,E.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(mr,{options:$,selectedIds:P,onToggle:E=>{I(j=>j.includes(E)?j.filter(V=>V!==E):[...j,E])},onClear:()=>I([]),buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:re,selectedIds:z,onToggle:E=>{G(j=>j.includes(E)?j.filter(V=>V!==E):[...j,E])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&u.jsx(Tn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||z.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{I([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(E=>{var j;const V=((j=ce.find(Q=>Q.id===E))==null?void 0:j.label)||E;return u.jsxs("button",{type:"button",onClick:()=>I(Q=>Q.filter(W=>W!==E)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},E)}),z.map(E=>u.jsxs("button",{type:"button",onClick:()=>G(j=>j.filter(V=>V!==E)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:E}),u.jsx("span",{className:"text-gray-400",children:""})]},E))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var E,j;const V=(_,te)=>{var ge,R,ae;if(te==="condiCleanse"){const K=((ge=_.supportTotals)==null?void 0:ge.condiCleanse)||0,F=((R=_.supportTotals)==null?void 0:R.condiCleanseSelf)||0;return l==="all"?K+F:K}return((ae=_.supportTotals)==null?void 0:ae[te])||0},Q=_=>Math.max(1,(_.activeMs||0)/1e3),W=(_,te)=>{const ge=_.isTime?1:d&&o==="total"?0:2;return f(te,ge)},H=((E=B.find(_=>_.id===T.columnId))==null?void 0:E.id)||((j=B[0])==null?void 0:j.id)||"",ee=[...e.supportPlayers].filter(_=>z.length===0||z.includes(_.account)).map(_=>{const te={},ge={};return B.forEach(R=>{const ae=V(_,R.id),K=o==="total"?ae:o==="per1s"?ae/Q(_):ae*60/Q(_);ge[R.id]=K,te[R.id]=W(R,K)}),{row:_,values:te,numericValues:ge}}).sort((_,te)=>{const ge=_.numericValues[H]??0,R=te.numericValues[H]??0;return(T.dir==="desc"?R-ge:ge-R)||String(_.row.account||"").localeCompare(String(te.row.account||""))});return u.jsx(vo,{title:"Support - Dense View",subtitle:"Support",sortColumnId:H,sortDirection:T.dir,onSortColumn:_=>{L(te=>({columnId:_,dir:te.columnId===_&&te.dir==="desc"?"asc":"desc"}))},columns:B.map(_=>({id:_.id,label:_.label,align:"right",minWidth:90})),rows:ee.map((_,te)=>({id:`${_.row.account}-${te}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:te+1}),p(_.row.profession,_.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:_.row.account})]}),values:_.values}))})})()})]}):u.jsx(Es,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:E=>r(E.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):J.map(E=>u.jsx("button",{onClick:()=>i(E.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===E.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:E.label},E.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const E=t.find(W=>W.id===a)||t[0],j=W=>{var H,ee,_;if(E.id==="condiCleanse"){const te=((H=W.supportTotals)==null?void 0:H.condiCleanse)||0,ge=((ee=W.supportTotals)==null?void 0:ee.condiCleanseSelf)||0;return l==="all"?te+ge:te}return((_=W.supportTotals)==null?void 0:_[E.id])||0},V=W=>Math.max(1,(W.activeMs||0)/1e3),Q=[...e.supportPlayers].map(W=>({...W,total:j(W),per1s:j(W)/V(W),per60s:j(W)*60/V(W)})).sort((W,H)=>{const ee=N.key==="fightTime"?Number(W.activeMs||0):Number(o==="total"?W.total:o==="per1s"?W.per1s:W.per60s),_=N.key==="fightTime"?Number(H.activeMs||0):Number(o==="total"?H.total:o==="per1s"?H.per1s:H.per60s);return(N.dir==="desc"?_-ee:ee-_)||W.account.localeCompare(H.account)});return u.jsx(xo,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:E.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[E.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Tn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Tn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Tn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>O("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>O("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:Q.map((W,H)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:H+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(W.profession,W.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ee=o==="total"?W.total:o==="per1s"?W.per1s:W.per60s,_=E.isTime?1:d&&o==="total"?0:2;return f(ee,_)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:W.activeMs?`${(W.activeMs/1e3).toFixed(1)}s`:"-"})]},`${E.id}-${W.account}-${H}`))})})})()})})]})},uae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g})=>{var b;const[w,S]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState({columnId:((b=t[0])==null?void 0:b.id)||"value",dir:"desc"}),M=f==="healing-stats",[T,L]=v.useState([]),[A,P]=v.useState([]),I=Array.from(new Map(e.healingPlayers.map($=>[$.account,$])).values()).map($=>({id:$.account,label:$.account,icon:d($.profession,$.professionList,"w-3 h-3")})),z=new Set([...A.map($=>`column:${$}`),...T.map($=>`player:${$}`)]),G=t.map($=>({id:$.id,label:$.label})),J=A.length>0?t.filter($=>A.includes($.id)):t,ce=$=>{S(B=>({key:$,dir:B.key===$&&B.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":y("healing-stats"),"data-section-first":x("healing-stats"),className:g("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(cO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:[...G.map($=>({...$,type:"column"})),...I.map($=>({...$,type:"player"}))],onSelect:$=>{$.type==="column"?P(B=>B.includes($.id)?B.filter(re=>re!==$.id):[...B,$.id]):L(B=>B.includes($.id)?B.filter(re=>re!==$.id):[...B,$.id])},selectedIds:z,className:"w-full sm:w-64"}),u.jsx(Tn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(mr,{options:G,selectedIds:A,onToggle:$=>{P(B=>B.includes($)?B.filter(re=>re!==$):[...B,$])},onClear:()=>P([]),buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map($=>({value:$.id,label:$.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(mr,{options:I,selectedIds:T,onToggle:$=>{L(B=>B.includes($)?B.filter(re=>re!==$):[...B,$])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})})]}),(A.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map($=>{var B;const re=((B=G.find(k=>k.id===$))==null?void 0:B.label)||$;return u.jsxs("button",{type:"button",onClick:()=>P(k=>k.filter(O=>O!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:re}),u.jsx("span",{className:"text-gray-400",children:""})]},$)}),T.map($=>u.jsxs("button",{type:"button",onClick:()=>L(B=>B.filter(re=>re!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$}),u.jsx("span",{className:"text-gray-400",children:""})]},$))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var $,B;const re=j=>Math.max(1,(j.activeMs||0)/1e3),k=j=>{const V=j.baseField==="resUtility",Q=V||a==="total"?"":a==="offSquad"?"offSquad":a;return V?o==="all"?"resUtility":`resUtility_${o}`:Q?`${Q}${j.baseField[0].toUpperCase()}${j.baseField.slice(1)}`:j.baseField},O=[...e.healingPlayers].filter(j=>T.length===0||T.includes(j.account)).filter(j=>Object.values(j.healingTotals||{}).some(V=>Number(V)>0)).map(j=>{const V={},Q={};return J.forEach(W=>{var H;const ee=k(W),_=Number(((H=j.healingTotals)==null?void 0:H[ee])??0),te=W.perSecond?_/re(j):_;Q[W.id]=te,V[W.id]=c(te,W.decimals)}),{row:j,values:V,numericValues:Q}}).sort((j,V)=>{var Q,W;const H=((Q=J.find(te=>te.id===C.columnId))==null?void 0:Q.id)||((W=J[0])==null?void 0:W.id)||"",ee=j.numericValues[H]??0,_=V.numericValues[H]??0;return(C.dir==="desc"?_-ee:ee-_)||String(j.row.account||"").localeCompare(String(V.row.account||""))}),E=(($=J.find(j=>j.id===C.columnId))==null?void 0:$.id)||((B=J[0])==null?void 0:B.id)||"";return u.jsx(vo,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:E,sortDirection:C.dir,onSortColumn:j=>{N(V=>({columnId:j,dir:V.columnId===j&&V.dir==="desc"?"asc":"desc"}))},columns:J.map(j=>({id:j.id,label:j.label,align:"right",minWidth:90})),rows:O.map((j,V)=>({id:`${j.row.account}-${V}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),d(j.row.profession,j.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.row.account})]}),values:j.values}))})})()})]}):u.jsx(Es,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map($=>u.jsx("button",{onClick:()=>r($.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===$.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:$.label},$.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const $=t.find(j=>j.id===n)||t[0],B=$.baseField==="resUtility",re=j=>Math.max(1,(j.activeMs||0)/1e3),k=B||a==="total"?"":a==="offSquad"?"offSquad":a,O=B?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${$.baseField[0].toUpperCase()}${$.baseField.slice(1)}`:$.baseField,E=[...e.healingPlayers].filter(j=>Object.values(j.healingTotals||{}).some(V=>Number(V)>0)).map(j=>{var V;const Q=Number(((V=j.healingTotals)==null?void 0:V[O])??0),W=$.perSecond?Q/re(j):Q;return{...j,value:W}}).sort((j,V)=>{const Q=w.key==="fightTime"?Number(j.activeMs||0):Number(j.value||0),W=w.key==="fightTime"?Number(V.activeMs||0):Number(V.value||0);return(w.dir==="desc"?W-Q:Q-W)||j.account.localeCompare(V.account)});return u.jsx(xo,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[B&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Tn,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(j=>({value:j.id,label:j.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!B&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Tn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ce("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[$.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ce("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:E.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):E.map((j,V)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(j.value,$.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.activeMs?`${(j.activeMs/1e3).toFixed(1)}s`:"-"})]},`${$.id}-${j.account}-${V}`))})})})()})})]})},dae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",fae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("total"),[w,S]=v.useState("desc"),[C,N]=v.useState({columnId:"",dir:"desc"}),M=c==="special-buffs",[T,L]=v.useState([]),[A,P]=v.useState([]),I=e.specialTables||[],z=T.length>0?I.filter(k=>T.includes(k.id)):I,G=r.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),J=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),ce=new Set([...T.map(k=>`column:${k}`),...A.map(k=>`player:${k}`)]),$=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((O,E)=>{const j=Number((O==null?void 0:O[g])??0),V=Number((E==null?void 0:E[g])??0),Q=w==="desc"?V-j:j-V;return Q!==0?Q:String((O==null?void 0:O.account)||"").localeCompare(String((E==null?void 0:E.account)||""))}),k},[o,g,w]),B=k=>{if(g===k){S(O=>O==="desc"?"asc":"desc");return}b(k),S("desc")},re=k=>g!==k?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:y("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(c0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(bo,{options:[...I.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?L(O=>O.includes(k.id)?O.filter(E=>E!==k.id):[...O,k.id]):P(O=>O.includes(k.id)?O.filter(E=>E!==k.id):[...O,k.id])},selectedIds:ce,className:"w-full sm:w-64"}),u.jsx(mr,{options:G,selectedIds:T,onToggle:k=>{L(O=>O.includes(k)?O.filter(E=>E!==k):[...O,k])},onClear:()=>L([]),buttonIcon:u.jsx(go,{className:"h-3.5 w-3.5"})}),u.jsx(mr,{options:J,selectedIds:A,onToggle:k=>{P(O=>O.includes(k)?O.filter(E=>E!==k):[...O,k])},onClear:()=>P([]),buttonLabel:"Players",buttonIcon:u.jsx(Nr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:g,onChange:k=>b(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{L([]),P([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var O;const E=((O=I.find(j=>j.id===k))==null?void 0:O.name)||k;return u.jsxs("button",{type:"button",onClick:()=>L(j=>j.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:E}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),A.map(k=>u.jsxs("button",{type:"button",onClick:()=>P(O=>O.filter(E=>E!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:I.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,O;const E=z,j=new Map,V=new Map;E.forEach(ee=>{const _=new Map;ee.rows.forEach(te=>{const ge=te.account||te.name||te.id;ge&&(_.set(ge,te),V.has(ge)||V.set(ge,te))}),j.set(ee.id,_)});const Q=Array.from(V.entries()).filter(([ee])=>A.length===0||A.includes(String(ee))).map(([ee,_])=>{const te={},ge={};return E.forEach(R=>{var ae;const K=(ae=j.get(R.id))==null?void 0:ae.get(ee);if(!K){te[R.id]="-",ge[R.id]=0;return}if(g==="duration"){te[R.id]=K.duration?`${K.duration.toFixed(1)}s`:"-",ge[R.id]=Number(K.duration||0);return}const F=g==="total"?K.total:K.perSecond,ie=g==="total"?0:1;ge[R.id]=Number(F||0),te[R.id]=s(F||0,ie)}),{key:ee,row:_,values:te,numericValues:ge}}),W=((k=E.find(ee=>ee.id===C.columnId))==null?void 0:k.id)||(a&&E.some(ee=>ee.id===a)?a:void 0)||((O=E[0])==null?void 0:O.id)||"",H=[...Q].sort((ee,_)=>{if(!W)return String(ee.key).localeCompare(String(_.key));const te=ee.numericValues[W]??0,ge=_.numericValues[W]??0;return(C.dir==="desc"?ge-te:te-ge)||String(ee.key).localeCompare(String(_.key))});return u.jsx(vo,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:W,sortDirection:C.dir,onSortColumn:ee=>{N(_=>({columnId:ee,dir:_.columnId===ee&&_.dir==="desc"?"asc":"desc"}))},columns:E.map(ee=>({id:ee.id,label:u.jsx(jr,{name:ee.name,iconUrl:ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:H.map((ee,_)=>({id:`${ee.key}-${_}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:_+1}),l(ee.row.profession,ee.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.row.account||ee.row.name||ee.key})]}),values:ee.values}))})})()})]}):u.jsx(Es,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>u.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(jr,{name:dae(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(xo,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(jr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>B("total"),className:`text-right transition-colors ${g==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",re("total")]}),u.jsxs("button",{type:"button",onClick:()=>B("perSecond"),className:`text-right transition-colors ${g==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",re("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>B("duration"),className:`text-right transition-colors ${g==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",re("duration")]})]}),rows:u.jsx(u.Fragment,{children:$.map((k,O)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${O}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},pae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",mae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("desc"),w=c==="sigil-relic-uptime",S=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const C=[...o.rows];return C.sort((N,M)=>{const T=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),L=Number((M==null?void 0:M.uptimePerSecond)??(M==null?void 0:M.perSecond)??0),A=g==="desc"?L-T:T-L;return A!==0?A:String((N==null?void 0:N.account)||"").localeCompare(String((M==null?void 0:M.account)||""))}),C},[o,g]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:y("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e?u.jsx(Es,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>i(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(jr,{name:pae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(xo,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(jr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",g==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,N)=>{const M=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(M,1),"%"]})]},`${o.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},hae=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:a,closeExpandedSection:i,isSectionVisible:o,isFirstVisibleSection:s,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,p]=v.useState(""),[m,h]=v.useState(""),[y,x]=v.useState(null);v.useEffect(()=>{var P,I,z;if(c.length===0){p(""),h("");return}const G=String(((P=c[0])==null?void 0:P.id)||""),J=String(((I=c[1])==null?void 0:I.id)||((z=c[0])==null?void 0:z.id)||"");p(ce=>ce&&c.some($=>String($.id)===ce)?ce:G),h(ce=>ce&&c.some($=>String($.id)===ce)?ce:J)},[c]);const g=v.useMemo(()=>c.find(P=>String(P.id)===String(f))||null,[c,f]),b=v.useMemo(()=>c.find(P=>String(P.id)===String(m))||null,[c,m]),w=v.useMemo(()=>{if(!g||!b)return[];const P=new Map,I=(z,G,J,ce)=>{const $=String(z||"Unknown"),B=P.get($)||{label:$,aDamage:0,aShare:0,bDamage:0,bShare:0};G==="a"?(B.aDamage=Number(J||0),B.aShare=Number(ce||0)):(B.bDamage=Number(J||0),B.bShare=Number(ce||0)),P.set($,B)};return(g.targetFocus||[]).forEach(z=>I(z.label,"a",z.damage,z.share)),(b.targetFocus||[]).forEach(z=>I(z.label,"b",z.damage,z.share)),Array.from(P.values()).map(z=>({...z,shareDelta:z.bShare-z.aShare})).sort((z,G)=>Math.abs(G.shareDelta)-Math.abs(z.shareDelta)||G.bDamage+G.aDamage-(z.bDamage+z.aDamage))},[g,b]),S=v.useMemo(()=>{if(!y)return w;const P=y.direction==="asc"?1:-1,I=y.key;return[...w].sort((z,G)=>{const J=(Number(z[I])-Number(G[I]))*P;return J!==0?J:z.label.localeCompare(G.label)})},[w,y]),C=v.useMemo(()=>{if(!g||!b)return[];const P=new Map((g.squadMetrics||[]).map(z=>[z.metricId,z])),I=new Map((b.squadMetrics||[]).map(z=>[z.metricId,z]));return Array.from(new Set([...P.keys(),...I.keys()])).map(z=>{const G=P.get(z),J=I.get(z),ce=!!((G==null?void 0:G.higherIsBetter)??(J==null?void 0:J.higherIsBetter)??!0),$=Number((G==null?void 0:G.value)||0),B=Number((J==null?void 0:J.value)||0);return{metricId:z,metricLabel:String((G==null?void 0:G.metricLabel)||(J==null?void 0:J.metricLabel)||z),higherIsBetter:ce,a:G,b:J,delta:B-$}})},[g,b]),N=P=>`${t((Number(P)||0)*100,1)}%`,M=P=>P==="squadKdr"?2:0,T=P=>{x(I=>!I||I.key!==P?{key:P,direction:"desc"}:{key:P,direction:I.direction==="desc"?"asc":"desc"})},L=P=>(y==null?void 0:y.key)===P?y.direction==="desc"?" ":" ":"",A=P=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(y==null?void 0:y.key)===P?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":o("fight-diff-mode"),"data-section-first":s("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(g1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?i():a("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:P=>p(P.target.value),children:c.map(P=>u.jsxs("option",{value:P.id,children:[P.shortLabel," - ",P.fullLabel]},`fight-a-${P.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:P=>h(P.target.value),children:c.map(P=>u.jsxs("option",{value:P.id,children:[P.shortLabel," - ",P.fullLabel]},`fight-b-${P.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(xo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:A("aDamage"),onClick:()=>T("aDamage"),children:[g==null?void 0:g.shortLabel," Damage",L("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:A("aShare"),onClick:()=>T("aShare"),children:[g==null?void 0:g.shortLabel," Share",L("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:A("bDamage"),onClick:()=>T("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",L("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:A("bShare"),onClick:()=>T("bShare"),children:[b==null?void 0:b.shortLabel," Share",L("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:A("shareDelta"),onClick:()=>T("shareDelta"),children:["Share Delta",L("shareDelta")]})})]})})]})}):null,rows:w.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:S.map(P=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:P.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(P.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(P.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(P.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(P.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${P.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[P.shareDelta>=0?"+":"",N(P.shareDelta)]})]},`focus-${P.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(xo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[g==null?void 0:g.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(P=>{var I,z;const G=P.higherIsBetter?P.delta>=0:P.delta<=0,J=M(P.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:P.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((I=P.a)==null?void 0:I.value)||0),J)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((z=P.b)==null?void 0:z.value)||0),J)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${G?"text-emerald-300":"text-red-300"}`,children:[P.delta>0?"+":"",t(P.delta,J)]})]},`performer-${P.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},gae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),yae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||c.set(p,(c.get(p)||0)+m)})}),Array.from(c.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const y=Number(d);if(Number.isFinite(y)&&y>0)f=y>1e12?y:y*1e3;else{const x=Date.parse(d);Number.isFinite(x)&&x>0&&(f=x)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Tn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(jv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(jv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(jv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},BE={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},vae=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:c})=>{const d=BE[r]||BE.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},bae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},UE=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},xae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(tc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(mU,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(c0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Lh,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:UE(m.val,o)})]},h))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,y,x,g,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((y=m.data)==null?void 0:y.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((x=m.data)==null?void 0:x.profession)||"Unknown"})]})]}),(b=(g=m.data)==null?void 0:g.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:UE(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,y=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,x=m?"":"Total ",g=m?" /s":"",b=[{icon:bU,title:`Down Contribution${g}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Iu,title:`${x}Barrier${g}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:cO,title:`${x}Healing${g}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:MU,title:`${x}Dodges${g}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Mf,title:`${x}Strips${g}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:yU,title:`${x}Cleanses${g}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:vU,title:`${x}CC${g}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:pO,title:`${x}Stab Gen${g}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:pU,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var C,N,M,T;const L=a==="all",A=bae((y==null?void 0:y[S.statKey])||[],S.higherIsBetter),P=A[0],I=P?{...S.data,value:Number(P.value||0),player:P.account||((C=S.data)==null?void 0:C.player)||"-",count:P.count||((N=S.data)==null?void 0:N.count)||0,profession:P.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:P.professionList||((T=S.data)==null?void 0:T.professionList)||[]}:S.data;return u.jsx(vae,{...S,data:I,active:L,onClick:()=>i(z=>z==="all"?null:"all"),rows:A,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,wae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",c=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=v.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((y,x)=>{const g=Number((y==null?void 0:y[c])||0);return Number((x==null?void 0:x[c])||0)-g||Number((x==null?void 0:x.hits)||0)-Number((y==null?void 0:y.hits)||0)||String((y==null?void 0:y.name)||"").localeCompare(String((x==null?void 0:x.name)||""))}),[s,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...p.map(y=>Number((y==null?void 0:y[c])||0))),[p,c]),h=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(h1,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(y=>{const x=(t||e.topSkillsMetric)===y.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(y.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${x?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:y.label},y.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[p.map((y,x)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(jr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.35] py-[1px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(y[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(y[c]||0)/m*100}%`}})})]})]},`outgoing-${y.name||"unknown"}-${x}`)),p.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(cU,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((y,x)=>{var g;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(jr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.35] py-[1px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(y.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${y.damage/(((g=e.topIncomingSkills[0])==null?void 0:g.damage)||1)*100}%`}})})]})]},`incoming-${y.name||"unknown"}-${x}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},kae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Nr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(hc,{width:"100%",height:"100%",children:u.jsxs(Gx,{children:[u.jsx(Mg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>u.jsx(qu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(l0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(hc,{width:"100%",height:"100%",children:u.jsxs(Gx,{children:[u.jsx(Mg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>u.jsx(qu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},Sae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Nr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(hc,{width:"100%",height:"100%",children:u.jsxs(Og,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Wf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Kf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Yf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const c=(l=s==null?void 0:s[0])==null?void 0:l.payload;return c!=null&&c.label?`Log ${c.index}  ${c.label}`:`Log ${o}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(Jo,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(Jo,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Nae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(hc,{width:"100%",height:"100%",children:u.jsxs(Gx,{children:[u.jsx(Mg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>u.jsx(qu,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(I3,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",u.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),zE=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:y,spikeMode:x,setSpikeMode:g,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:M,setSelectedSpikeFightIndex:T,spikeDrilldownTitle:L,spikeDrilldownData:A,spikeDrilldownDownIndices:P,spikeDrilldownDeathIndices:I,spikeFightSkillRows:z=[],spikeFightSkillTitle:G="Skill Damage (Selected Fight)",formatWithCommas:J,renderProfessionIcon:ce})=>{const[$,B]=v.useState(null),[re,k]=v.useState(null),O=F=>String(F||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),E=o===e,j=S?nc(S.profession):"#fda4af",V=x==="hit"?"Highest Damage":x==="1s"?"1s Burst":x==="5s"?"5s Burst":"30s Burst",Q=F=>x==="hit"?F.peakHit:x==="1s"?F.peak1s:x==="5s"?F.peak5s:F.peak30s,W=y.flatMap(F=>F.players.map(ie=>({...ie,groupProfession:F.profession}))).sort((F,ie)=>{const be=Q(ie)-Q(F);return be!==0?be:F.displayName.localeCompare(ie.displayName)}),H=C.reduce((F,ie)=>!F||ie.damage>F.damage?ie:F,null),ee=F=>{if(!Number.isFinite(F)||F<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(F))}catch{return""}},_=A.reduce((F,ie)=>Math.max(F,Number(ie.value||0)),0),te=Math.max(1,_),ge=new Set(P),R=new Set(I),ae=A.map((F,ie)=>({...F,downMarker:ge.has(ie)?Math.max(Number(F.value||0),te*.88):null,deathMarker:R.has(ie)?Math.max(Number(F.value||0),te*.96):null})),K=F=>ie=>{const be=Number(ie==null?void 0:ie.cx),et=Number(ie==null?void 0:ie.cy),ue=Number(ie==null?void 0:ie.index);if(!Number.isFinite(be)||!Number.isFinite(et)||!Number.isFinite(ue))return null;const We=(ie==null?void 0:ie.payload)||{},$e=F==="down"?We==null?void 0:We.downMarker:We==null?void 0:We.deathMarker;if(!Number.isFinite(Number($e)))return null;const gt=`${F}-${ue}`,Gt=$===gt,Sn=F==="down"?"#facc15":"#ef4444",An=F==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{B(gt),k({x:be,y:et,kind:F,label:String((We==null?void 0:We.label)||"")})},onMouseLeave:()=>{B(he=>he===gt?null:he),k(he=>(he==null?void 0:he.kind)===F&&(he==null?void 0:he.label)===String((We==null?void 0:We.label)||"")?null:he)},children:[u.jsx("circle",{cx:be,cy:et,r:Gt?10:7,fill:An,opacity:Gt?.35:.18}),u.jsx("circle",{cx:be,cy:et,r:Gt?7:5.5,fill:Sn,stroke:"#0f172a",strokeWidth:Gt?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${E?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:E?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Mf,{className:`w-5 h-5 ${i}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${E?"pr-10 md:pr-0":""}`,children:[u.jsx(Tn,{value:x,onChange:F=>g(F),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>E?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${E?"absolute top-2 right-2 md:static":""}`,"aria-label":E?`Close ${t}`:`Expand ${t}`,title:E?"Close":"Expand",children:E?u.jsx(Ua,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:F=>h(F.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:W.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:W.map(F=>{const ie=b===F.key;return u.jsx("button",{type:"button",onClick:()=>w(F.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ie?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ce(F.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:F.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:F.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[F.characterName||F.displayName,"  ",F.logs," ",F.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:J(Q(F)||0,0)})]})},F.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",V]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(hc,{width:"100%",height:"100%",children:u.jsxs(Og,{data:C,onClick:F=>{const ie=Number(F==null?void 0:F.activeTooltipIndex);Number.isFinite(ie)&&T(M===ie?null:ie)},children:[u.jsx(Wf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Kf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Yf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:F=>J(F,0)}),u.jsx(bc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(F,ie)=>[J(Number(F||0),0),String(ie||"")],labelFormatter:(F,ie)=>{var be;const et=(be=ie==null?void 0:ie[0])==null?void 0:be.payload;if(!et)return"";const ue=O(et.fullLabel||"");return x==="hit"&&et.skillName?`${ue}  ${et.skillName}`:ue}}),u.jsx(Jo,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:j,strokeWidth:3,dot:F=>{var ie;const be=Number((ie=F==null?void 0:F.payload)==null?void 0:ie.index);if(!Number.isFinite(be))return null;const et=M===be;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:ue=>{ue.stopPropagation(),T(et?null:be)},children:[u.jsx("circle",{cx:F.cx,cy:F.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:F.cx,cy:F.cy,r:et?4:3,fill:j,stroke:et?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:et?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(Jo,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[ce(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Highest Skill Damage":`Peak ${V}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:J(Q(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const F=O((H==null?void 0:H.fullLabel)||S.peakFightLabel||"N/A"),ie=ee(Number((H==null?void 0:H.timestamp)||0)),be=ie?`${ie} - ${F}`:F;return x!=="hit"?be:S.peakSkillName?`${S.peakSkillName}  ${be}`:be})()})]})]}),S&&M!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:L}),u.jsx("button",{type:"button",onClick:()=>T(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:A.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(hc,{width:"100%",height:"100%",children:u.jsxs(Og,{data:ae,children:[u.jsx(Wf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Kf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Yf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:F=>J(F,0)}),u.jsx(bc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(F,ie)=>{const be=String(ie||"");return be==="Down"?["Downed","Event"]:be==="Death"?["Dead","Event"]:[J(Number(F||0),0),"Damage"]},labelFormatter:F=>String(F||"")}),u.jsx(Jo,{type:"monotone",dataKey:"value",name:"Damage",stroke:j,strokeWidth:2.5,dot:x==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(Jo,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:K("down")}),u.jsx(Jo,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:K("death")})]})}),re&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,re.x)}px`,top:`${Math.max(8,re.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${re.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:re.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:re.label})]})]})})]}),S&&M!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${z.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:G}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[z.length," ",z.length===1?"skill":"skills"]})]}),z.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:z.map((F,ie)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:F.skillName,children:F.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:J(Number(F.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:J(Number(F.hits||0),0)})]},`${F.skillName}-${ie}`))})]})]})]})},jae=10,Pm=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},VE=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Cae=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Mae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(""),[s,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=i.trim().toLowerCase(),p=v.useMemo(()=>{const x=e.filter(b=>{if(!f)return!0;const w=String(b.account||"").toLowerCase(),S=(b.characterNames||[]).join(" ").toLowerCase(),C=(b.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||S.includes(f)||C.includes(f)}),g=b=>Number(s==="fight"?b.combatTimeMs??b.squadTimeMs??0:b.squadTimeMs??0);return[...x].sort((b,w)=>{const S=g(w)-g(b);return S!==0?c==="desc"?S:-S:String(b.account||"").localeCompare(String(w.account||""))})},[e,f,c,s]),m=x=>{if(s===x){d(g=>g==="desc"?"asc":"desc");return}l(x),d("desc")},h=p.length>jae,y=()=>{const x=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],g=p.map(M=>{const T=(M.classTimes||[]).map(L=>`${L.profession} (${Pm(L.timeMs)})`).join("; ");return[M.account||"",(M.characterNames||[]).join(", "),T,VE(Number(M.combatTimeMs??M.squadTimeMs??0)),VE(M.squadTimeMs)]}),b=[x,...g].map(M=>M.map(T=>Cae(String(T??""))).join(",")).join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),C=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=S,C.download=`attendance-ledger-${N}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S)};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Cf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u.jsx("input",{value:i,onChange:x=>o(x.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),u.jsxs("button",{type:"button",onClick:y,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[u.jsx(hU,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[p.map(x=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:x.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:x.characterNames.length>0?x.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.classTimes.length>0?x.classTimes.map(g=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(g.profession)?u.jsx("img",{src:t(g.profession),alt:g.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:g.profession}),u.jsx("span",{className:"text-gray-400",children:Pm(g.timeMs)})]},`${x.account}-${g.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Pm(Number(x.combatTimeMs??x.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Pm(x.squadTimeMs)})]},x.account)),p.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Eae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Aae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null),[s,l]=v.useState(""),c=s.trim().toLowerCase(),d=ip("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=v.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!c)return!1;const h=String(m.account||"").toLowerCase(),y=String(m.characterName||"").toLowerCase(),x=String(m.profession||"").toLowerCase();return h.includes(c)||y.includes(c)||x.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Nr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return u.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Eae(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,y)=>(()=>{const x=p(h);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${x?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?u.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:u.jsx("span",{className:"truncate min-w-0",children:h.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${y}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Pae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Tae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null);v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(c=>c.id===i))&&o(e[0].id)},[e,i]);const s=v.useMemo(()=>e.find(c=>c.id===i)||null,[e,i]),l=v.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[s]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Zs,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===i;return u.jsxs("button",{onClick:()=>o(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Pae(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession)||f.characterName.localeCompare(p.characterName)||f.account.localeCompare(p.account)):Object.entries(c.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,p)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||p}-${p}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${s.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Oae=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const p=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(uO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(tc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[a&&u.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(c0,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:s,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(CU,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(SU,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Dae=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=v.useState("idle"),c=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(wU,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(dO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(mO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Iae=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Po="space-y-1 pr-1 max-h-72 overflow-y-auto",_ae=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Lae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Fae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,aggregationResult:h}){var y,x;const g=n||bO,b=r||Yb,w=i||HU,S=b.showTopStats,C=b.showMvp,N=b.roundCountStats,M=b.topStatsMode||"total",[T,L]=v.useState(b.topSkillsMetric||"damage"),A=(a?b.topSkillsMetric:T)||"damage",P=w.uploading,I=w.message,z=w.url,G=w.buildStatus,J=!c&&!1,ce=!!h,{result:$}=G8({logs:ce?[]:e,precomputedStats:ce?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),B=h||$,{stats:re,skillUsageData:k}=B,O=v.useMemo(()=>{var X,le,ye,Qe,Me,rt;const oe=re&&typeof re=="object"?re:{},Ge=Se=>Array.isArray(Se)?Se:[],dn=Se=>Se&&typeof Se=="object"?Se:{},ze=(Se,Nt)=>Se&&typeof Se=="object"?Se:Nt,Ot={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Rt={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},fn={...oe,total:Number(oe.total||0),timelineData:Ge(oe.timelineData),mapData:Ge(oe.mapData),fightBreakdown:Ge(oe.fightBreakdown),topSkills:Ge(oe.topSkills),topIncomingSkills:Ge(oe.topIncomingSkills),leaderboards:dn(oe.leaderboards),topStatsPerSecond:dn(oe.topStatsPerSecond),topStatsLeaderboardsPerSecond:dn(oe.topStatsLeaderboardsPerSecond),maxDownContrib:ze(oe.maxDownContrib,Ot),maxBarrier:ze(oe.maxBarrier,Ot),maxHealing:ze(oe.maxHealing,Ot),maxDodges:ze(oe.maxDodges,Ot),maxStrips:ze(oe.maxStrips,Ot),maxCleanses:ze(oe.maxCleanses,Ot),maxCC:ze(oe.maxCC,Ot),maxStab:ze(oe.maxStab,Ot),closestToTag:ze(oe.closestToTag,Ot),mvp:{...Rt,...dn(oe.mvp),topStats:Ge((X=oe==null?void 0:oe.mvp)==null?void 0:X.topStats)},silver:ze(oe.silver,Rt),bronze:ze(oe.bronze,Rt),avgMvpScore:Number(oe.avgMvpScore||0),offensePlayers:Ge(oe.offensePlayers),defensePlayers:Ge(oe.defensePlayers),damageMitigationPlayers:Ge(oe.damageMitigationPlayers),damageMitigationMinions:Ge(oe.damageMitigationMinions),supportPlayers:Ge(oe.supportPlayers),healingPlayers:Ge(oe.healingPlayers),boonTables:Ge(oe.boonTables),specialTables:Ge(oe.specialTables),outgoingConditionSummary:Ge(oe.outgoingConditionSummary),outgoingConditionPlayers:Ge(oe.outgoingConditionPlayers),incomingConditionSummary:Ge(oe.incomingConditionSummary),incomingConditionPlayers:Ge(oe.incomingConditionPlayers),squadClassData:Ge(oe.squadClassData),enemyClassData:Ge(oe.enemyClassData),attendanceData:Ge(oe.attendanceData),squadCompByFight:Ge(oe.squadCompByFight),fightDiffMode:Ge(oe.fightDiffMode),playerSkillBreakdowns:Ge(oe.playerSkillBreakdowns)},mt=Ge((le=fn.leaderboards)==null?void 0:le.downContrib).map(Se=>({...Se,value:Number((Se==null?void 0:Se.value)??0)})).filter(Se=>Number.isFinite(Se.value)).sort((Se,Nt)=>Nt.value-Se.value||String((Se==null?void 0:Se.account)||"").localeCompare(String((Nt==null?void 0:Nt.account)||"")))[0];return mt&&(fn.maxDownContrib={...fn.maxDownContrib||{},value:Number(mt.value||0),player:String(mt.account||((ye=fn.maxDownContrib)==null?void 0:ye.player)||"-"),count:Number(mt.count||((Qe=fn.maxDownContrib)==null?void 0:Qe.count)||0),profession:String(mt.profession||((Me=fn.maxDownContrib)==null?void 0:Me.profession)||"Unknown"),professionList:Array.isArray(mt.professionList)?mt.professionList:((rt=fn.maxDownContrib)==null?void 0:rt.professionList)||[]}),fn},[re]);v.useEffect(()=>{var X;if(!((X=window==null?void 0:window.electronAPI)!=null&&X.fetchImageAsDataUrl))return;const le=new Set,ye=Qe=>{if(Qe){if(typeof Qe=="string"){/^https?:\/\//i.test(Qe)&&le.add(Qe);return}if(Array.isArray(Qe)){Qe.forEach(ye);return}typeof Qe=="object"&&Object.entries(Qe).forEach(([Me,rt])=>{if((Me==="icon"||Me==="iconUrl")&&typeof rt=="string"){/^https?:\/\//i.test(rt)&&le.add(rt);return}ye(rt)})}};ye(O),le.size>0&&Yre(Array.from(le))},[O]);const E=v.useMemo(()=>{const X=(l==null?void 0:l.skillUsageData)??k;return{logRecords:Array.isArray(X==null?void 0:X.logRecords)?X.logRecords:[],players:Array.isArray(X==null?void 0:X.players)?X.players:[],skillOptions:Array.isArray(X==null?void 0:X.skillOptions)?X.skillOptions:[],resUtilitySkills:Array.isArray(X==null?void 0:X.resUtilitySkills)?X.resUtilitySkills:[]}},[k,l==null?void 0:l.skillUsageData]),j=E.players.length>0;v.useEffect(()=>{a||L(b.topSkillsMetric||"damage")},[b.topSkillsMetric,a]);const V=X=>{if(a){a({...b,topSkillsMetric:X});return}L(X)},{scrollContainerRef:Q}=AU(c),{devMockUploadState:W,webCopyStatus:H,setWebCopyStatus:ee,handleWebUpload:_,handleDevMockUpload:te}=e8({logs:e,stats:O,skillUsageData:E,activeStatsViewSettings:r||Yb,uiTheme:p||"classic",embedded:c,onWebUpload:o}),{sharing:ge,handleShare:R}=Y8(c),ae={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},K=X=>{const le=ae[X];return le?g[le]>0:!0},[F,ie]=v.useState(null),[be,et]=v.useState(null),[ue,We]=v.useState("totalBuffs"),[$e,gt]=v.useState("total"),[Gt,Sn]=v.useState(""),[An,he]=v.useState(null),[Fe,Tt]=v.useState(""),[_t,pn]=v.useState(null),[Cn,Hn]=v.useState(""),[ja,Ei]=v.useState(""),[pa,Zt]=v.useState(""),[cn,Cr]=v.useState(""),[yn,Ca]=v.useState(""),[Pr,Pc]=v.useState(""),[za,si]=v.useState(""),[Ai,Tc]=v.useState("outgoing"),[Cl,Oc]=v.useState(""),[Dc,Ic]=v.useState("damage"),[_c,Y]=v.useState("damageTaken"),[de,Oe]=v.useState("totalMitigation"),[Ke,Lt]=v.useState("all"),[kt,pt]=v.useState({key:"damage",dir:"desc"}),Jt=!(Ke!=="all"&&_ae.has(Ke)),vn=Jt?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",cr=Jt?kt:{key:"applications",dir:kt.key==="applications"?kt.dir:"desc"},[ur,_e]=v.useState("condiCleanse"),[tt,on]=v.useState("healing"),[en,$n]=v.useState("total"),[Ma,Tr]=v.useState("all"),[Ho,cd]=v.useState("total"),[Sy,Ny]=v.useState("total"),[D,q]=v.useState("total"),[ne,we]=v.useState("total"),[Z,De]=v.useState("all"),[Le,st]=v.useState("squad"),[yt,ht]=v.useState("player"),[Bt,hn]=v.useState(""),[un,Je]=v.useState(""),[He,ot]=v.useState(null),[Et,Wt]=v.useState([]),[pe,Ne]=v.useState(null),[ke,Be]=v.useState(null),[me,Ie]=v.useState("hit"),[Ee,vt]=v.useState(null),[nt,at]=v.useState(null),[qt,xn]=v.useState("hit"),[In,nr]=v.useState([]),[bt,U]=v.useState(null),[se,je]=v.useState(!1),Ce=v.useRef(null),[ve,Re]=v.useState("sizes"),[Ze,Ye]=v.useState("total"),Ut=Ze==="perSecond",[Kt,Vt]=v.useState(null),[lt,Xt]=v.useState("total"),[ct,an]=v.useState(null),[Ft,Ct]=v.useState(null),[Pe,xe]=v.useState(null),[xt,Mt]=v.useState(""),[Ht,wn]=v.useState(null),[Ur,aa]=v.useState(null),[Xr,Pi]=v.useState(null),[Lc,Ps]=v.useState(""),[jo,Vp]=v.useState("player"),[Co,Ts]=v.useState(null),[ud,Os]=v.useState(null),[li,ci]=v.useState(null),{apmSpecBuckets:ui}=X8(E),Te=O.playerSkillBreakdowns||[],Xe=v.useMemo(()=>{const X=new Map;return Te.forEach(le=>X.set(le.key,le)),X},[Te]),ut=v.useMemo(()=>{const X=new Map;return Te.forEach(le=>{const ye=le.profession||"Unknown";X.has(ye)||X.set(ye,{profession:ye,players:[],skills:new Map});const Qe=X.get(ye);Qe.players.push(le),le.skills.forEach(Me=>{var rt;const oe=Qe.skills.get(Me.id)||{...Me,damage:0,downContribution:0};oe.damage+=Number(Me.damage||0),oe.downContribution+=Number(Me.downContribution||0),!oe.icon&&Me.icon&&(oe.icon=Me.icon),(rt=oe.name)!=null&&rt.startsWith("Skill ")&&!Me.name.startsWith("Skill ")&&(oe.name=Me.name),Qe.skills.set(Me.id,oe)})}),Array.from(X.values()).map(le=>{const ye=Array.from(le.skills.values()).sort((Me,rt)=>rt.damage-Me.damage),Qe=ye.reduce((Me,rt)=>(Me[rt.id]=rt,Me),{});return{profession:le.profession,players:le.players,skills:ye,skillMap:Qe}}).sort((le,ye)=>le.profession.localeCompare(ye.profession))},[Te]),At=Ht&&Xe.get(Ht)||null,Nn=At&&Xr&&((y=At.skillMap)==null?void 0:y[Xr])||null,Kn=v.useMemo(()=>{const X=new Map;return ut.forEach(le=>X.set(le.profession,le)),X},[ut]),Mn=Co&&Kn.get(Co)||null,vr=Mn&&li&&((x=Mn.skillMap)==null?void 0:x[li])||null,tn=v.useMemo(()=>{const X=Se=>String(Se||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),le=Se=>X(Se).toLowerCase().split(/[^a-z0-9]+/i).map(Nt=>Nt.trim()).filter(Boolean).map(Nt=>Nt.length>3&&Nt.endsWith("s")?Nt.slice(0,-1):Nt),ye=(Se,Nt)=>{const qe=X(Se),Bn=X(Nt);if(!Bn)return qe;if(!qe)return Bn;const Or=le(qe),Un=le(Bn),br=new Set(Or),En=new Set(Un),Ha=Un.length>0&&Un.every($t=>br.has($t)),Dt=Or.length>0&&Or.every($t=>En.has($t));return Ha||Dt?qe:`${qe} - ${Bn}`},Qe=Se=>{if(Se==null||Se==="")return 0;if(typeof Se=="number")return!Number.isFinite(Se)||Se<=0?0:Se>1e12?Se:Se*1e3;if(Se instanceof Date){const br=Se.getTime();return Number.isFinite(br)&&br>0?br:0}const Nt=String(Se).trim();if(!Nt)return 0;const qe=Number(Nt);if(Number.isFinite(qe)&&qe>0)return qe>1e12?qe:qe*1e3;const Bn=Date.parse(Nt);if(Number.isFinite(Bn)&&Bn>0)return Bn;const Or=Nt.replace(/([+-]\d{2})$/,"$1:00"),Un=Date.parse(Or);return Number.isFinite(Un)&&Un>0?Un:0},Me=(Se,Nt)=>Qe((Se==null?void 0:Se.uploadTime)??(Nt==null?void 0:Nt.uploadTime)??(Se==null?void 0:Se.timeStartStd)??(Se==null?void 0:Se.timeStart)??(Se==null?void 0:Se.timeEndStd)??(Se==null?void 0:Se.timeEnd)),rt=O==null?void 0:O.spikeDamage,oe=Array.isArray(rt==null?void 0:rt.fights)?rt.fights:[],Ge=Array.isArray(rt==null?void 0:rt.players)?rt.players:[],dn=oe.some(Se=>(Se!=null&&Se.values&&typeof Se.values=="object"?Object.values(Se.values):[]).some(Nt=>Nt&&typeof Nt=="object"&&(Number(Nt.burst1s||0)>0||Number(Nt.burst5s||0)>0||Number(Nt.burst30s||0)>0)))||Ge.some(Se=>Number((Se==null?void 0:Se.peak1s)||0)>0||Number((Se==null?void 0:Se.peak5s)||0)>0||Number((Se==null?void 0:Se.peak30s)||0)>0);if((oe.length>0||Ge.length>0)&&(dn||e.length===0)){const Se=oe.map((qe,Bn)=>{const Or=qe!=null&&qe.values&&typeof qe.values=="object"?qe.values:{},Un={};return Object.entries(Or).forEach(([br,En])=>{if(En&&typeof En=="object"){const Ha=Number(En.damage||0);Un[br]={hit:Number(En.hit??Ha),burst1s:Number(En.burst1s||0),burst5s:Number(En.burst5s||0),burst30s:Number(En.burst30s||0),skillName:String(En.skillName||""),buckets5s:Array.isArray(En.buckets5s)?En.buckets5s.map(Dt=>Number(Dt||0)):void 0,downIndices5s:Array.isArray(En.downIndices5s)?En.downIndices5s.map(Dt=>Number(Dt)).filter(Dt=>Number.isFinite(Dt)&&Dt>=0):void 0,deathIndices5s:Array.isArray(En.deathIndices5s)?En.deathIndices5s.map(Dt=>Number(Dt)).filter(Dt=>Number.isFinite(Dt)&&Dt>=0):void 0,skillRows:Array.isArray(En.skillRows)?En.skillRows.map(Dt=>({skillName:String((Dt==null?void 0:Dt.skillName)||(Dt==null?void 0:Dt.name)||"Unknown Skill"),damage:Number((Dt==null?void 0:Dt.damage)||0),hits:Number((Dt==null?void 0:Dt.hits)||0),icon:typeof(Dt==null?void 0:Dt.icon)=="string"?Dt.icon:void 0})).filter(Dt=>Number.isFinite(Dt.damage)&&Dt.damage>0):void 0};return}Un[br]={hit:Number(En||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((qe==null?void 0:qe.id)||`fight-${Bn+1}`),shortLabel:String((qe==null?void 0:qe.shortLabel)||`F${Bn+1}`),fullLabel:X((qe==null?void 0:qe.fullLabel)||`Fight ${Bn+1}`),timestamp:Number((qe==null?void 0:qe.timestamp)||0),values:Un,maxHit:Number((qe==null?void 0:qe.maxHit)??(qe==null?void 0:qe.maxDamage)??0),max1s:Number((qe==null?void 0:qe.max1s)||0),max5s:Number((qe==null?void 0:qe.max5s)||0),max30s:Number((qe==null?void 0:qe.max30s)||0)}}),Nt=Ge.map(qe=>({key:String((qe==null?void 0:qe.key)||""),account:String((qe==null?void 0:qe.account)||"Unknown"),displayName:String((qe==null?void 0:qe.displayName)||(qe==null?void 0:qe.account)||"Unknown"),characterName:String((qe==null?void 0:qe.characterName)||(qe==null?void 0:qe.name)||(qe==null?void 0:qe.character_name)||(qe==null?void 0:qe.display_name)||""),profession:String((qe==null?void 0:qe.profession)||"Unknown"),professionList:Array.isArray(qe==null?void 0:qe.professionList)?qe.professionList.map(Bn=>String(Bn)):[],logs:Number((qe==null?void 0:qe.logs)||0),peakHit:Number((qe==null?void 0:qe.peakHit)||0),peak1s:Number((qe==null?void 0:qe.peak1s)||0),peak5s:Number((qe==null?void 0:qe.peak5s)||0),peak30s:Number((qe==null?void 0:qe.peak30s)||0),peakFightLabel:X((qe==null?void 0:qe.peakFightLabel)||""),peakSkillName:String((qe==null?void 0:qe.peakSkillName)||"")}));return{fights:Se,players:Nt}}const ze=(Se,Nt)=>{const qe=(Nt==null?void 0:Nt.skillMap)||{},Bn=(Nt==null?void 0:Nt.buffMap)||{};let Or=0,Un="";const br=Dt=>{const $t=Number(Dt);if(!Number.isFinite($t))return String(Dt||"Unknown Skill");const jt=(qe==null?void 0:qe[`s${$t}`])||(qe==null?void 0:qe[`${$t}`]);if(jt!=null&&jt.name)return String(jt.name);const nn=(Bn==null?void 0:Bn[`b${$t}`])||(Bn==null?void 0:Bn[`${$t}`]);return nn!=null&&nn.name?String(nn.name):`Skill ${$t}`},En=Dt=>{if(!Dt||typeof Dt!="object")return;const $t=[Number(Dt.max),Number(Dt.maxDamage),Number(Dt.maxHit)].filter(nn=>Number.isFinite(nn)),jt=$t.length>0?Math.max(...$t):0;jt>Or&&(Or=jt,Un=br(Dt.id))};let Ha=!1;return Array.isArray(Se==null?void 0:Se.targetDamageDist)&&Se.targetDamageDist.forEach(Dt=>{Array.isArray(Dt)&&Dt.forEach($t=>{Array.isArray($t)&&$t.forEach(jt=>{Ha=!0,En(jt)})})}),(!Ha||Or<=0)&&Array.isArray(Se==null?void 0:Se.totalDamageDist)&&Se.totalDamageDist.forEach(Dt=>{Array.isArray(Dt)&&Dt.forEach($t=>En($t))}),{peak:Or,skillName:Un||"Unknown Skill"}},Ot=(Se,Nt)=>{const qe=$t=>{if(!Array.isArray($t)||$t.length===0)return[];const jt=[];for(let nn=0;nn<$t.length;nn+=1){const xr=Number($t[nn]||0),rr=nn>0?Number($t[nn-1]||0):0;jt.push(Math.max(0,xr-rr))}return jt},Bn=($t,jt)=>{if(!Array.isArray($t)||$t.length===0||jt<=0)return 0;let nn=0,xr=0;for(let rr=0;rr<$t.length;rr+=1)nn+=Number($t[rr]||0),rr>=jt&&(nn-=Number($t[rr-jt]||0)),rr>=jt-1&&nn>xr&&(xr=nn);return Math.max(0,xr)},Or=$t=>{if(!Array.isArray($t))return[];const jt=$t.reduce((xr,rr)=>Math.max(xr,Array.isArray(rr)?rr.length:0),0);if(jt<=0)return[];const nn=new Array(jt).fill(0);return $t.forEach(xr=>{if(Array.isArray(xr))for(let rr=0;rr<jt;rr+=1)nn[rr]+=Number(xr[rr]||0)}),nn},Un=$t=>Array.isArray($t)?$t.map(jt=>Number(jt||0)):null,br=($t=>{if(!Array.isArray($t)||$t.length===0)return null;const jt=$t[0];if(!Array.isArray(jt))return null;if(Array.isArray(jt[0])&&Array.isArray(jt[0][0]))return Or(jt);if(Array.isArray(jt[0])&&!Array.isArray(jt[0][0])){const nn=$t.map(xr=>Un(Array.isArray(xr)?xr[0]:null)).filter(xr=>Array.isArray(xr)&&xr.length>0);if(nn.length>0)return Or(nn)}return null})(Se==null?void 0:Se.targetDamage1S),En=Array.isArray(Se==null?void 0:Se.damage1S)&&Array.isArray(Se.damage1S[0])?Se.damage1S[0]:null,Ha=br||(Array.isArray(En)?En.map($t=>Number($t||0)):[]),Dt=qe(Ha);return Bn(Dt,Nt)},Rt=[],fn=new Map;e.forEach(Se=>{const Nt=Se==null?void 0:Se.details;if(!Nt)return;const qe=Rt.length+1,Bn=X(Nt.fightName||Se.fightName||`Fight ${qe}`),Or=Nt.zone||Nt.mapName||Nt.map||Nt.location||"",Un=ye(Bn,String(Or||"")),br={};(Array.isArray(Nt.players)?Nt.players:[]).forEach(jt=>{if(jt!=null&&jt.notInSquad)return;const nn=String((jt==null?void 0:jt.account)||(jt==null?void 0:jt.name)||"Unknown"),xr=String((jt==null?void 0:jt.character_name)||(jt==null?void 0:jt.display_name)||(jt==null?void 0:jt.name)||""),rr=String((jt==null?void 0:jt.profession)||"Unknown"),Pl=`${nn}|${rr}`,_s=ze(jt,Nt),Ls=Number(_s.peak||0),Tl=Number(Ot(jt,1)||0),Bc=Number(Ot(jt,5)||0),Uc=Number(Ot(jt,30)||0);br[Pl]={hit:Ls,burst1s:Tl,burst5s:Bc,burst30s:Uc,skillName:_s.skillName};const Dr=fn.get(Pl)||{key:Pl,account:nn,displayName:nn,characterName:xr,profession:rr,professionList:[rr],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Dr.logs+=1,Dr.professionList.includes(rr)||Dr.professionList.push(rr),!Dr.characterName&&xr&&(Dr.characterName=xr),Ls>Dr.peakHit&&(Dr.peakHit=Ls,Dr.peakFightLabel=Un,Dr.peakSkillName=_s.skillName),Tl>Dr.peak1s&&(Dr.peak1s=Tl),Bc>Dr.peak5s&&(Dr.peak5s=Bc),Uc>Dr.peak30s&&(Dr.peak30s=Uc),fn.set(Pl,Dr)});const En=Object.values(br).reduce((jt,nn)=>Math.max(jt,Number((nn==null?void 0:nn.hit)||0)),0),Ha=Object.values(br).reduce((jt,nn)=>Math.max(jt,Number((nn==null?void 0:nn.burst1s)||0)),0),Dt=Object.values(br).reduce((jt,nn)=>Math.max(jt,Number((nn==null?void 0:nn.burst5s)||0)),0),$t=Object.values(br).reduce((jt,nn)=>Math.max(jt,Number((nn==null?void 0:nn.burst30s)||0)),0);Rt.push({id:Se.filePath||Se.id||`fight-${qe}`,shortLabel:`F${qe}`,fullLabel:Un,timestamp:Me(Nt,Se),values:br,maxHit:En,max1s:Ha,max5s:Dt,max30s:$t})});const mt=Array.from(fn.values()).sort((Se,Nt)=>Nt.peakHit!==Se.peakHit?Nt.peakHit-Se.peakHit:Se.displayName.localeCompare(Nt.displayName));return{fights:Rt,players:mt}},[e,O]),_n=v.useMemo(()=>{const X=oe=>String(oe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),le=O==null?void 0:O.incomingStrikeDamage,ye=Array.isArray(le==null?void 0:le.fights)?le.fights:[],Qe=Array.isArray(le==null?void 0:le.players)?le.players:[];if(ye.length===0&&Qe.length===0)return{fights:[],players:[]};const Me=ye.map((oe,Ge)=>{const dn=oe!=null&&oe.values&&typeof oe.values=="object"?oe.values:{},ze={};return Object.entries(dn).forEach(([Ot,Rt])=>{if(Rt&&typeof Rt=="object"){const fn=Number(Rt.damage||0);ze[Ot]={hit:Number(Rt.hit??fn),burst1s:Number(Rt.burst1s||0),burst5s:Number(Rt.burst5s||0),burst30s:Number(Rt.burst30s||0),skillName:String(Rt.skillName||""),buckets5s:Array.isArray(Rt.buckets5s)?Rt.buckets5s.map(mt=>Number(mt||0)):void 0,downIndices5s:Array.isArray(Rt.downIndices5s)?Rt.downIndices5s.map(mt=>Number(mt)).filter(mt=>Number.isFinite(mt)&&mt>=0):void 0,deathIndices5s:Array.isArray(Rt.deathIndices5s)?Rt.deathIndices5s.map(mt=>Number(mt)).filter(mt=>Number.isFinite(mt)&&mt>=0):void 0,skillRows:Array.isArray(Rt.skillRows)?Rt.skillRows.map(mt=>({skillName:String((mt==null?void 0:mt.skillName)||(mt==null?void 0:mt.name)||"Unknown Skill"),damage:Number((mt==null?void 0:mt.damage)||0),hits:Number((mt==null?void 0:mt.hits)||0),icon:typeof(mt==null?void 0:mt.icon)=="string"?mt.icon:void 0})).filter(mt=>Number.isFinite(mt.damage)&&mt.damage>0):void 0};return}ze[Ot]={hit:Number(Rt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((oe==null?void 0:oe.id)||`fight-${Ge+1}`),shortLabel:String((oe==null?void 0:oe.shortLabel)||`F${Ge+1}`),fullLabel:X((oe==null?void 0:oe.fullLabel)||`Fight ${Ge+1}`),timestamp:Number((oe==null?void 0:oe.timestamp)||0),values:ze,maxHit:Number((oe==null?void 0:oe.maxHit)??(oe==null?void 0:oe.maxDamage)??0),max1s:Number((oe==null?void 0:oe.max1s)||0),max5s:Number((oe==null?void 0:oe.max5s)||0),max30s:Number((oe==null?void 0:oe.max30s)||0)}}),rt=Qe.map(oe=>({key:String((oe==null?void 0:oe.key)||""),account:String((oe==null?void 0:oe.account)||"Unknown"),displayName:String((oe==null?void 0:oe.displayName)||(oe==null?void 0:oe.account)||"Unknown"),characterName:String((oe==null?void 0:oe.characterName)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.character_name)||(oe==null?void 0:oe.display_name)||""),profession:String((oe==null?void 0:oe.profession)||"Unknown"),professionList:Array.isArray(oe==null?void 0:oe.professionList)?oe.professionList.map(Ge=>String(Ge)):[],logs:Number((oe==null?void 0:oe.logs)||0),peakHit:Number((oe==null?void 0:oe.peakHit)||0),peak1s:Number((oe==null?void 0:oe.peak1s)||0),peak5s:Number((oe==null?void 0:oe.peak5s)||0),peak30s:Number((oe==null?void 0:oe.peak30s)||0),peakFightLabel:X((oe==null?void 0:oe.peakFightLabel)||""),peakSkillName:String((oe==null?void 0:oe.peakSkillName)||"")}));return{fights:Me,players:rt}},[O]),Ti=v.useMemo(()=>{const X=new Map;return tn.players.forEach(le=>X.set(le.key,le)),X},[tn.players]),Ds=v.useMemo(()=>{const X=Me=>me==="hit"?Me.peakHit:me==="1s"?Me.peak1s:me==="5s"?Me.peak5s:Me.peak30s,le=Pr.trim().toLowerCase(),ye=le?tn.players.filter(Me=>Me.displayName.toLowerCase().includes(le)||Me.account.toLowerCase().includes(le)||Me.profession.toLowerCase().includes(le)):tn.players,Qe=new Map;return ye.forEach(Me=>{const rt=Me.profession||"Unknown",oe=Qe.get(rt)||[];oe.push(Me),Qe.set(rt,oe)}),Array.from(Qe.entries()).map(([Me,rt])=>({profession:Me,players:[...rt].sort((oe,Ge)=>X(Ge)-X(oe)||oe.displayName.localeCompare(Ge.displayName))})).sort((Me,rt)=>Me.profession.localeCompare(rt.profession))},[tn.players,Pr,me]),Fc=pe&&Ti.get(pe)||null,di=v.useMemo(()=>{if(!pe)return[];const X=ye=>ye?Number(me==="hit"?ye.hit||0:me==="1s"?ye.burst1s||0:me==="5s"?ye.burst5s||0:ye.burst30s||0):0,le=ye=>Number(me==="hit"?ye.maxHit||0:me==="1s"?ye.max1s||0:me==="5s"?ye.max5s||0:ye.max30s||0);return tn.fights.map((ye,Qe)=>{var Me;return{index:Qe,fightId:ye.id,shortLabel:ye.shortLabel,fullLabel:ye.fullLabel,timestamp:Number(ye.timestamp||0),damage:X(ye.values[pe]),maxDamage:le(ye),skillName:String(((Me=ye.values[pe])==null?void 0:Me.skillName)||"")}})},[tn.fights,pe,me]),dd=v.useMemo(()=>{const X=di.reduce((ye,Qe)=>Math.max(ye,Number(Qe.damage||0)),0),le=di.reduce((ye,Qe)=>Math.max(ye,Number(Qe.maxDamage||0)),0);return Math.max(1,X,le)},[di]),Ml=v.useMemo(()=>{var X,le,ye,Qe,Me,rt,oe,Ge,dn;const ze=ke===null?null:di.find(Ae=>Ae.index===ke)||null;if(!ze||!pe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Ot=tn.fights.find((Ae,it)=>String(Ae.id||"")===String(ze.fightId||"")||it===ze.index)||null,[Rt,fn]=pe.split("|"),mt=e.find(Ae=>String((Ae==null?void 0:Ae.filePath)||(Ae==null?void 0:Ae.id)||"")===String(ze.fightId||"")),Se=mt==null?void 0:mt.details,Nt=Ae=>Array.isArray(Ae)?Ae.map(it=>Array.isArray(it)?[Number(it[0]),Number(it[1])]:it&&typeof it=="object"?[Number(it.time),Number(it.value)]:null).filter(it=>!!it&&Number.isFinite(it[0])&&it[0]>=0):[],qe=Ae=>String(Ae||"").trim().toLowerCase(),Bn=qe(Rt),Or=qe(fn),Un=Ti.get(pe),br=new Set([qe(Un==null?void 0:Un.displayName),qe(Un==null?void 0:Un.characterName),qe(Un==null?void 0:Un.account)].filter(Boolean)),En=Array.isArray(Se==null?void 0:Se.players)&&((X=Se.players.map(Ae=>{const it=qe(Ae==null?void 0:Ae.account),Qt=qe(Ae==null?void 0:Ae.name),zn=qe(Ae==null?void 0:Ae.profession),mn=!!it&&it===Bn,ar=!!Qt&&(Qt===Bn||br.has(Qt)),to=!!it&&br.has(it),Fs=!Or||zn===Or;let no=0;return mn&&(no+=100),ar&&(no+=90),to&&(no+=80),Fs&&(no+=20),{player:Ae,score:no}}).filter(Ae=>Ae.score>0).sort((Ae,it)=>it.score-Ae.score)[0])==null?void 0:X.player)||null,Ha=(()=>{const Ae=En==null?void 0:En.combatReplayData;return Array.isArray(Ae)?Ae.filter(it=>it&&typeof it=="object"):Ae&&typeof Ae=="object"?[Ae]:[]})(),Dt=Ha.flatMap(Ae=>Nt(Ae==null?void 0:Ae.down).map(([it])=>it)),$t=Ha.flatMap(Ae=>Nt(Ae==null?void 0:Ae.dead).map(([it])=>it)),jt=Ha.map(Ae=>Number(Ae==null?void 0:Ae.start)).filter(Ae=>Number.isFinite(Ae)&&Ae>=0),nn=Array.isArray(Se==null?void 0:Se.players)?Se.players.flatMap(Ae=>{const it=Ae==null?void 0:Ae.combatReplayData;return Array.isArray(it)?it.map(Qt=>Number(Qt==null?void 0:Qt.start)):[Number(it==null?void 0:it.start)]}).filter(Ae=>Number.isFinite(Ae)&&Ae>=0).reduce((Ae,it)=>Math.min(Ae,it),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,xr=[0,Number((Se==null?void 0:Se.logStartOffset)||0),...jt,Number.isFinite(nn)?nn:0].filter(Ae=>Number.isFinite(Ae)&&Ae>=0),rr=Ae=>{const it=Math.max(0,Math.floor(Number(Ae||0)/1e3)),Qt=Math.floor(it/5)*5;return`${Qt}s-${Qt+5}s`},Pl=(Ae,it)=>{if(Ae.length===0||it.length===0)return[];const Qt=it.length*5e3,zn=dr=>dr.reduce((Mo,Vc)=>Vc>=0&&Vc<=Qt+2e3?Mo+1:Mo,0),mn=[],ar=Ae.map(dr=>Number(dr||0)).filter(dr=>Number.isFinite(dr)&&dr>=0);if(ar.length===0)return[];mn.push(ar);const to=ar.reduce((dr,Mo)=>Math.max(dr,Mo),0),Fs=ar.reduce((dr,Mo)=>Math.min(dr,Mo),Number.POSITIVE_INFINITY);to>Qt*20&&mn.push(ar.map(dr=>dr/1e3)),to<=Qt*2&&Fs>=0&&to>0&&to<Math.max(120,it.length*5+10)&&mn.push(ar.map(dr=>dr*1e3));let no=ar,AN=0,PN=-1;return mn.forEach(dr=>{const Mo=new Set(xr),Vc=dr.reduce((Ol,My)=>Math.min(Ol,My),Number.POSITIVE_INFINITY);if(Number.isFinite(Vc)&&Qt>0&&Vc>Qt){const Ol=Math.floor(Vc/Qt)*Qt;Mo.add(Ol),Mo.add(Math.max(0,Ol-Qt))}Mo.forEach(Ol=>{const My=dr.map(N6=>N6-Ol),TN=zn(My);TN>PN&&(PN=TN,AN=Ol,no=dr)})}),no.map(dr=>dr-AN).filter(dr=>Number.isFinite(dr)&&dr>=0)},_s=(Ae,it)=>{if(Ae.length===0||it.length===0)return[];const Qt=Pl(it,Ae),zn=new Map;Ae.forEach(ar=>{const to=/^(\d+)s-/.exec(String(ar));if(!to)return;const Fs=Number(to[1]);Number.isFinite(Fs)&&zn.set(Fs,ar)});const mn=[];return Qt.forEach(ar=>{const to=Math.max(0,Math.floor(Number(ar||0)/1e3)),Fs=Math.floor(to/5)*5,no=zn.get(Fs)||rr(ar);Ae.includes(no)&&mn.push(no)}),Array.from(new Set(mn))},Ls=(Ae,it)=>{if(Ae<=0||it.length===0)return[];const Qt=Array.from({length:Ae},(mn,ar)=>`${ar*5}s-${(ar+1)*5}s`),zn=Pl(it,Qt).map(mn=>Math.floor(Math.max(0,Number(mn||0))/5e3)).filter(mn=>Number.isFinite(mn)&&mn>=0&&mn<Ae);return Array.from(new Set(zn))},Tl=Array.isArray((ye=(le=Ot==null?void 0:Ot.values)==null?void 0:le[pe])==null?void 0:ye.buckets5s)?((Me=(Qe=Ot==null?void 0:Ot.values)==null?void 0:Qe[pe])==null?void 0:Me.buckets5s)||[]:[],Bc=Array.isArray((oe=(rt=Ot==null?void 0:Ot.values)==null?void 0:rt[pe])==null?void 0:oe.downIndices5s)?Ot.values[pe].downIndices5s.map(Ae=>Number(Ae)).filter(Ae=>Number.isFinite(Ae)&&Ae>=0):[],Uc=Array.isArray((dn=(Ge=Ot==null?void 0:Ot.values)==null?void 0:Ge[pe])==null?void 0:dn.deathIndices5s)?Ot.values[pe].deathIndices5s.map(Ae=>Number(Ae)).filter(Ae=>Number.isFinite(Ae)&&Ae>=0):[];if(Tl.length>0){const Ae=Math.max(0,Math.ceil(Number((Se==null?void 0:Se.durationMS)||0)/5e3)),it=Math.max(Tl.length,Ae),Qt=Array.from({length:it},(mn,ar)=>({label:`${ar*5}s-${(ar+1)*5}s`,value:Number(Tl[ar]||0)})),zn=Qt.map(mn=>mn.label);return{title:`Fight Breakdown - ${ze.shortLabel||"Fight"} (5s Damage Buckets)`,data:Qt,downLabels:_s(zn,Dt),deathLabels:_s(zn,$t),downIndices:Bc.length>0?Bc.filter(mn=>mn<Qt.length):Ls(Qt.length,Dt),deathIndices:Uc.length>0?Uc.filter(mn=>mn<Qt.length):Ls(Qt.length,$t)}}const Dr=ze.shortLabel||"Fight";if(!Se||!Array.isArray(Se.players))return{title:`Fight Breakdown - ${Dr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const jN=Se.players.find(Ae=>String((Ae==null?void 0:Ae.account)||(Ae==null?void 0:Ae.name)||"Unknown")===Rt&&String((Ae==null?void 0:Ae.profession)||"Unknown")===fn);if(!jN)return{title:`Fight Breakdown - ${Dr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const zc=jN,y6=Ae=>{if(!Array.isArray(Ae)||Ae.length===0)return[];const it=[];for(let Qt=0;Qt<Ae.length;Qt+=1){const zn=Number(Ae[Qt]||0),mn=Qt>0?Number(Ae[Qt-1]||0):0;it.push(Math.max(0,zn-mn))}return it},CN=Ae=>{if(!Array.isArray(Ae))return[];const it=Ae.reduce((zn,mn)=>Math.max(zn,Array.isArray(mn)?mn.length:0),0);if(it<=0)return[];const Qt=new Array(it).fill(0);return Ae.forEach(zn=>{if(Array.isArray(zn))for(let mn=0;mn<it;mn+=1)Qt[mn]+=Number(zn[mn]||0)}),Qt},v6=Ae=>Array.isArray(Ae)?Ae.map(it=>Number(it||0)):null,b6=(Ae=>{if(!Array.isArray(Ae)||Ae.length===0)return null;const it=Ae[0];if(!Array.isArray(it))return null;if(Array.isArray(it[0])&&Array.isArray(it[0][0]))return CN(it);if(Array.isArray(it[0])&&!Array.isArray(it[0][0])){const Qt=Ae.map(zn=>v6(Array.isArray(zn)?zn[0]:null)).filter(zn=>Array.isArray(zn)&&zn.length>0);if(Qt.length>0)return CN(Qt)}return null})(zc==null?void 0:zc.targetDamage1S),MN=Array.isArray(zc==null?void 0:zc.damage1S)&&Array.isArray(zc.damage1S[0])?zc.damage1S[0]:null,x6=b6||(Array.isArray(MN)?MN.map(Ae=>Number(Ae||0)):[]),Cy=y6(x6),pd=5,w6=Math.max(0,Math.ceil(Number((Se==null?void 0:Se.durationMS)||0)/(pd*1e3))),k6=Math.max(0,Math.ceil(Cy.length/pd)),S6=Math.max(w6,k6),md=[];for(let Ae=0;Ae<S6;Ae+=1){const it=Ae*pd,Qt=Math.min(it+pd,Cy.length),zn=Cy.slice(it,Qt).reduce((mn,ar)=>mn+Number(ar||0),0);md.push({label:`${it}s-${it+pd}s`,value:zn})}const EN=md.map(Ae=>Ae.label);return{title:`Fight Breakdown - ${Dr} (5s Damage Buckets)`,data:md,downLabels:_s(EN,Dt),deathLabels:_s(EN,$t),downIndices:Ls(md.length,Dt),deathIndices:Ls(md.length,$t)}},[ke,di,pe,e,tn.fights,Ti]),Rc=v.useMemo(()=>{const X=new Map;return _n.players.forEach(le=>X.set(le.key,le)),X},[_n.players]),Va=v.useMemo(()=>{const X=Me=>qt==="hit"?Me.peakHit:qt==="1s"?Me.peak1s:qt==="5s"?Me.peak5s:Me.peak30s,le=za.trim().toLowerCase(),ye=le?_n.players.filter(Me=>Me.displayName.toLowerCase().includes(le)||Me.account.toLowerCase().includes(le)||Me.profession.toLowerCase().includes(le)):_n.players,Qe=new Map;return ye.forEach(Me=>{const rt=Me.profession||"Unknown",oe=Qe.get(rt)||[];oe.push(Me),Qe.set(rt,oe)}),Array.from(Qe.entries()).map(([Me,rt])=>({profession:Me,players:[...rt].sort((oe,Ge)=>X(Ge)-X(oe)||oe.displayName.localeCompare(Ge.displayName))})).sort((Me,rt)=>Me.profession.localeCompare(rt.profession))},[_n.players,za,qt]),qp=Ee&&Rc.get(Ee)||null,qa=v.useMemo(()=>{if(!Ee)return[];const X=ye=>ye?Number(qt==="hit"?ye.hit||0:qt==="1s"?ye.burst1s||0:qt==="5s"?ye.burst5s||0:ye.burst30s||0):0,le=ye=>Number(qt==="hit"?ye.maxHit||0:qt==="1s"?ye.max1s||0:qt==="5s"?ye.max5s||0:ye.max30s||0);return _n.fights.map((ye,Qe)=>{var Me;return{index:Qe,fightId:ye.id,shortLabel:ye.shortLabel,fullLabel:ye.fullLabel,timestamp:Number(ye.timestamp||0),damage:X(ye.values[Ee]),maxDamage:le(ye),skillName:String(((Me=ye.values[Ee])==null?void 0:Me.skillName)||"")}})},[_n.fights,Ee,qt]),Oi=v.useMemo(()=>{const X=qa.reduce((ye,Qe)=>Math.max(ye,Number(Qe.damage||0)),0),le=qa.reduce((ye,Qe)=>Math.max(ye,Number(Qe.maxDamage||0)),0);return Math.max(1,X,le)},[qa]),Ji=v.useMemo(()=>{var X,le,ye,Qe,Me,rt,oe,Ge;const dn=nt===null?null:qa.find(mt=>mt.index===nt)||null;if(!dn||!Ee)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ze=_n.fights.find((mt,Se)=>String(mt.id||"")===String(dn.fightId||"")||Se===dn.index)||null,Ot=Array.isArray((le=(X=ze==null?void 0:ze.values)==null?void 0:X[Ee])==null?void 0:le.buckets5s)?((Qe=(ye=ze==null?void 0:ze.values)==null?void 0:ye[Ee])==null?void 0:Qe.buckets5s)||[]:[],Rt=Array.isArray((rt=(Me=ze==null?void 0:ze.values)==null?void 0:Me[Ee])==null?void 0:rt.downIndices5s)?ze.values[Ee].downIndices5s.map(mt=>Number(mt)).filter(mt=>Number.isFinite(mt)&&mt>=0):[],fn=Array.isArray((Ge=(oe=ze==null?void 0:ze.values)==null?void 0:oe[Ee])==null?void 0:Ge.deathIndices5s)?ze.values[Ee].deathIndices5s.map(mt=>Number(mt)).filter(mt=>Number.isFinite(mt)&&mt>=0):[];if(Ot.length>0){const mt=Ot.map((Se,Nt)=>({label:`${Nt*5}s-${(Nt+1)*5}s`,value:Number(Se||0)}));return{title:`Fight Breakdown - ${dn.shortLabel||"Fight"} (5s Damage Buckets)`,data:mt,downLabels:[],deathLabels:[],downIndices:Rt.filter(Se=>Se<mt.length),deathIndices:fn.filter(Se=>Se<mt.length)}}return{title:`Fight Breakdown - ${dn.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[nt,qa,Ee,_n.fights]),$c=v.useMemo(()=>{var X,le;if(nt===null||!Ee)return[];const ye=qa.find(Me=>Me.index===nt);if(!ye)return[];const Qe=_n.fights.find((Me,rt)=>String(Me.id||"")===String(ye.fightId||"")||rt===ye.index);return[...((le=(X=Qe==null?void 0:Qe.values)==null?void 0:X[Ee])==null?void 0:le.skillRows)||[]].filter(Me=>Number((Me==null?void 0:Me.damage)||0)>0).sort((Me,rt)=>Number(rt.damage||0)-Number(Me.damage||0)).slice(0,30)},[nt,Ee,qa,_n.fights]),Wa=v.useMemo(()=>{var X,le;if(ke===null||!pe)return[];const ye=di.find(Me=>Me.index===ke);if(!ye)return[];const Qe=tn.fights.find((Me,rt)=>String(Me.id||"")===String(ye.fightId||"")||rt===ye.index);return[...((le=(X=Qe==null?void 0:Qe.values)==null?void 0:X[pe])==null?void 0:le.skillRows)||[]].filter(Me=>Number((Me==null?void 0:Me.damage)||0)>0).sort((Me,rt)=>Number(rt.damage||0)-Number(Me.damage||0)).slice(0,30)},[ke,pe,di,tn.fights]);v.useEffect(()=>{if(Te.length===0){Ht!==null&&wn(null),Xr!==null&&Pi(null);return}if(!Ht||!Xe.has(Ht)){const X=Te[0].key;wn(X),aa(null)}},[Te,Xe,Ht,Xr]),v.useEffect(()=>{if(!At||At.skills.length===0){Xr!==null&&Pi(null);return}const X=At.skills.some(le=>le.id===Xr);(!Xr||!X)&&Pi(At.skills[0].id)},[At,Xr]),v.useEffect(()=>{if(ut.length===0){Co!==null&&Ts(null),li!==null&&ci(null);return}if(!Co||!Kn.has(Co)){const X=ut[0].profession;Ts(X),Os(null)}},[ut,Kn,Co,li]),v.useEffect(()=>{if(!Mn||Mn.skills.length===0){li!==null&&ci(null);return}const X=Mn.skills.some(le=>le.id===li);(!li||!X)&&ci(Mn.skills[0].id)},[Mn,li]),v.useEffect(()=>{if(tn.players.length===0){pe!==null&&Ne(null);return}(!pe||!Ti.has(pe))&&pe!==null&&Ne(null)},[tn.players,Ti,pe]),v.useEffect(()=>{Be(null)},[pe,me]),v.useEffect(()=>{ke!==null&&(di.some(X=>X.index===ke)||Be(null))},[di,ke]),v.useEffect(()=>{if(_n.players.length===0){Ee!==null&&vt(null);return}(!Ee||!Rc.has(Ee))&&Ee!==null&&vt(null)},[_n.players,Rc,Ee]),v.useEffect(()=>{at(null)},[Ee,qt]),v.useEffect(()=>{nt!==null&&(qa.some(X=>X.index===nt)||at(null))},[qa,nt]);const El=v.useMemo(()=>new Set(Et),[Et]),{playerMapByKey:Ea,playerTotalsForSkill:Di,skillChartData:Al,skillChartMaxY:RR,groupedSkillUsagePlayers:$R}=Q8({skillUsageData:E,selectedSkillId:He,selectedPlayers:El,skillUsageView:Ze==="perSecond"?"perSecond":"total"}),hN=v.useMemo(()=>{const X=new Map,le=rt=>{rt.forEach(oe=>{const Ge=Xc(oe==null?void 0:oe.name)||(oe==null?void 0:oe.name);Ge&&oe!=null&&oe.icon&&!X.has(Ge)&&X.set(Ge,oe.icon)})},ye=rt=>{rt.forEach(oe=>{Object.entries((oe==null?void 0:oe.conditions)||{}).forEach(([Ge,dn])=>{const ze=Xc(Ge)||Ge;dn!=null&&dn.icon&&!X.has(ze)&&X.set(ze,dn.icon)})})},Qe=rt=>{const oe=new Map;return rt.forEach(Ge=>{const dn=Xc(Ge==null?void 0:Ge.name)||(Ge==null?void 0:Ge.name);if(!dn)return;const ze=oe.get(dn)||{name:dn,icon:(Ge==null?void 0:Ge.icon)||X.get(dn)||pm(dn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};ze.applications+=Number((Ge==null?void 0:Ge.applications)||0),ze.damage+=Number((Ge==null?void 0:Ge.damage)||0),Ge!=null&&Ge.applicationsFromUptime&&(ze.applicationsFromUptime+=Number(Ge.applicationsFromUptime||0)),Ge!=null&&Ge.applicationsFromBuffs&&(ze.applicationsFromBuffs+=Number(Ge.applicationsFromBuffs||0)),Ge!=null&&Ge.applicationsFromBuffsActive&&(ze.applicationsFromBuffsActive+=Number(Ge.applicationsFromBuffsActive||0)),!ze.icon&&Ge!=null&&Ge.icon&&(ze.icon=Ge.icon),ze.icon||(ze.icon=pm(dn)),oe.set(dn,ze)}),Array.from(oe.values())},Me=rt=>rt.map(oe=>{const Ge={};return Object.entries((oe==null?void 0:oe.conditions)||{}).forEach(([dn,ze])=>{const Ot=Xc(dn)||dn;if(!Ot)return;const Rt=Ge[Ot]||{icon:(ze==null?void 0:ze.icon)||X.get(Ot)||pm(Ot),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Rt.applications+=Number((ze==null?void 0:ze.applications)||0),Rt.damage+=Number((ze==null?void 0:ze.damage)||0),ze!=null&&ze.applicationsFromUptime&&(Rt.applicationsFromUptime+=Number(ze.applicationsFromUptime||0)),ze!=null&&ze.applicationsFromBuffs&&(Rt.applicationsFromBuffs+=Number(ze.applicationsFromBuffs||0)),ze!=null&&ze.applicationsFromBuffsActive&&(Rt.applicationsFromBuffsActive+=Number(ze.applicationsFromBuffsActive||0)),!Rt.icon&&ze!=null&&ze.icon&&(Rt.icon=ze.icon),Rt.icon||(Rt.icon=pm(Ot)),Object.values((ze==null?void 0:ze.skills)||{}).forEach(fn=>{const mt=(fn==null?void 0:fn.name)||"Unknown",Se=Rt.skills[mt]||{name:mt,hits:0,damage:0,icon:fn==null?void 0:fn.icon};Se.hits+=Number((fn==null?void 0:fn.hits)||0),Se.damage+=Number((fn==null?void 0:fn.damage)||0),!Se.icon&&fn!=null&&fn.icon&&(Se.icon=fn.icon),Rt.skills[mt]=Se}),Ge[Ot]=Rt}),{...oe,conditions:Ge}});return(rt,oe)=>(le(rt),ye(oe),{summary:Qe(rt),players:Me(oe)})},[]),gN=Ai==="outgoing"?O.outgoingConditionSummary:O.incomingConditionSummary,yN=Ai==="outgoing"?O.outgoingConditionPlayers:O.incomingConditionPlayers,{summary:Wp,players:BR}=v.useMemo(()=>hN(gN||[],yN||[]),[hN,gN,yN]);v.useEffect(()=>{if(Ke==="all"||Wp.some(le=>le.name===Ke))return;const X=Xc(Ke);X&&Wp.some(le=>le.name===X)?Lt(X):Lt("all")},[Ke,Wp,Lt]);const UR=v.useMemo(()=>{const X={};return Di.forEach((le,ye)=>{const Qe=Ea.get(ye);if(!Qe)return;const Me=Qe.profession;(!X[Me]||le>X[Me])&&(X[Me]=le)}),X},[Di,Ea]),Pt=v.useCallback(X=>d?d(X):!0,[d]),Yn=v.useCallback((X,le)=>{const ye=Pt(X);return d?`${le} ${ye?"":"hidden"}`:`${le} transition-[opacity,transform] duration-700 ease-in-out ${ye?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Pt,d]),vN=v.useMemo(()=>Lae.find(X=>Pt(X))||null,[Pt]),Gn=v.useCallback(X=>X===vN,[vN]),zR=v.useMemo(()=>{const X=new Map,le=new Map;return Et.forEach(ye=>{const Qe=Ea.get(ye);if(!Qe)return;const Me=Di.get(ye)??0,rt=le.get(Qe.profession)||[];rt.push({key:ye,total:Me}),le.set(Qe.profession,rt)}),le.forEach(ye=>{ye.sort((Qe,Me)=>Me.total-Qe.total),ye.forEach((Qe,Me)=>{X.set(Qe.key,Me)})}),X},[Et,Ea,Di]),bN=["0","12 3","8 3","6 3","4 3","2 3"],VR=X=>{const le=Ea.get(X),ye=nc((le==null?void 0:le.profession)||""),Qe=Di.get(X)??0,Me=le!=null&&le.profession&&UR[le.profession]||1,rt=.35+(Me>0?Qe/Me:1)*.65;return Hp(ye,rt)},qR=X=>{const le=zR.get(X)??0;return bN[le%bN.length]},WR=(X,le,ye)=>{if(!ye)return VR(X);const Qe=Ea.get(X),Me=nc((Qe==null?void 0:Qe.profession)||"");return le?Hp(Me,1.2):Hp(Me,.5)},Hp=(X,le)=>{const ye=X.replace("#","");if(ye.length!==6)return X;const Qe=ze=>Math.max(0,Math.min(255,ze)),Me=ze=>Number.parseInt(ye.slice(ze,ze+2),16),rt=ze=>Qe(Math.round(ze)).toString(16).padStart(2,"0"),oe=Me(0),Ge=Me(2),dn=Me(4);return`#${rt(oe*le)}${rt(Ge*le)}${rt(dn*le)}`},xN=v.useMemo(()=>{const X=new Map;return E.skillOptions.forEach(le=>{X.set(le.id,{name:le.name,icon:le.icon})}),X},[E.skillOptions]),fd=v.useMemo(()=>{var X;if(Et.length===0)return[];const le=new Map,ye=new Map;let Qe=0;Et.forEach(ze=>{const Ot=Ea.get(ze);if(!Ot)return;Qe+=Ot.totalActiveSeconds||0,Object.entries(Ot.skillTotals||{}).forEach(([fn,mt])=>{le.set(fn,(le.get(fn)||0)+Number(mt||0))});const Rt=Ot.profession||"Unknown";ye.set(Rt,(ye.get(Rt)||0)+(Ot.totalActiveSeconds||0))});const Me=un.trim().toLowerCase(),rt=Ze==="perSecond",oe=((X=Array.from(ye.entries()).sort((ze,Ot)=>Ot[1]-ze[1])[0])==null?void 0:X[0])||"Unknown",Ge=nc(oe),dn="#64748b";return Array.from(le.entries()).map(([ze,Ot])=>{const Rt=xN.get(ze),fn=(Rt==null?void 0:Rt.name)||ze,mt=rt&&Qe>0?Ot/Qe:Ot;return{skillId:ze,name:fn,icon:Rt==null?void 0:Rt.icon,total:mt}}).filter(ze=>ze.total>0&&(!Me||ze.name.toLowerCase().includes(Me))).sort((ze,Ot)=>Ot.total-ze.total).map((ze,Ot)=>({...ze,color:Ot===0?Ge:Hp(Ge,.85-Math.min(Ot*.06,.4))||dn}))},[Et,Ea,un,Ze,xN]);v.useEffect(()=>{if(fd.length===0){He!==null&&ot(null);return}(!He||!fd.some(X=>X.skillId===He))&&ot(fd[0].skillId)},[fd,He,ot]);const Kp=E.skillOptions.find(X=>X.id===He),HR=(Kp==null?void 0:Kp.name)||"",KR=(Kp==null?void 0:Kp.icon)||null,YR=j&&!!He&&Et.length>0,Yp="__all__",GR=j&&ui.length>0,Is=v.useMemo(()=>ui.find(X=>X.profession===ct)??null,[ui,ct]),XR=Pe===Yp,QR=v.useMemo(()=>{var X;return((X=Is==null?void 0:Is.skills)==null?void 0:X.find(le=>le.id===Pe))??null},[Is,Pe]);v.useEffect(()=>{if(ui.length===0){ct!==null&&an(null),Ft!==null&&Ct(null);return}if(!ct||!ui.some(X=>X.profession===ct)){const X=ui[0].profession;an(X),Ct(null)}},[ui,ct,Ft]),v.useEffect(()=>{if(!Is||Is.skills.length===0){Pe!==null&&xe(null);return}const X=Is.skills.some(le=>le.id===Pe);(!Pe||!X&&Pe!==Yp)&&xe(Yp)},[Is,Pe]);const ZR=X=>{Wt(le=>le.includes(X)?le.filter(ye=>ye!==X):[...le,X])},JR=X=>{Wt(le=>le.filter(ye=>ye!==X))},e6=v.useMemo(()=>{const X=Gt.trim().toLowerCase(),le=O.boonTables||[];return X?le.filter(ye=>ye.name.toLowerCase().includes(X)):le},[O.boonTables,Gt]),t6=v.useMemo(()=>be?(O.boonTables||[]).find(X=>X.id===be)??null:null,[O.boonTables,be]),n6=v.useMemo(()=>{const X=Fe.trim().toLowerCase(),le=[...O.specialTables||[]].sort((ye,Qe)=>ye.name.localeCompare(Qe.name));return X?le.filter(ye=>ye.name.toLowerCase().includes(X)):le},[O.specialTables,Fe]),eo=v.useMemo(()=>[...O.specialTables||[]].filter(X=>/\b(sigil|relic)\b/i.test(String((X==null?void 0:X.name)||""))).sort((X,le)=>X.name.localeCompare(le.name)),[O.specialTables]),r6=v.useMemo(()=>{const X=Cn.trim().toLowerCase();return X?eo.filter(le=>le.name.toLowerCase().includes(X)):eo},[eo,Cn]),a6=v.useMemo(()=>An?(O.specialTables||[]).find(X=>X.id===An)??null:null,[O.specialTables,An]),i6=v.useMemo(()=>_t?eo.find(X=>X.id===_t)??null:null,[eo,_t]);v.useEffect(()=>{!O.boonTables||O.boonTables.length===0||(!be||!O.boonTables.some(X=>X.id===be))&&et(O.boonTables[0].id)},[O.boonTables,be]),v.useEffect(()=>{!O.specialTables||O.specialTables.length===0||(!An||!O.specialTables.some(X=>X.id===An))&&he(O.specialTables[0].id)},[O.specialTables,An]),v.useEffect(()=>{if(!eo||eo.length===0){_t!==null&&pn(null);return}(!_t||!eo.some(X=>X.id===_t))&&pn(eo[0].id)},[eo,_t]),v.useEffect(()=>{const X=()=>{const ye=window.getSelection();ye&&ye.rangeCount>0&&ye.removeAllRanges()},le=ye=>{var Qe;const Me=ye.target;(Qe=Me==null?void 0:Me.closest)!=null&&Qe.call(Me,".recharts-wrapper")&&(ye.preventDefault(),X())};return document.addEventListener("selectstart",le),document.addEventListener("mousedown",le),document.addEventListener("mousemove",le),document.addEventListener("dragstart",le),()=>{document.removeEventListener("selectstart",le),document.removeEventListener("mousedown",le),document.removeEventListener("mousemove",le),document.removeEventListener("dragstart",le)}},[]);const Aa=X=>{Ce.current&&(window.clearTimeout(Ce.current),Ce.current=null),je(!1),U(X)},ia=()=>{bt&&(Ce.current&&window.clearTimeout(Ce.current),je(!0),Ce.current=window.setTimeout(()=>{U(null),je(!1),Ce.current=null},160))};v.useEffect(()=>{if(!bt)return;const X=Qe=>{Qe.key==="Escape"&&ia()},le=document.body.style.overflow,ye=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X),document.body.style.overflow=le,document.documentElement.style.overflow=ye}},[bt]);const wN=(X,le)=>{const ye=((le==null?void 0:le.value)||0)-((X==null?void 0:X.value)||0);return ye!==0?ye:String((X==null?void 0:X.name)||"").localeCompare(String((le==null?void 0:le.name)||""))},kN=Array.isArray(O==null?void 0:O.squadClassData)?O.squadClassData:[],SN=Array.isArray(O==null?void 0:O.enemyClassData)?O.enemyClassData:[],o6=Array.isArray(O==null?void 0:O.attendanceData)?O.attendanceData:[],jy=Array.isArray(O==null?void 0:O.squadCompByFight)?O.squadCompByFight:[],NN=Array.isArray(O==null?void 0:O.fightBreakdown)?O.fightBreakdown:[],s6=v.useMemo(()=>{const X=new Map;return NN.forEach(le=>{const ye=String((le==null?void 0:le.id)||"");ye&&X.set(ye,le)}),jy.map(le=>{const ye=X.get(String((le==null?void 0:le.id)||""))||null;return{...le,enemyClassCounts:(ye==null?void 0:ye.enemyClassCounts)||{}}})},[jy,NN]),l6=v.useMemo(()=>[...kN].sort(wN),[kN]),c6=v.useMemo(()=>[...SN].sort(wN),[SN]),u6=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",d6=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${bt?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${bt?"":"backdrop-blur-2xl"}`,f6=c&&p!=="matte"&&p!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:c&&p==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,p6=X=>Ze==="perSecond"?X.toFixed(1):Math.round(X).toLocaleString(),m6=X=>X.toFixed(1),h6=X=>Math.round(X).toLocaleString(),g6=X=>typeof X=="number"&&Number.isFinite(X)?X.toFixed(1):"0.0",Pa=Jre;return u.jsxs("div",{className:u6,children:[bt&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${se?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:ia}),u.jsx(Oae,{embedded:c,dashboardTitle:f,totalLogs:O.total,onBack:t,devMockAvailable:J,devMockUploadState:W,onDevMockUpload:te,uploadingWeb:P,onWebUpload:_,sharing:ge,canShareDiscord:m,onShare:R}),u.jsx(Dae,{embedded:c,webUploadMessage:I,webUploadUrl:z,webUploadBuildStatus:G,webCopyStatus:H,setWebCopyStatus:ee}),u.jsx(Iae,{embedded:c,devMockAvailable:J,devMockUploadState:W}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:Q,className:`${d6} ${c?"":"flex-1"}`,style:f6,children:[u.jsxs(u.Fragment,{children:[Pt("overview")&&u.jsx(gae,{stats:O,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("fight-breakdown")&&u.jsx(yae,{stats:O,fightBreakdownTab:ve,setFightBreakdownTab:Re,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("top-players")&&u.jsx(xae,{stats:O,showTopStats:S,showMvp:C,topStatsMode:M,expandedLeader:F,setExpandedLeader:ie,formatTopStatValue:Bs,formatWithCommas:mi,isMvpStatEnabled:K,renderProfessionIcon:Pa,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("top-skills-outgoing")&&u.jsx(wae,{stats:O,topSkillsMetric:A,onTopSkillsMetricChange:V,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("squad-composition")&&u.jsx(kae,{sortedSquadClassData:l6,sortedEnemyClassData:c6,getProfessionIconPath:Kl,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("attendance-ledger")&&u.jsx(Mae,{attendanceRows:o6,getProfessionIconPath:Kl,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("squad-comp-fight")&&u.jsx(Aae,{fights:jy,getProfessionIconPath:Kl,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("fight-comp")&&u.jsx(Tae,{fights:s6,getProfessionIconPath:Kl,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("timeline")&&u.jsx(Sae,{timelineData:O.timelineData,timelineFriendlyScope:Le,setTimelineFriendlyScope:st,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("map-distribution")&&u.jsx(Nae,{mapData:O.mapData,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("offense-detailed")&&u.jsx(aae,{stats:O,OFFENSE_METRICS:aO,roundCountStats:N,offenseSearch:ja,setOffenseSearch:Ei,activeOffenseStat:Dc,setActiveOffenseStat:Ic,offenseViewMode:Ho,setOffenseViewMode:cd,formatWithCommas:mi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po}),Pt("player-breakdown")&&u.jsx(rae,{expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po,viewMode:jo,setViewMode:Vp,playerSkillBreakdowns:Te,classSkillBreakdowns:ut,activePlayerKey:Ht,setActivePlayerKey:wn,expandedPlayerKey:Ur,setExpandedPlayerKey:aa,activePlayerSkillId:Xr,setActivePlayerSkillId:Pi,activeClassKey:Co,setActiveClassKey:Ts,expandedClassKey:ud,setExpandedClassKey:Os,activeClassSkillId:li,setActiveClassSkillId:ci,skillSearch:Lc,setSkillSearch:Ps,activePlayerBreakdown:At,activePlayerSkill:Nn,activeClassBreakdown:Mn,activeClassSkill:vr,renderProfessionIcon:Pa}),Pt("spike-damage")&&u.jsx(zE,{expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,spikePlayerFilter:Pr,setSpikePlayerFilter:Pc,groupedSpikePlayers:Ds,spikeMode:me,setSpikeMode:Ie,selectedSpikePlayerKey:pe,setSelectedSpikePlayerKey:Ne,selectedSpikePlayer:Fc,spikeChartData:di,spikeChartMaxY:dd,selectedSpikeFightIndex:ke,setSelectedSpikeFightIndex:Be,spikeDrilldownTitle:Ml.title,spikeDrilldownData:Ml.data,spikeDrilldownDownIndices:Ml.downIndices,spikeDrilldownDeathIndices:Ml.deathIndices,spikeFightSkillRows:Wa,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:mi,renderProfessionIcon:Pa}),Pt("conditions-outgoing")&&u.jsx(iae,{conditionSummary:Wp,conditionPlayers:BR,conditionSearch:yn,setConditionSearch:Ca,activeConditionName:Ke,setActiveConditionName:Lt,conditionDirection:Ai,setConditionDirection:Tc,conditionGridClass:vn,effectiveConditionSort:cr,setConditionSort:pt,showConditionDamage:Jt,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po}),Pt("defense-detailed")&&u.jsx(sae,{stats:O,DEFENSE_METRICS:iO,defenseSearch:pa,setDefenseSearch:Zt,activeDefenseStat:_c,setActiveDefenseStat:Y,defenseViewMode:Sy,setDefenseViewMode:Ny,roundCountStats:N,formatWithCommas:mi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po}),Pt("incoming-strike-damage")&&u.jsx(zE,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,spikePlayerFilter:za,setSpikePlayerFilter:si,groupedSpikePlayers:Va,spikeMode:qt,setSpikeMode:xn,selectedSpikePlayerKey:Ee,setSelectedSpikePlayerKey:vt,selectedSpikePlayer:qp,spikeChartData:qa,spikeChartMaxY:Oi,selectedSpikeFightIndex:nt,setSelectedSpikeFightIndex:at,spikeDrilldownTitle:Ji.title,spikeDrilldownData:Ji.data,spikeDrilldownDownIndices:Ji.downIndices,spikeDrilldownDeathIndices:Ji.deathIndices,spikeFightSkillRows:$c,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:mi,renderProfessionIcon:Pa}),Pt("defense-mitigation")&&u.jsx(lae,{stats:O,DAMAGE_MITIGATION_METRICS:tU,damageMitigationSearch:cn,setDamageMitigationSearch:Cr,activeDamageMitigationStat:de,setActiveDamageMitigationStat:Oe,damageMitigationViewMode:D,setDamageMitigationViewMode:q,damageMitigationScope:yt,setDamageMitigationScope:ht,roundCountStats:N,formatWithCommas:mi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po}),Pt("boon-output")&&u.jsx(oae,{stats:O,activeBoonCategory:ue,setActiveBoonCategory:X=>We(X),activeBoonMetric:$e,setActiveBoonMetric:gt,activeBoonTab:be,setActiveBoonTab:et,activeBoonTable:t6,filteredBoonTables:e6,boonSearch:Gt,setBoonSearch:Sn,formatBoonMetricDisplay:OU,getBoonMetricValue:yO,renderProfessionIcon:Pa,roundCountStats:N,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po}),Pt("support-detailed")&&u.jsx(cae,{stats:O,SUPPORT_METRICS:oO,supportSearch:Cl,setSupportSearch:Oc,activeSupportStat:ur,setActiveSupportStat:_e,supportViewMode:ne,setSupportViewMode:we,cleanseScope:Z,setCleanseScope:De,roundCountStats:N,formatWithCommas:mi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po}),Pt("healing-stats")&&u.jsx(uae,{stats:O,HEALING_METRICS:nU,activeHealingMetric:tt,setActiveHealingMetric:on,healingCategory:en,setHealingCategory:$n,activeResUtilitySkill:Ma,setActiveResUtilitySkill:Tr,skillUsageData:E,formatWithCommas:mi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("fight-diff-mode")&&u.jsx(hae,{stats:O,formatWithCommas:mi,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn}),Pt("special-buffs")&&u.jsx(fae,{stats:O,specialSearch:Fe,setSpecialSearch:Tt,filteredSpecialTables:n6,activeSpecialTab:An,setActiveSpecialTab:he,activeSpecialTable:a6,formatWithCommas:mi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po}),Pt("sigil-relic-uptime")&&u.jsx(mae,{hasSigilRelicTables:eo.length>0,sigilRelicSearch:Cn,setSigilRelicSearch:Hn,filteredSigilRelicTables:r6,activeSigilRelicTab:_t,setActiveSigilRelicTab:pn,activeSigilRelicTable:i6,formatWithCommas:mi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po}),Pt("skill-usage")&&u.jsx(eae,{expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,selectedPlayers:Et,setSelectedPlayers:Wt,removeSelectedPlayer:JR,playerMapByKey:Ea,groupedSkillUsagePlayers:$R,expandedSkillUsageClass:Kt,setExpandedSkillUsageClass:Vt,togglePlayerSelection:ZR,skillUsagePlayerFilter:Bt,setSkillUsagePlayerFilter:hn,skillUsageView:Ze,setSkillUsageView:Ye,skillUsageData:E,skillUsageSkillFilter:un,setSkillUsageSkillFilter:Je,selectedSkillId:He,setSelectedSkillId:ot,skillBarData:fd,selectedSkillName:HR,selectedSkillIcon:KR,skillUsageReady:YR,skillUsageAvailable:j,isSkillUsagePerSecond:Ut,skillChartData:Al,skillChartMaxY:RR,playerTotalsForSkill:Di,hoveredSkillPlayer:In,setHoveredSkillPlayer:nr,getLineStrokeColor:WR,getLineDashForPlayer:qR,formatSkillUsageValue:p6,renderProfessionIcon:Pa}),Pt("apm-stats")&&u.jsx(nae,{expandedSection:bt,expandedSectionClosing:se,openExpandedSection:Aa,closeExpandedSection:ia,isSectionVisible:Pt,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Po,apmSpecAvailable:GR,skillUsageAvailable:j,apmSpecTables:ui,activeApmSpec:ct,setActiveApmSpec:an,expandedApmSpec:Ft,setExpandedApmSpec:Ct,activeApmSkillId:Pe,setActiveApmSkillId:xe,ALL_SKILLS_KEY:Yp,apmSkillSearch:xt,setApmSkillSearch:Mt,activeApmSpecTable:Is,activeApmSkill:QR,isAllApmSkills:XR,apmView:lt,setApmView:Xt,formatApmValue:g6,formatCastRateValue:m6,formatCastCountValue:h6,renderProfessionIcon:Pa})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})})]})}const Rae="Arcane",$ae="CRT",ah="MatteSlate",ih="KineticPaper",oh={id:Rae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Bae={id:ah,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Uae={id:ih,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},zae=[oh,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Vae={id:$ae,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Od=[...zae,Vae,Bae,Uae];function qae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Wae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Hae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kae={};function qE(e,t){return(Kae.jsx?Hae:Wae).test(e)}const Yae=/[ \t\n\f\r]/g;function Gae(e){return typeof e=="object"?e.type==="text"?WE(e.value):!1:WE(e)}function WE(e){return e.replace(Yae,"")===""}class Lp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Lp.prototype.normal={};Lp.prototype.property={};Lp.prototype.space=void 0;function fL(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Lp(n,r,t)}function Xx(e){return e.toLowerCase()}class oi{constructor(t,n){this.attribute=n,this.property=t}}oi.prototype.attribute="";oi.prototype.booleanish=!1;oi.prototype.boolean=!1;oi.prototype.commaOrSpaceSeparated=!1;oi.prototype.commaSeparated=!1;oi.prototype.defined=!1;oi.prototype.mustUseProperty=!1;oi.prototype.number=!1;oi.prototype.overloadedBoolean=!1;oi.prototype.property="";oi.prototype.spaceSeparated=!1;oi.prototype.space=void 0;let Xae=0;const rn=Mc(),_r=Mc(),Qx=Mc(),Ve=Mc(),Vn=Mc(),Cu=Mc(),pi=Mc();function Mc(){return 2**++Xae}const Zx=Object.freeze(Object.defineProperty({__proto__:null,boolean:rn,booleanish:_r,commaOrSpaceSeparated:pi,commaSeparated:Cu,number:Ve,overloadedBoolean:Qx,spaceSeparated:Vn},Symbol.toStringTag,{value:"Module"})),Cv=Object.keys(Zx);class AS extends oi{constructor(t,n,r,a){let i=-1;if(super(t,n),HE(this,"space",a),typeof r=="number")for(;++i<Cv.length;){const o=Cv[i];HE(this,Cv[i],(r&Zx[o])===Zx[o])}}}AS.prototype.defined=!0;function HE(e,t,n){n&&(e[t]=n)}function sd(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new AS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Xx(r)]=r,n[Xx(i.attribute)]=r}return new Lp(t,n,e.space)}const pL=sd({properties:{ariaActiveDescendant:null,ariaAtomic:_r,ariaAutoComplete:null,ariaBusy:_r,ariaChecked:_r,ariaColCount:Ve,ariaColIndex:Ve,ariaColSpan:Ve,ariaControls:Vn,ariaCurrent:null,ariaDescribedBy:Vn,ariaDetails:null,ariaDisabled:_r,ariaDropEffect:Vn,ariaErrorMessage:null,ariaExpanded:_r,ariaFlowTo:Vn,ariaGrabbed:_r,ariaHasPopup:null,ariaHidden:_r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Vn,ariaLevel:Ve,ariaLive:null,ariaModal:_r,ariaMultiLine:_r,ariaMultiSelectable:_r,ariaOrientation:null,ariaOwns:Vn,ariaPlaceholder:null,ariaPosInSet:Ve,ariaPressed:_r,ariaReadOnly:_r,ariaRelevant:null,ariaRequired:_r,ariaRoleDescription:Vn,ariaRowCount:Ve,ariaRowIndex:Ve,ariaRowSpan:Ve,ariaSelected:_r,ariaSetSize:Ve,ariaSort:null,ariaValueMax:Ve,ariaValueMin:Ve,ariaValueNow:Ve,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function mL(e,t){return t in e?e[t]:t}function hL(e,t){return mL(e,t.toLowerCase())}const Qae=sd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Cu,acceptCharset:Vn,accessKey:Vn,action:null,allow:null,allowFullScreen:rn,allowPaymentRequest:rn,allowUserMedia:rn,alt:null,as:null,async:rn,autoCapitalize:null,autoComplete:Vn,autoFocus:rn,autoPlay:rn,blocking:Vn,capture:null,charSet:null,checked:rn,cite:null,className:Vn,cols:Ve,colSpan:null,content:null,contentEditable:_r,controls:rn,controlsList:Vn,coords:Ve|Cu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rn,defer:rn,dir:null,dirName:null,disabled:rn,download:Qx,draggable:_r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rn,formTarget:null,headers:Vn,height:Ve,hidden:Qx,high:Ve,href:null,hrefLang:null,htmlFor:Vn,httpEquiv:Vn,id:null,imageSizes:null,imageSrcSet:null,inert:rn,inputMode:null,integrity:null,is:null,isMap:rn,itemId:null,itemProp:Vn,itemRef:Vn,itemScope:rn,itemType:Vn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rn,low:Ve,manifest:null,max:null,maxLength:Ve,media:null,method:null,min:null,minLength:Ve,multiple:rn,muted:rn,name:null,nonce:null,noModule:rn,noValidate:rn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rn,optimum:Ve,pattern:null,ping:Vn,placeholder:null,playsInline:rn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rn,referrerPolicy:null,rel:Vn,required:rn,reversed:rn,rows:Ve,rowSpan:Ve,sandbox:Vn,scope:null,scoped:rn,seamless:rn,selected:rn,shadowRootClonable:rn,shadowRootDelegatesFocus:rn,shadowRootMode:null,shape:null,size:Ve,sizes:null,slot:null,span:Ve,spellCheck:_r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ve,step:null,style:null,tabIndex:Ve,target:null,title:null,translate:null,type:null,typeMustMatch:rn,useMap:null,value:_r,width:Ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Vn,axis:null,background:null,bgColor:null,border:Ve,borderColor:null,bottomMargin:Ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rn,declare:rn,event:null,face:null,frame:null,frameBorder:null,hSpace:Ve,leftMargin:Ve,link:null,longDesc:null,lowSrc:null,marginHeight:Ve,marginWidth:Ve,noResize:rn,noHref:rn,noShade:rn,noWrap:rn,object:null,profile:null,prompt:null,rev:null,rightMargin:Ve,rules:null,scheme:null,scrolling:_r,standby:null,summary:null,text:null,topMargin:Ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rn,disableRemotePlayback:rn,prefix:null,property:null,results:Ve,security:null,unselectable:null},space:"html",transform:hL}),Zae=sd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pi,accentHeight:Ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ve,amplitude:Ve,arabicForm:null,ascent:Ve,attributeName:null,attributeType:null,azimuth:Ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ve,by:null,calcMode:null,capHeight:Ve,className:Vn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ve,diffuseConstant:Ve,direction:null,display:null,dur:null,divisor:Ve,dominantBaseline:null,download:rn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ve,enableBackground:null,end:null,event:null,exponent:Ve,externalResourcesRequired:null,fill:null,fillOpacity:Ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Cu,g2:Cu,glyphName:Cu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ve,horizOriginX:Ve,horizOriginY:Ve,id:null,ideographic:Ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ve,k:Ve,k1:Ve,k2:Ve,k3:Ve,k4:Ve,kernelMatrix:pi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ve,overlineThickness:Ve,paintOrder:null,panose1:null,path:null,pathLength:Ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Vn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ve,pointsAtY:Ve,pointsAtZ:Ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pi,rev:pi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pi,requiredFeatures:pi,requiredFonts:pi,requiredFormats:pi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ve,specularExponent:Ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ve,strikethroughThickness:Ve,string:null,stroke:null,strokeDashArray:pi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ve,strokeOpacity:Ve,strokeWidth:null,style:null,surfaceScale:Ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pi,tabIndex:Ve,tableValues:null,target:null,targetX:Ve,targetY:Ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ve,underlineThickness:Ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ve,values:null,vAlphabetic:Ve,vMathematical:Ve,vectorEffect:null,vHanging:Ve,vIdeographic:Ve,version:null,vertAdvY:Ve,vertOriginX:Ve,vertOriginY:Ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mL}),gL=sd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),yL=sd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:hL}),vL=sd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Jae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},eie=/[A-Z]/g,KE=/-[a-z]/g,tie=/^data[-\w.:]+$/i;function nie(e,t){const n=Xx(t);let r=t,a=oi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tie.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(KE,aie);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!KE.test(i)){let o=i.replace(eie,rie);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=AS}return new a(r,t)}function rie(e){return"-"+e.toLowerCase()}function aie(e){return e.charAt(1).toUpperCase()}const iie=fL([pL,Qae,gL,yL,vL],"html"),PS=fL([pL,Zae,gL,yL,vL],"svg");function oie(e){return e.join(" ").trim()}var TS={},YE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,sie=/\n/g,lie=/^\s*/,cie=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,uie=/^:\s*/,die=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,fie=/^[;\s]*/,pie=/^\s+|\s+$/g,mie=`
`,GE="/",XE="*",Vl="",hie="comment",gie="declaration";function yie(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var y=h.match(sie);y&&(n+=y.length);var x=h.lastIndexOf(mie);r=~x?h.length-x:r+h.length}function i(){var h={line:n,column:r};return function(y){return y.position=new o(h),c(),y}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var y=new Error(t.source+":"+n+":"+r+": "+h);if(y.reason=h,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(h){var y=h.exec(e);if(y){var x=y[0];return a(x),e=e.slice(x.length),y}}function c(){l(lie)}function d(h){var y;for(h=h||[];y=f();)y!==!1&&h.push(y);return h}function f(){var h=i();if(!(GE!=e.charAt(0)||XE!=e.charAt(1))){for(var y=2;Vl!=e.charAt(y)&&(XE!=e.charAt(y)||GE!=e.charAt(y+1));)++y;if(y+=2,Vl===e.charAt(y-1))return s("End of comment missing");var x=e.slice(2,y-2);return r+=2,a(x),e=e.slice(y),r+=2,h({type:hie,comment:x})}}function p(){var h=i(),y=l(cie);if(y){if(f(),!l(uie))return s("property missing ':'");var x=l(die),g=h({type:gie,property:QE(y[0].replace(YE,Vl)),value:x?QE(x[0].replace(YE,Vl)):Vl});return l(fie),g}}function m(){var h=[];d(h);for(var y;y=p();)y!==!1&&(h.push(y),d(h));return h}return c(),m()}function QE(e){return e?e.replace(pie,Vl):Vl}var vie=yie,bie=dh&&dh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TS,"__esModule",{value:!0});TS.default=wie;const xie=bie(vie);function wie(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,xie.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var uy={};Object.defineProperty(uy,"__esModule",{value:!0});uy.camelCase=void 0;var kie=/^--[a-zA-Z0-9_-]+$/,Sie=/-([a-z])/g,Nie=/^[^-]+$/,jie=/^-(webkit|moz|ms|o|khtml)-/,Cie=/^-(ms)-/,Mie=function(e){return!e||Nie.test(e)||kie.test(e)},Eie=function(e,t){return t.toUpperCase()},ZE=function(e,t){return"".concat(t,"-")},Aie=function(e,t){return t===void 0&&(t={}),Mie(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Cie,ZE):e=e.replace(jie,ZE),e.replace(Sie,Eie))};uy.camelCase=Aie;var Pie=dh&&dh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Tie=Pie(TS),Oie=uy;function Jx(e,t){var n={};return!e||typeof e!="string"||(0,Tie.default)(e,function(r,a){r&&a&&(n[(0,Oie.camelCase)(r,t)]=a)}),n}Jx.default=Jx;var Die=Jx;const Iie=wo(Die),bL=xL("end"),OS=xL("start");function xL(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _ie(e){const t=OS(e),n=bL(e);if(t&&n)return{start:t,end:n}}function tf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?JE(e.position):"start"in e||"end"in e?JE(e):"line"in e||"column"in e?ew(e):""}function ew(e){return eA(e&&e.line)+":"+eA(e&&e.column)}function JE(e){return ew(e&&e.start)+"-"+ew(e&&e.end)}function eA(e){return e&&typeof e=="number"?e:1}class Na extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=tf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Na.prototype.file="";Na.prototype.name="";Na.prototype.reason="";Na.prototype.message="";Na.prototype.stack="";Na.prototype.column=void 0;Na.prototype.line=void 0;Na.prototype.ancestors=void 0;Na.prototype.cause=void 0;Na.prototype.fatal=void 0;Na.prototype.place=void 0;Na.prototype.ruleId=void 0;Na.prototype.source=void 0;const DS={}.hasOwnProperty,Lie=new Map,Fie=/[A-Z]/g,Rie=new Set(["table","tbody","thead","tfoot","tr"]),$ie=new Set(["td","th"]),wL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Bie(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Yie(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Kie(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?PS:iie,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=kL(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function kL(e,t,n){if(t.type==="element")return Uie(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return zie(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return qie(e,t,n);if(t.type==="mdxjsEsm")return Vie(e,t);if(t.type==="root")return Wie(e,t,n);if(t.type==="text")return Hie(e,t)}function Uie(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=PS,e.schema=a),e.ancestors.push(t);const i=NL(e,t.tagName,!1),o=Gie(e,t);let s=_S(e,t);return Rie.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Gae(l):!0})),SL(e,o,i,t),IS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function zie(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Gf(e,t.position)}function Vie(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Gf(e,t.position)}function qie(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=PS,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:NL(e,t.name,!0),o=Xie(e,t),s=_S(e,t);return SL(e,o,i,t),IS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Wie(e,t,n){const r={};return IS(r,_S(e,t)),e.create(t,e.Fragment,r,n)}function Hie(e,t){return t.value}function SL(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function IS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Kie(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function Yie(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=OS(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Gie(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&DS.call(t.properties,a)){const i=Qie(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&$ie.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Xie(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Gf(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Gf(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function _S(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Lie;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const c=a.get(l)||0;o=l+"-"+c,a.set(l,c+1)}}const s=kL(e,i,o);s!==void 0&&n.push(s)}return n}function Qie(e,t,n){const r=nie(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?qae(n):oie(n)),r.property==="style"){let a=typeof n=="object"?n:Zie(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Jie(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?Jae[r.property]||r.property:r.attribute,n]}}function Zie(e,t){try{return Iie(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Na("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=wL+"#cannot-parse-style-attribute",a}}function NL(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=qE(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=qE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return DS.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Gf(e)}function Gf(e,t){const n=new Na("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Jie(e){const t={};let n;for(n in e)DS.call(e,n)&&(t[eoe(n)]=e[n]);return t}function eoe(e){let t=e.replace(Fie,toe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function toe(e){return"-"+e.toLowerCase()}const Mv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},noe={};function LS(e,t){const n=noe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return jL(e,r,a)}function jL(e,t,n){if(roe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return tA(e.children,t,n)}return Array.isArray(e)?tA(e,t,n):""}function tA(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=jL(e[a],t,n);return r.join("")}function roe(e){return!!(e&&typeof e=="object")}const nA=document.createElement("i");function FS(e){const t="&"+e+";";nA.innerHTML=t;const n=nA.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ki(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function zi(e,t){return e.length>0?(ki(e,e.length,0,t),e):t}const rA={}.hasOwnProperty;function CL(e){const t={};let n=-1;for(;++n<e.length;)aoe(t,e[n]);return t}function aoe(e,t){let n;for(n in t){const r=(rA.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){rA.call(r,i)||(r[i]=[]);const o=a[i];ioe(r[i],Array.isArray(o)?o:o?[o]:[])}}}function ioe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ki(e,0,0,r)}function ML(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function mo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ia=Nl(/[A-Za-z]/),ka=Nl(/[\dA-Za-z]/),ooe=Nl(/[#-'*+\--9=?A-Z^-~]/);function Dg(e){return e!==null&&(e<32||e===127)}const tw=Nl(/\d/),soe=Nl(/[\dA-Fa-f]/),loe=Nl(/[!-/:-@[-`{-~]/);function It(e){return e!==null&&e<-2}function Fn(e){return e!==null&&(e<0||e===32)}function sn(e){return e===-2||e===-1||e===32}const dy=Nl(new RegExp("\\p{P}|\\p{S}","u")),kc=Nl(/\s/);function Nl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ld(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&ka(e.charCodeAt(n+1))&&ka(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function gn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return sn(l)?(e.enter(n),s(l)):t(l)}function s(l){return sn(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const coe={tokenize:uoe};function uoe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),gn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return It(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const doe={tokenize:foe},aA={tokenize:poe};function foe(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}g(r);let M=S;for(;M<t.events.length;)t.events[M][1].end={...N},M++;return ki(t.events,C+1,0,t.events.slice(S)),t.events.length=M,c(w)}return s(w)}function c(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(aA,d,f)(w)}function d(w){return a&&b(),g(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(aA,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&b(),g(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),y(w)}function y(w){if(w===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return It(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),y)}function x(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(C),t.parser.lazy[w.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<o&&(!a.events[N][1].end||a.events[N][1].end.offset>o))return;const M=t.events.length;let T=M,L,A;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(L){A=t.events[T][1].end;break}L=!0}for(g(r),N=M;N<t.events.length;)t.events[N][1].end={...A},N++;ki(t.events,T+1,0,t.events.slice(M)),t.events.length=N}}function g(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function poe(e,t,n){return gn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Wu(e){if(e===null||Fn(e)||kc(e))return 1;if(dy(e))return 2}function fy(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const nw={name:"attention",resolveAll:moe,tokenize:hoe};function moe(e,t){let n=-1,r,a,i,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};iA(f,-l),iA(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=zi(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=zi(c,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),c=zi(c,fy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=zi(c,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=zi(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ki(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function hoe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Wu(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const c=e.exit("attentionSequence"),d=Wu(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return c._open=!!(i===42?f:f&&(a||!p)),c._close=!!(i===42?p:p&&(d||!f)),t(l)}}function iA(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const goe={name:"autolink",tokenize:yoe};function yoe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ia(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||ka(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||ka(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Dg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):ooe(m)?(e.consume(m),c):n(m)}function d(m){return ka(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||ka(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Fp={partial:!0,tokenize:voe};function voe(e,t,n){return r;function r(i){return sn(i)?gn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||It(i)?t(i):n(i)}}const EL={continuation:{tokenize:xoe},exit:woe,name:"blockQuote",tokenize:boe};function boe(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return sn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function xoe(e,t,n){const r=this;return a;function a(o){return sn(o)?gn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(EL,t,n)(o)}}function woe(e){e.exit("blockQuote")}const AL={name:"characterEscape",tokenize:koe};function koe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return loe(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const PL={name:"characterReference",tokenize:Soe};function Soe(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,o=ka,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=soe,d):(e.enter("characterReferenceValue"),i=7,o=tw,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===ka&&!FS(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const oA={partial:!0,tokenize:joe},sA={concrete:!0,name:"codeFenced",tokenize:Noe};function Noe(e,t,n){const r=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(N){return c(N)}function c(N){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===s?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),sn(N)?gn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||It(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(oA,y,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||It(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):sn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),gn(e,m,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),p)}function m(N){return N===null||It(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||It(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===s?n(N):(e.consume(N),h)}function y(N){return e.attempt(a,S,x)(N)}function x(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),g}function g(N){return i>0&&sn(N)?gn(e,b,"linePrefix",i+1)(N):b(N)}function b(N){return N===null||It(N)?e.check(oA,y,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||It(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,M,T){let L=0;return A;function A(J){return N.enter("lineEnding"),N.consume(J),N.exit("lineEnding"),P}function P(J){return N.enter("codeFencedFence"),sn(J)?gn(N,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):I(J)}function I(J){return J===s?(N.enter("codeFencedFenceSequence"),z(J)):T(J)}function z(J){return J===s?(L++,N.consume(J),z):L>=o?(N.exit("codeFencedFenceSequence"),sn(J)?gn(N,G,"whitespace")(J):G(J)):T(J)}function G(J){return J===null||It(J)?(N.exit("codeFencedFence"),M(J)):T(J)}}}function joe(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ev={name:"codeIndented",tokenize:Moe},Coe={partial:!0,tokenize:Eoe};function Moe(e,t,n){const r=this;return a;function a(c){return e.enter("codeIndented"),gn(e,i,"linePrefix",5)(c)}function i(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):It(c)?e.attempt(Coe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||It(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function Eoe(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):It(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):gn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):It(o)?a(o):n(o)}}const Aoe={name:"codeText",previous:Toe,resolve:Poe,tokenize:Ooe};function Poe(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Toe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ooe(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):It(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||It(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",c(f))}}class Doe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Dd(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Dd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Dd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Dd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Dd(this.left,n.reverse())}}}function Dd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function TL(e){const t={};let n=-1,r,a,i,o,s,l,c;const d=new Doe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ioe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return ki(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Ioe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,p=-1,m=n,h=0,y=0;const x=[y];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const g=s.slice(x[p],x[p+1]),b=i.pop();l.push([b,b+g.length-1]),e.splice(b,2,g)}for(l.reverse(),p=-1;++p<l.length;)c[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return c}const _oe={resolve:Foe,tokenize:Roe},Loe={partial:!0,tokenize:$oe};function Foe(e){return TL(e),e}function Roe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):It(s)?e.check(Loe,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function $oe(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),gn(e,i,"linePrefix")}function i(o){if(o===null||It(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function OL(e,t,n,r,a,i,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(g){return g===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(g),e.exit(i),p):g===null||g===32||g===41||Dg(g)?n(g):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(s),p(g)):g===null||g===60||It(g)?n(g):(e.consume(g),g===92?h:m)}function h(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Fn(g))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||Dg(g)?n(g):(e.consume(g),g===92?x:y)}function x(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function DL(e,t,n,r,a,i){const o=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):It(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||It(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!sn(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function IL(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),c(p))}function c(p){return p===o?(e.exit(i),l(o)):p===null?n(p):It(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),gn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||It(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function nf(e,t){let n;return r;function r(a){return It(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):sn(a)?gn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const Boe={name:"definition",tokenize:zoe},Uoe={partial:!0,tokenize:Voe};function zoe(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return DL.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=mo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Fn(m)?nf(e,c)(m):c(m)}function c(m){return OL(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Uoe,f,f)(m)}function f(m){return sn(m)?gn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||It(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function Voe(e,t,n){return r;function r(s){return Fn(s)?nf(e,a)(s):n(s)}function a(s){return IL(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return sn(s)?gn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||It(s)?t(s):n(s)}}const qoe={name:"hardBreakEscape",tokenize:Woe};function Woe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return It(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const Hoe={name:"headingAtx",resolve:Koe,tokenize:Yoe};function Koe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ki(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function Yoe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Fn(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||It(d)?(e.exit("atxHeading"),t(d)):sn(d)?gn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Fn(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const Goe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lA=["pre","script","style","textarea"],Xoe={concrete:!0,name:"htmlFlow",resolveTo:Joe,tokenize:ese},Qoe={partial:!0,tokenize:nse},Zoe={partial:!0,tokenize:tse};function Joe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ese(e,t,n){const r=this;let a,i,o,s,l;return c;function c(j){return d(j)}function d(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),f}function f(j){return j===33?(e.consume(j),p):j===47?(e.consume(j),i=!0,y):j===63?(e.consume(j),a=3,r.interrupt?t:k):Ia(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function p(j){return j===45?(e.consume(j),a=2,m):j===91?(e.consume(j),a=5,s=0,h):Ia(j)?(e.consume(j),a=4,r.interrupt?t:k):n(j)}function m(j){return j===45?(e.consume(j),r.interrupt?t:k):n(j)}function h(j){const V="CDATA[";return j===V.charCodeAt(s++)?(e.consume(j),s===V.length?r.interrupt?t:I:h):n(j)}function y(j){return Ia(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function x(j){if(j===null||j===47||j===62||Fn(j)){const V=j===47,Q=o.toLowerCase();return!V&&!i&&lA.includes(Q)?(a=1,r.interrupt?t(j):I(j)):Goe.includes(o.toLowerCase())?(a=6,V?(e.consume(j),g):r.interrupt?t(j):I(j)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):i?b(j):w(j))}return j===45||ka(j)?(e.consume(j),o+=String.fromCharCode(j),x):n(j)}function g(j){return j===62?(e.consume(j),r.interrupt?t:I):n(j)}function b(j){return sn(j)?(e.consume(j),b):A(j)}function w(j){return j===47?(e.consume(j),A):j===58||j===95||Ia(j)?(e.consume(j),S):sn(j)?(e.consume(j),w):A(j)}function S(j){return j===45||j===46||j===58||j===95||ka(j)?(e.consume(j),S):C(j)}function C(j){return j===61?(e.consume(j),N):sn(j)?(e.consume(j),C):w(j)}function N(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),l=j,M):sn(j)?(e.consume(j),N):T(j)}function M(j){return j===l?(e.consume(j),l=null,L):j===null||It(j)?n(j):(e.consume(j),M)}function T(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Fn(j)?C(j):(e.consume(j),T)}function L(j){return j===47||j===62||sn(j)?w(j):n(j)}function A(j){return j===62?(e.consume(j),P):n(j)}function P(j){return j===null||It(j)?I(j):sn(j)?(e.consume(j),P):n(j)}function I(j){return j===45&&a===2?(e.consume(j),ce):j===60&&a===1?(e.consume(j),$):j===62&&a===4?(e.consume(j),O):j===63&&a===3?(e.consume(j),k):j===93&&a===5?(e.consume(j),re):It(j)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(Qoe,E,z)(j)):j===null||It(j)?(e.exit("htmlFlowData"),z(j)):(e.consume(j),I)}function z(j){return e.check(Zoe,G,E)(j)}function G(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),J}function J(j){return j===null||It(j)?z(j):(e.enter("htmlFlowData"),I(j))}function ce(j){return j===45?(e.consume(j),k):I(j)}function $(j){return j===47?(e.consume(j),o="",B):I(j)}function B(j){if(j===62){const V=o.toLowerCase();return lA.includes(V)?(e.consume(j),O):I(j)}return Ia(j)&&o.length<8?(e.consume(j),o+=String.fromCharCode(j),B):I(j)}function re(j){return j===93?(e.consume(j),k):I(j)}function k(j){return j===62?(e.consume(j),O):j===45&&a===2?(e.consume(j),k):I(j)}function O(j){return j===null||It(j)?(e.exit("htmlFlowData"),E(j)):(e.consume(j),O)}function E(j){return e.exit("htmlFlow"),t(j)}}function tse(e,t,n){const r=this;return a;function a(o){return It(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function nse(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Fp,t,n)}}const rse={name:"htmlText",tokenize:ase};function ase(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),C):k===63?(e.consume(k),w):Ia(k)?(e.consume(k),T):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Ia(k)?(e.consume(k),b):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):It(k)?(o=f,$(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?ce(k):k===45?p(k):f(k)}function h(k){const O="CDATA[";return k===O.charCodeAt(i++)?(e.consume(k),i===O.length?y:h):n(k)}function y(k){return k===null?n(k):k===93?(e.consume(k),x):It(k)?(o=y,$(k)):(e.consume(k),y)}function x(k){return k===93?(e.consume(k),g):y(k)}function g(k){return k===62?ce(k):k===93?(e.consume(k),g):y(k)}function b(k){return k===null||k===62?ce(k):It(k)?(o=b,$(k)):(e.consume(k),b)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):It(k)?(o=w,$(k)):(e.consume(k),w)}function S(k){return k===62?ce(k):w(k)}function C(k){return Ia(k)?(e.consume(k),N):n(k)}function N(k){return k===45||ka(k)?(e.consume(k),N):M(k)}function M(k){return It(k)?(o=M,$(k)):sn(k)?(e.consume(k),M):ce(k)}function T(k){return k===45||ka(k)?(e.consume(k),T):k===47||k===62||Fn(k)?L(k):n(k)}function L(k){return k===47?(e.consume(k),ce):k===58||k===95||Ia(k)?(e.consume(k),A):It(k)?(o=L,$(k)):sn(k)?(e.consume(k),L):ce(k)}function A(k){return k===45||k===46||k===58||k===95||ka(k)?(e.consume(k),A):P(k)}function P(k){return k===61?(e.consume(k),I):It(k)?(o=P,$(k)):sn(k)?(e.consume(k),P):L(k)}function I(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,z):It(k)?(o=I,$(k)):sn(k)?(e.consume(k),I):(e.consume(k),G)}function z(k){return k===a?(e.consume(k),a=void 0,J):k===null?n(k):It(k)?(o=z,$(k)):(e.consume(k),z)}function G(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Fn(k)?L(k):(e.consume(k),G)}function J(k){return k===47||k===62||Fn(k)?L(k):n(k)}function ce(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function $(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),B}function B(k){return sn(k)?gn(e,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):re(k)}function re(k){return e.enter("htmlTextData"),o(k)}}const RS={name:"labelEnd",resolveAll:lse,resolveTo:cse,tokenize:use},ise={tokenize:dse},ose={tokenize:fse},sse={tokenize:pse};function lse(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&ki(e,0,e.length,n),e}function cse(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=zi(s,e.slice(i+1,i+r+3)),s=zi(s,[["enter",d,t]]),s=zi(s,fy(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=zi(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=zi(s,e.slice(o+1)),s=zi(s,[["exit",l,t]]),ki(e,i,e.length,s),e}function use(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(mo(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(ise,d,o?d:f)(p):p===91?e.attempt(ose,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(sse,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function dse(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Fn(f)?nf(e,i)(f):i(f)}function i(f){return f===41?d(f):OL(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Fn(f)?nf(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?IL(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Fn(f)?nf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function fse(e,t,n){const r=this;return a;function a(s){return DL.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(mo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function pse(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const mse={name:"labelStartImage",resolveAll:RS.resolveAll,tokenize:hse};function hse(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const gse={name:"labelStartLink",resolveAll:RS.resolveAll,tokenize:yse};function yse(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Av={name:"lineEnding",tokenize:vse};function vse(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),gn(e,t,"linePrefix")}}const sh={name:"thematicBreak",tokenize:bse};function bse(e,t,n){let r=0,a;return i;function i(c){return e.enter("thematicBreak"),o(c)}function o(c){return a=c,s(c)}function s(c){return c===a?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||It(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===a?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),sn(c)?gn(e,s,"whitespace")(c):s(c))}}const Ka={continuation:{tokenize:Sse},exit:jse,name:"list",tokenize:kse},xse={partial:!0,tokenize:Cse},wse={partial:!0,tokenize:Nse};function kse(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:tw(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(sh,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return tw(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Fp,r.interrupt?n:d,e.attempt(xse,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return sn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Sse(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Fp,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!sn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(wse,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,gn(e,e.attempt(Ka,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Nse(e,t,n){const r=this;return gn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function jse(e){e.exit(this.containerState.type)}function Cse(e,t,n){const r=this;return gn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!sn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const cA={name:"setextUnderline",resolveTo:Mse,tokenize:Ese};function Mse(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Ese(e,t,n){const r=this;let a;return i;function i(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===a?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),sn(c)?gn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||It(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Ase={tokenize:Pse};function Pse(e){const t=this,n=e.attempt(Fp,r,e.attempt(this.parser.constructs.flowInitial,a,gn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(_oe,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Tse={resolveAll:LL()},Ose=_L("string"),Dse=_L("text");function _L(e){return{resolveAll:LL(e==="text"?Ise:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return c(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function LL(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Ise(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const c=a[i];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const _se={42:Ka,43:Ka,45:Ka,48:Ka,49:Ka,50:Ka,51:Ka,52:Ka,53:Ka,54:Ka,55:Ka,56:Ka,57:Ka,62:EL},Lse={91:Boe},Fse={[-2]:Ev,[-1]:Ev,32:Ev},Rse={35:Hoe,42:sh,45:[cA,sh],60:Xoe,61:cA,95:sh,96:sA,126:sA},$se={38:PL,92:AL},Bse={[-5]:Av,[-4]:Av,[-3]:Av,33:mse,38:PL,42:nw,60:[goe,rse],91:gse,92:[qoe,AL],93:RS,95:nw,96:Aoe},Use={null:[nw,Tse]},zse={null:[42,95]},Vse={null:[]},qse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:zse,contentInitial:Lse,disable:Vse,document:_se,flow:Rse,flowInitial:Fse,insideSpan:Use,string:$se,text:Bse},Symbol.toStringTag,{value:"Module"}));function Wse(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:M(C),check:M(N),consume:b,enter:w,exit:S,interrupt:M(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function f(P){return o=zi(o,P),x(),o[o.length-1]!==null?[]:(T(t,0),c.events=fy(i,c.events,c),c.events)}function p(P,I){return Kse(m(P),I)}function m(P){return Hse(o,P)}function h(){const{_bufferIndex:P,_index:I,line:z,column:G,offset:J}=r;return{_bufferIndex:P,_index:I,line:z,column:G,offset:J}}function y(P){a[P.line]=P.column,A()}function x(){let P;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<I.length;)g(I.charCodeAt(r._bufferIndex));else g(I)}}function g(P){d=d(P)}function b(P){It(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,A()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=P}function w(P,I){const z=I||{};return z.type=P,z.start=h(),c.events.push(["enter",z,c]),s.push(z),z}function S(P){const I=s.pop();return I.end=h(),c.events.push(["exit",I,c]),I}function C(P,I){T(P,I.from)}function N(P,I){I.restore()}function M(P,I){return z;function z(G,J,ce){let $,B,re,k;return Array.isArray(G)?E(G):"tokenize"in G?E([G]):O(G);function O(W){return H;function H(ee){const _=ee!==null&&W[ee],te=ee!==null&&W.null,ge=[...Array.isArray(_)?_:_?[_]:[],...Array.isArray(te)?te:te?[te]:[]];return E(ge)(ee)}}function E(W){return $=W,B=0,W.length===0?ce:j(W[B])}function j(W){return H;function H(ee){return k=L(),re=W,W.partial||(c.currentConstruct=W),W.name&&c.parser.constructs.disable.null.includes(W.name)?Q():W.tokenize.call(I?Object.assign(Object.create(c),I):c,l,V,Q)(ee)}}function V(W){return P(re,k),J}function Q(W){return k.restore(),++B<$.length?j($[B]):ce}}}function T(P,I){P.resolveAll&&!i.includes(P)&&i.push(P),P.resolve&&ki(c.events,I,c.events.length-I,P.resolve(c.events.slice(I),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function L(){const P=h(),I=c.previous,z=c.currentConstruct,G=c.events.length,J=Array.from(s);return{from:G,restore:ce};function ce(){r=P,c.previous=I,c.currentConstruct=z,c.events.length=G,s=J,A()}}function A(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Hse(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function Kse(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function Yse(e){const t={constructs:CL([qse,...(e||{}).extensions||[]]),content:n(coe),defined:[],document:n(doe),flow:n(Ase),lazy:{},string:n(Ose),text:n(Dse)};return t;function n(r){return a;function a(i){return Wse(t,r,i)}}}function Gse(e){for(;!TL(e););return e}const uA=/[\0\t\n\r]/g;function Xse(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let c,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(uA.lastIndex=f,c=uA.exec(i),p=c&&c.index!==void 0?c.index:i.length,m=i.charCodeAt(p),!c){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Qse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Zse(e){return e.replace(Qse,Jse)}function Jse(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return ML(n.slice(a?2:1),a?16:10)}return FS(n)||e}const FL={}.hasOwnProperty;function ele(e,t,n){return typeof t!="string"&&(n=t,t=void 0),tle(n)(Gse(Yse(n).document().write(Xse()(e,t,!0))))}function tle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(ue),autolinkProtocol:L,autolinkEmail:L,atxHeading:i(F),blockQuote:i(te),characterEscape:L,characterReference:L,codeFenced:i(ge),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(ge,o),codeText:i(R,o),codeTextData:L,data:L,codeFlowValue:L,definition:i(ae),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(K),hardBreakEscape:i(ie),hardBreakTrailing:i(ie),htmlFlow:i(be,o),htmlFlowData:L,htmlText:i(be,o),htmlTextData:L,image:i(et),label:o,link:i(ue),listItem:i($e),listItemValue:p,listOrdered:i(We,f),listUnordered:i(We),paragraph:i(gt),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(F),strong:i(Gt),thematicBreak:i(An)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:_,autolinkProtocol:ee,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:W,characterReference:H,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:A,codeIndented:l(g),codeText:l(J),codeTextData:A,data:A,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(z),htmlFlowData:A,htmlText:l(G),htmlTextData:A,image:l($),label:re,labelText:B,lineEnding:P,link:l(ce),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:V,resourceDestinationString:k,resourceTitleString:O,resource:E,setextHeading:l(T),setextHeadingLineSequence:M,setextHeadingText:N,strong:l(),thematicBreak:l()}};RL(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(he){let Fe={type:"root",children:[]};const Tt={stack:[Fe],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},_t=[];let pn=-1;for(;++pn<he.length;)if(he[pn][1].type==="listOrdered"||he[pn][1].type==="listUnordered")if(he[pn][0]==="enter")_t.push(pn);else{const Cn=_t.pop();pn=a(he,Cn,pn)}for(pn=-1;++pn<he.length;){const Cn=t[he[pn][0]];FL.call(Cn,he[pn][1].type)&&Cn[he[pn][1].type].call(Object.assign({sliceSerialize:he[pn][2].sliceSerialize},Tt),he[pn][1])}if(Tt.tokenStack.length>0){const Cn=Tt.tokenStack[Tt.tokenStack.length-1];(Cn[1]||dA).call(Tt,void 0,Cn[0])}for(Fe.position={start:$s(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:$s(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},pn=-1;++pn<t.transforms.length;)Fe=t.transforms[pn](Fe)||Fe;return Fe}function a(he,Fe,Tt){let _t=Fe-1,pn=-1,Cn=!1,Hn,ja,Ei,pa;for(;++_t<=Tt;){const Zt=he[_t];switch(Zt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Zt[0]==="enter"?pn++:pn--,pa=void 0;break}case"lineEndingBlank":{Zt[0]==="enter"&&(Hn&&!pa&&!pn&&!Ei&&(Ei=_t),pa=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pa=void 0}if(!pn&&Zt[0]==="enter"&&Zt[1].type==="listItemPrefix"||pn===-1&&Zt[0]==="exit"&&(Zt[1].type==="listUnordered"||Zt[1].type==="listOrdered")){if(Hn){let cn=_t;for(ja=void 0;cn--;){const Cr=he[cn];if(Cr[1].type==="lineEnding"||Cr[1].type==="lineEndingBlank"){if(Cr[0]==="exit")continue;ja&&(he[ja][1].type="lineEndingBlank",Cn=!0),Cr[1].type="lineEnding",ja=cn}else if(!(Cr[1].type==="linePrefix"||Cr[1].type==="blockQuotePrefix"||Cr[1].type==="blockQuotePrefixWhitespace"||Cr[1].type==="blockQuoteMarker"||Cr[1].type==="listItemIndent"))break}Ei&&(!ja||Ei<ja)&&(Hn._spread=!0),Hn.end=Object.assign({},ja?he[ja][1].start:Zt[1].end),he.splice(ja||_t,0,["exit",Hn,Zt[2]]),_t++,Tt++}if(Zt[1].type==="listItemPrefix"){const cn={type:"listItem",_spread:!1,start:Object.assign({},Zt[1].start),end:void 0};Hn=cn,he.splice(_t,0,["enter",cn,Zt[2]]),_t++,Tt++,Ei=void 0,pa=!0}}}return he[Fe][1]._spread=Cn,Tt}function i(he,Fe){return Tt;function Tt(_t){s.call(this,he(_t),_t),Fe&&Fe.call(this,_t)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(he,Fe,Tt){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Fe,Tt||void 0]),he.position={start:$s(Fe.start),end:void 0}}function l(he){return Fe;function Fe(Tt){he&&he.call(this,Tt),c.call(this,Tt)}}function c(he,Fe){const Tt=this.stack.pop(),_t=this.tokenStack.pop();if(_t)_t[0].type!==he.type&&(Fe?Fe.call(this,he,_t[0]):(_t[1]||dA).call(this,he,_t[0]));else throw new Error("Cannot close `"+he.type+"` ("+tf({start:he.start,end:he.end})+"): its not open");Tt.position.end=$s(he.end)}function d(){return LS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(he){if(this.data.expectingFirstListItemValue){const Fe=this.stack[this.stack.length-2];Fe.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function m(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.lang=he}function h(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.meta=he}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=he.replace(/(\r?\n|\r)$/g,"")}function b(he){const Fe=this.resume(),Tt=this.stack[this.stack.length-1];Tt.label=Fe,Tt.identifier=mo(this.sliceSerialize(he)).toLowerCase()}function w(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=he}function S(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=he}function C(he){const Fe=this.stack[this.stack.length-1];if(!Fe.depth){const Tt=this.sliceSerialize(he).length;Fe.depth=Tt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function M(he){const Fe=this.stack[this.stack.length-1];Fe.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function L(he){const Fe=this.stack[this.stack.length-1].children;let Tt=Fe[Fe.length-1];(!Tt||Tt.type!=="text")&&(Tt=Sn(),Tt.position={start:$s(he.start),end:void 0},Fe.push(Tt)),this.stack.push(Tt)}function A(he){const Fe=this.stack.pop();Fe.value+=this.sliceSerialize(he),Fe.position.end=$s(he.end)}function P(he){const Fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Tt=Fe.children[Fe.children.length-1];Tt.position.end=$s(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Fe.type)&&(L.call(this,he),A.call(this,he))}function I(){this.data.atHardBreak=!0}function z(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=he}function G(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=he}function J(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=he}function ce(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Fe,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function $(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Fe,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function B(he){const Fe=this.sliceSerialize(he),Tt=this.stack[this.stack.length-2];Tt.label=Zse(Fe),Tt.identifier=mo(Fe).toLowerCase()}function re(){const he=this.stack[this.stack.length-1],Fe=this.resume(),Tt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Tt.type==="link"){const _t=he.children;Tt.children=_t}else Tt.alt=Fe}function k(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=he}function O(){const he=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=he}function E(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function V(he){const Fe=this.resume(),Tt=this.stack[this.stack.length-1];Tt.label=Fe,Tt.identifier=mo(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function Q(he){this.data.characterReferenceType=he.type}function W(he){const Fe=this.sliceSerialize(he),Tt=this.data.characterReferenceType;let _t;Tt?(_t=ML(Fe,Tt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_t=FS(Fe);const pn=this.stack[this.stack.length-1];pn.value+=_t}function H(he){const Fe=this.stack.pop();Fe.position.end=$s(he.end)}function ee(he){A.call(this,he);const Fe=this.stack[this.stack.length-1];Fe.url=this.sliceSerialize(he)}function _(he){A.call(this,he);const Fe=this.stack[this.stack.length-1];Fe.url="mailto:"+this.sliceSerialize(he)}function te(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function R(){return{type:"inlineCode",value:""}}function ae(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function K(){return{type:"emphasis",children:[]}}function F(){return{type:"heading",depth:0,children:[]}}function ie(){return{type:"break"}}function be(){return{type:"html",value:""}}function et(){return{type:"image",title:null,url:"",alt:null}}function ue(){return{type:"link",title:null,url:"",children:[]}}function We(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function $e(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function Sn(){return{type:"text",value:""}}function An(){return{type:"thematicBreak"}}}function $s(e){return{line:e.line,column:e.column,offset:e.offset}}function RL(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?RL(e,r):nle(e,r)}}function nle(e,t){let n;for(n in t)if(FL.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function dA(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+tf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+tf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+tf({start:t.start,end:t.end})+") is still open")}function rle(e){const t=this;t.parser=n;function n(r){return ele(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ale(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function ile(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ole(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function sle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=ld(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function ule(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function $L(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function fle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $L(e,t);const a={src:ld(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function ple(e,t){const n={src:ld(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function mle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function hle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $L(e,t);const a={href:ld(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function gle(e,t){const n={href:ld(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function yle(e,t,n){const r=e.all(t),a=n?vle(n):BL(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)}function vle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=BL(n[r])}return t}function BL(e){return e.spread??e.children.length>1}function ble(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function xle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function kle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Sle(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=OS(t.children[1]),l=bL(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Nle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function jle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const fA=9,pA=32;function Cle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(mA(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(mA(t.slice(a),a>0,!1)),i.join("")}function mA(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===fA||i===pA;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===fA||i===pA;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Mle(e,t){const n={type:"text",value:Cle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Ele(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Ale={blockquote:ale,break:ile,code:ole,delete:sle,emphasis:lle,footnoteReference:cle,heading:ule,html:dle,imageReference:fle,image:ple,inlineCode:mle,linkReference:hle,link:gle,listItem:yle,list:ble,paragraph:xle,root:wle,strong:kle,table:Sle,tableCell:jle,tableRow:Nle,text:Mle,thematicBreak:Ele,toml:Tm,yaml:Tm,definition:Tm,footnoteDefinition:Tm};function Tm(){}const UL=-1,py=0,rf=1,Ig=2,$S=3,BS=4,US=5,zS=6,zL=7,VL=8,hA=typeof self=="object"?self:globalThis,Ple=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case py:case UL:return n(o,a);case rf:{const s=n([],a);for(const l of o)s.push(r(l));return s}case Ig:{const s=n({},a);for(const[l,c]of o)s[r(l)]=r(c);return s}case $S:return n(new Date(o),a);case BS:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case US:{const s=n(new Map,a);for(const[l,c]of o)s.set(r(l),r(c));return s}case zS:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case zL:{const{name:s,message:l}=o;return n(new hA[s](l),a)}case VL:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new hA[i](o),a)};return r},gA=e=>Ple(new Map,e)(0),Gc="",{toString:Tle}={},{keys:Ole}=Object,Id=e=>{const t=typeof e;if(t!=="object"||!e)return[py,t];const n=Tle.call(e).slice(8,-1);switch(n){case"Array":return[rf,Gc];case"Object":return[Ig,Gc];case"Date":return[$S,Gc];case"RegExp":return[BS,Gc];case"Map":return[US,Gc];case"Set":return[zS,Gc];case"DataView":return[rf,n]}return n.includes("Array")?[rf,n]:n.includes("Error")?[zL,n]:[Ig,n]},Om=([e,t])=>e===py&&(t==="function"||t==="symbol"),Dle=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=Id(o);switch(s){case py:{let d=o;switch(l){case"bigint":s=VL,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([UL],o)}return a([s,d],o)}case rf:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case Ig:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Ole(o))(e||!Om(Id(o[p])))&&d.push([i(p),i(o[p])]);return f}case $S:return a([s,o.toISOString()],o);case BS:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case US:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Om(Id(p))||Om(Id(m))))&&d.push([i(p),i(m)]);return f}case zS:{const d=[],f=a([s,d],o);for(const p of o)(e||!Om(Id(p)))&&d.push(i(p));return f}}const{message:c}=o;return a([s,{name:l,message:c}],o)};return i},yA=(e,{json:t,lossy:n}={})=>{const r=[];return Dle(!(t||n),!!t,new Map,r)(e),r},_g=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?gA(yA(e,t)):structuredClone(e):(e,t)=>gA(yA(e,t));function Ile(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function _le(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Lle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ile,r=e.options.footnoteBackLabel||_le,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=ld(f.toLowerCase());let m=0;const h=[],y=e.footnoteCounts.get(f);for(;y!==void 0&&++m<=y;){h.length>0&&h.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{..._g(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const my=function(e){if(e==null)return Ble;if(typeof e=="function")return hy(e);if(typeof e=="object")return Array.isArray(e)?Fle(e):Rle(e);if(typeof e=="string")return $le(e);throw new Error("Expected function, string, or object as test")};function Fle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=my(e[n]);return hy(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Rle(e){const t=e;return hy(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function $le(e){return hy(t);function t(n){return n&&n.type===e}}function hy(e){return t;function t(n,r,a){return!!(Ule(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Ble(){return!0}function Ule(e){return e!==null&&typeof e=="object"&&"type"in e}const qL=[],zle=!0,rw=!1,Vle="skip";function WL(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=my(a),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=qL,h,y,x;if((!t||i(l,c,d[d.length-1]||void 0))&&(m=qle(n(l,d)),m[0]===rw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==Vle)for(y=(r?g.children.length:-1)+o,x=d.concat(g);y>-1&&y<g.children.length;){const b=g.children[y];if(h=s(b,y,x)(),h[0]===rw)return h;y=typeof h[1]=="number"?h[1]:y+o}}return m}}}function qle(e){return Array.isArray(e)?e:typeof e=="number"?[zle,e]:e==null?qL:[e]}function VS(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),WL(e,i,s,a);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const aw={}.hasOwnProperty,Wle={};function Hle(e,t){const n=t||Wle,r=new Map,a=new Map,i=new Map,o={...Ale,...n.handlers},s={all:c,applyData:Yle,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:Kle,wrap:Xle};return VS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(aw.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...y}=d,x=_g(y);return x.children=s.all(d),x}return _g(d)}return(s.options.unknownHandler||Gle)(s,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=vA(h.value)),!Array.isArray(h)&&h.type==="element")){const y=h.children[0];y&&y.type==="text"&&(y.value=vA(y.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function Kle(e,t){e.position&&(t.position=_ie(e))}function Yle(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,_g(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Gle(e,t){const n=t.data||{},r="value"in t&&!(aw.call(n,"hProperties")||aw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Xle(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function vA(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function bA(e,t){const n=Hle(e,t),r=n.one(e,void 0),a=Lle(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Qle(e,t){return e&&"run"in e?async function(n,r){const a=bA(n,{file:r,...t});await e.run(a,r)}:function(n,r){return bA(n,{file:r,...e||t})}}function xA(e){if(e)throw e}var lh=Object.prototype.hasOwnProperty,HL=Object.prototype.toString,wA=Object.defineProperty,kA=Object.getOwnPropertyDescriptor,SA=function(e){return typeof Array.isArray=="function"?Array.isArray(e):HL.call(e)==="[object Array]"},NA=function(e){if(!e||HL.call(e)!=="[object Object]")return!1;var t=lh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&lh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||lh.call(e,r)},jA=function(e,t){wA&&t.name==="__proto__"?wA(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},CA=function(e,t){if(t==="__proto__")if(lh.call(e,t)){if(kA)return kA(e,t).value}else return;return e[t]},Zle=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=CA(s,n),a=CA(t,n),s!==a&&(d&&a&&(NA(a)||(i=SA(a)))?(i?(i=!1,o=r&&SA(r)?r:[]):o=r&&NA(r)?r:{},jA(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&jA(s,{name:n,newValue:a}));return s};const Pv=wo(Zle);function iw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Jle(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...c){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(c[f]===null||c[f]===void 0)&&(c[f]=a[f]);a=c,d?ece(d,s)(...c):o(null,...c)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function ece(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Do={basename:tce,dirname:nce,extname:rce,join:ace,sep:"/"};function tce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Rp(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function nce(e){if(Rp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function rce(e){Rp(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function ace(...e){let t=-1,n;for(;++t<e.length;)Rp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ice(n)}function ice(e){Rp(e);const t=e.codePointAt(0)===47;let n=oce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function oce(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function Rp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sce={cwd:lce};function lce(){return"/"}function ow(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function cce(e){if(typeof e=="string")e=new URL(e);else if(!ow(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return uce(e)}function uce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Tv=["history","path","basename","stem","extname","dirname"];class KL{constructor(t){let n;t?ow(t)?n={path:t}:typeof t=="string"||dce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":sce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Tv.length;){const i=Tv[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Tv.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Do.basename(this.path):void 0}set basename(t){Dv(t,"basename"),Ov(t,"basename"),this.path=Do.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Do.dirname(this.path):void 0}set dirname(t){MA(this.basename,"dirname"),this.path=Do.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Do.extname(this.path):void 0}set extname(t){if(Ov(t,"extname"),MA(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Do.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ow(t)&&(t=cce(t)),Dv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Do.basename(this.path,this.extname):void 0}set stem(t){Dv(t,"stem"),Ov(t,"stem"),this.path=Do.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Na(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ov(e,t){if(e&&e.includes(Do.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Do.sep+"`")}function Dv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function MA(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function dce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const fce=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},pce={}.hasOwnProperty;class qS extends fce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Jle()}copy(){const t=new qS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Pv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Lv("data",this.frozen),this.namespace[t]=n,this):pce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Lv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Dm(t),r=this.parser||this.Parser;return Iv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Iv("process",this.parser||this.Parser),_v("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Dm(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return c(d);const m=f,h=r.stringify(m,p);gce(h)?p.value=h:p.result=h,c(d,p)});function c(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Iv("processSync",this.parser||this.Parser),_v("processSync",this.compiler||this.Compiler),this.process(t,a),AA("processSync","process",n),r;function a(i,o){n=!0,xA(i),r=o}}run(t,n,r){EA(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Dm(n);a.run(t,l,c);function c(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),AA("runSync","run",r),a;function i(o,s){xA(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Dm(n),a=this.compiler||this.Compiler;return _v("stringify",a),EA(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Lv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(a.settings=Pv(!0,a.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...h]=d;const y=r[p][1];iw(y)&&iw(m)&&(m=Pv(!0,y,m)),r[p]=[c,m,...h]}}}}const mce=new qS().freeze();function Iv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _v(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Lv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function EA(e){if(!iw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function AA(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Dm(e){return hce(e)?e:new KL(e)}function hce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function gce(e){return typeof e=="string"||yce(e)}function yce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const vce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",PA=[],TA={allowDangerousHtml:!0},bce=/^(https?|ircs?|mailto|xmpp)$/i,xce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wce(e){const t=kce(e),n=Sce(e);return Nce(t.runSync(t.parse(n),n),e)}function kce(e){const t=e.rehypePlugins||PA,n=e.remarkPlugins||PA,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...TA}:TA;return mce().use(rle).use(n).use(Qle,r).use(t)}function Sce(e){const t=e.children||"",n=new KL;return typeof t=="string"&&(n.value=t),n}function Nce(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||jce;for(const d of xce)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+vce+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),VS(e,c),Bie(e,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Mv)if(Object.hasOwn(Mv,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],y=Mv[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function jce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||bce.test(e.slice(0,t))?e:""}function OA(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function Cce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Mce(e,t,n){const r=my((n||{}).ignore||[]),a=Ece(t);let i=-1;for(;++i<a.length;)WL(e,"text",o);function o(l,c){let d=-1,f;for(;++d<c.length;){const p=c[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,c)}function s(l,c){const d=c[c.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let y=!1,x=[];f.lastIndex=0;let g=f.exec(l.value);for(;g;){const b=g.index,w={index:g.index,input:g.input,stack:[...c,l]};let S=p(...g,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(m!==b&&x.push({type:"text",value:l.value.slice(m,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),m=b+g[0].length,y=!0),!f.global)break;g=f.exec(l.value)}return y?(m<l.value.length&&x.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...x)):x=[l],h+x.length}}function Ece(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Ace(a[0]),Pce(a[1])])}return t}function Ace(e){return typeof e=="string"?new RegExp(Cce(e),"g"):e}function Pce(e){return typeof e=="function"?e:function(){return e}}const Fv="phrasing",Rv=["autolink","link","image","label"];function Tce(){return{transforms:[Rce],enter:{literalAutolink:Dce,literalAutolinkEmail:$v,literalAutolinkHttp:$v,literalAutolinkWww:$v},exit:{literalAutolink:Fce,literalAutolinkEmail:Lce,literalAutolinkHttp:Ice,literalAutolinkWww:_ce}}}function Oce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Fv,notInConstruct:Rv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Fv,notInConstruct:Rv},{character:":",before:"[ps]",after:"\\/",inConstruct:Fv,notInConstruct:Rv}]}}function Dce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function $v(e){this.config.enter.autolinkProtocol.call(this,e)}function Ice(e){this.config.exit.autolinkProtocol.call(this,e)}function _ce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Lce(e){this.config.exit.autolinkEmail.call(this,e)}function Fce(e){this.exit(e)}function Rce(e){Mce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,$ce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Bce]],{ignore:["link","linkReference"]})}function $ce(e,t,n,r,a){let i="";if(!YL(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Uce(n)))return!1;const o=zce(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Bce(e,t,n,r){return!YL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Uce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function zce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=OA(e,"(");let i=OA(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function YL(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||kc(n)||dy(n))&&(!t||n!==47)}GL.peek=Qce;function Vce(){this.buffer()}function qce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Wce(){this.buffer()}function Hce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Kce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=mo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Yce(e){this.exit(e)}function Gce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=mo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Xce(e){this.exit(e)}function Qce(){return"["}function GL(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function Zce(){return{enter:{gfmFootnoteCallString:Vce,gfmFootnoteCall:qce,gfmFootnoteDefinitionLabelString:Wce,gfmFootnoteDefinition:Hce},exit:{gfmFootnoteCallString:Kce,gfmFootnoteCall:Yce,gfmFootnoteDefinitionLabelString:Gce,gfmFootnoteDefinition:Xce}}}function Jce(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:GL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const c=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?XL:eue))),c(),l}}function eue(e,t,n){return t===0?e:XL(e,t,n)}function XL(e,t,n){return(n?"":"    ")+e}const tue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];QL.peek=oue;function nue(){return{canContainEols:["delete"],enter:{strikethrough:aue},exit:{strikethrough:iue}}}function rue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:tue}],handlers:{delete:QL}}}function aue(e){this.enter({type:"delete",children:[]},e)}function iue(e){this.exit(e)}function QL(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function oue(){return"~"}function sue(e){return e.length}function lue(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||sue,i=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const y=[],x=[];let g=-1;for(e[d].length>c&&(c=e[d].length);++g<e[d].length;){const b=cue(e[d][g]);if(n.alignDelimiters!==!1){const w=a(b);x[g]=w,(l[g]===void 0||w>l[g])&&(l[g]=w)}y.push(b)}o[d]=y,s[d]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)i[f]=DA(r[f]);else{const y=DA(r);for(;++f<c;)i[f]=y}f=-1;const p=[],m=[];for(;++f<c;){const y=i[f];let x="",g="";y===99?(x=":",g=":"):y===108?x=":":y===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-g.length);const w=x+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=x.length+b+g.length,b>l[f]&&(l[f]=b),m[f]=b),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const y=o[d],x=s[d];f=-1;const g=[];for(;++f<c;){const b=y[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(x[f]||0),N=i[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(b),n.alignDelimiters!==!1&&g.push(S),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}h.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return h.join(`
`)}function cue(e){return e==null?"":String(e)}function DA(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function uue(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),due);return a(),o}function due(e,t,n){return">"+(n?"":" ")+e}function fue(e,t){return IA(e,t.inConstruct,!0)&&!IA(e,t.notInConstruct,!1)}function IA(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function _A(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&fue(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function pue(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function mue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function hue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function gue(e,t,n,r){const a=hue(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(mue(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,yue);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(pue(i,a)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),c(),d}function yue(e,t,n){return(n?"":"    ")+e}function WS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function vue(e,t,n,r){const a=WS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),o(),c}function bue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Xf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Lg(e,t,n){const r=Wu(e),a=Wu(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ZL.peek=xue;function ZL(e,t,n,r){const a=bue(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Lg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Xf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Lg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Xf(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function xue(e,t,n){return n.options.emphasis||"*"}function wue(e,t){let n=!1;return VS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,rw}),!!((!e.depth||e.depth<3)&&LS(e)&&(t.options.setext||n))}function kue(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(wue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=Xf(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}JL.peek=Sue;function JL(e){return e.value||""}function Sue(){return"<"}eF.peek=Nue;function eF(e,t,n,r){const a=WS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),c+=l.move(")"),o(),c}function Nue(){return"!"}tF.peek=jue;function tF(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function jue(){return"!"}nF.peek=Cue;function nF(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return a+r+a}function Cue(){return"`"}function rF(e,t){const n=LS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}aF.peek=Mue;function aF(e,t,n,r){const a=WS(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(rF(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=o.move(" "+a),c+=o.move(n.safe(e.title,{before:c,after:a,...o.current()})),c+=o.move(a),l()),c+=o.move(")"),s(),c}function Mue(e,t,n){return rF(e,n)?"<":"["}iF.peek=Eue;function iF(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Eue(){return"["}function HS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Aue(e){const t=HS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Pue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function oF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Tue(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Pue(n):HS(n);const s=e.ordered?o==="."?")":".":Aue(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),oF(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),c}function Oue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Due(e,t,n,r){const a=Oue(n);let i=n.bulletCurrent||HS(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Iue(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const _ue=my(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Lue(e,t,n,r){return(e.children.some(function(a){return _ue(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Fue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}sF.peek=Rue;function sF(e,t,n,r){const a=Fue(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Lg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Xf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Lg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Xf(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Rue(e,t,n){return n.options.strong||"*"}function $ue(e,t,n,r){return n.safe(e.value,r)}function Bue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Uue(e,t,n){const r=(oF(n)+(n.options.ruleSpaces?" ":"")).repeat(Bue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const lF={blockquote:uue,break:_A,code:gue,definition:vue,emphasis:ZL,hardBreak:_A,heading:kue,html:JL,image:eF,imageReference:tF,inlineCode:nF,link:aF,linkReference:iF,list:Tue,listItem:Due,paragraph:Iue,root:Lue,strong:sF,text:$ue,thematicBreak:Uue};function zue(){return{enter:{table:Vue,tableData:LA,tableHeader:LA,tableRow:Wue},exit:{codeText:Hue,table:que,tableData:Bv,tableHeader:Bv,tableRow:Bv}}}function Vue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function que(e){this.exit(e),this.data.inTable=void 0}function Wue(e){this.enter({type:"tableRow",children:[]},e)}function Bv(e){this.exit(e)}function LA(e){this.enter({type:"tableCell",children:[]},e)}function Hue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Kue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Kue(e,t){return t==="|"?t:e}function Yue(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,y,x){return c(d(m,y,x),m.align)}function s(m,h,y,x){const g=f(m,y,x),b=c([g]);return b.slice(0,b.indexOf(`
`))}function l(m,h,y,x){const g=y.enter("tableCell"),b=y.enter("phrasing"),w=y.containerPhrasing(m,{...x,before:i,after:i});return b(),g(),w}function c(m,h){return lue(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("table");for(;++g<x.length;)b[g]=f(x[g],h,y);return w(),b}function f(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("tableRow");for(;++g<x.length;)b[g]=l(x[g],m,h,y);return w(),b}function p(m,h,y){let x=lF.inlineCode(m,h,y);return y.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function Gue(){return{exit:{taskListCheckValueChecked:FA,taskListCheckValueUnchecked:FA,paragraph:Que}}}function Xue(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Zue}}}function FA(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Que(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Zue(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=lF.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function Jue(){return[Tce(),Zce(),nue(),zue(),Gue()]}function ede(e){return{extensions:[Oce(),Jce(e),rue(),Yue(e),Xue()]}}const tde={tokenize:sde,partial:!0},cF={tokenize:lde,partial:!0},uF={tokenize:cde,partial:!0},dF={tokenize:ude,partial:!0},nde={tokenize:dde,partial:!0},fF={name:"wwwAutolink",tokenize:ide,previous:mF},pF={name:"protocolAutolink",tokenize:ode,previous:hF},As={name:"emailAutolink",tokenize:ade,previous:gF},Wo={};function rde(){return{text:Wo}}let Dl=48;for(;Dl<123;)Wo[Dl]=As,Dl++,Dl===58?Dl=65:Dl===91&&(Dl=97);Wo[43]=As;Wo[45]=As;Wo[46]=As;Wo[95]=As;Wo[72]=[As,pF];Wo[104]=[As,pF];Wo[87]=[As,fF];Wo[119]=[As,fF];function ade(e,t,n){const r=this;let a,i;return o;function o(f){return!sw(f)||!gF.call(r,r.previous)||KS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return sw(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(nde,d,c)(f):f===45||f===95||ka(f)?(i=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Ia(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function ide(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!mF.call(r,r.previous)||KS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(tde,e.attempt(cF,e.attempt(uF,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function ode(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&hF.call(r,r.previous)&&!KS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Ia(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?c:(i=!0,l)):n(f)}function c(f){return f===null||Dg(f)||Fn(f)||kc(f)||dy(f)?n(f):e.attempt(cF,e.attempt(uF,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function sde(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function lde(e,t,n){let r,a,i;return o;function o(c){return c===46||c===95?e.check(dF,l,s)(c):c===null||Fn(c)||kc(c)||c!==45&&dy(c)?l(c):(i=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(a=r,r=void 0),e.consume(c),o}function l(c){return a||r||!i?n(c):t(c)}}function cde(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(dF,t,i)(o):o===null||Fn(o)||kc(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function ude(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Fn(s)||kc(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Fn(s)||kc(s)?t(s):r(s)}function i(s){return Ia(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ia(s)?(e.consume(s),o):n(s)}}function dde(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return ka(i)?n(i):t(i)}}function mF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Fn(e)}function hF(e){return!Ia(e)}function gF(e){return!(e===47||sw(e))}function sw(e){return e===43||e===45||e===46||e===95||ka(e)}function KS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const fde={tokenize:xde,partial:!0};function pde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:yde,continuation:{tokenize:vde},exit:bde}},text:{91:{name:"gfmFootnoteCall",tokenize:gde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:mde,resolveTo:hde}}}}function mde(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=mo(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function hde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function gde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(i>999||f===93&&!o||f===null||f===91||Fn(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(mo(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Fn(f)||(o=!0),i++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,c):c(f)}}function yde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Fn(h))return n(h);if(h===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return i=mo(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Fn(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),gn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function vde(e,t,n){return e.check(Fp,t,e.attempt(fde,t,n))}function bde(e){e.exit("gfmFootnoteDefinition")}function xde(e,t,n){const r=this;return gn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function wde(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",c,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&ki(f,f.length,0,fy(p,i.slice(l+1,s),o)),ki(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",c,o]]),ki(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,c=this.events;let d=0;return f;function f(m){return l===126&&c[c.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Wu(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const y=i.exit("strikethroughSequenceTemporary"),x=Wu(m);return y._open=!x||x===2&&!!h,y._close=!h||h===2&&!!x,o(m)}}}class kde{constructor(){this.map=[]}add(t,n,r){Sde(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function Sde(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Nde(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function jde(){return{flow:{null:{name:"table",tokenize:Cde,resolveAll:Mde}}}}function Cde(e,t,n){const r=this;let a=0,i=0,o;return s;function s(A){let P=r.events.length-1;for(;P>-1;){const G=r.events[P][1].type;if(G==="lineEnding"||G==="linePrefix")P--;else break}const I=P>-1?r.events[P][1].type:null,z=I==="tableHead"||I==="tableRow"?N:l;return z===N&&r.parser.lazy[r.now().line]?n(A):z(A)}function l(A){return e.enter("tableHead"),e.enter("tableRow"),c(A)}function c(A){return A===124||(o=!0,i+=1),d(A)}function d(A){return A===null?n(A):It(A)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),m):n(A):sn(A)?gn(e,d,"whitespace")(A):(i+=1,o&&(o=!1,a+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(A)))}function f(A){return A===null||A===124||Fn(A)?(e.exit("data"),d(A)):(e.consume(A),A===92?p:f)}function p(A){return A===92||A===124?(e.consume(A),f):f(A)}function m(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),o=!1,sn(A)?gn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):h(A))}function h(A){return A===45||A===58?x(A):A===124?(o=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),y):C(A)}function y(A){return sn(A)?gn(e,x,"whitespace")(A):x(A)}function x(A){return A===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),g):A===45?(i+=1,g(A)):A===null||It(A)?S(A):C(A)}function g(A){return A===45?(e.enter("tableDelimiterFiller"),b(A)):C(A)}function b(A){return A===45?(e.consume(A),b):A===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(A))}function w(A){return sn(A)?gn(e,S,"whitespace")(A):S(A)}function S(A){return A===124?h(A):A===null||It(A)?!o||a!==i?C(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):C(A)}function C(A){return n(A)}function N(A){return e.enter("tableRow"),M(A)}function M(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),M):A===null||It(A)?(e.exit("tableRow"),t(A)):sn(A)?gn(e,M,"whitespace")(A):(e.enter("data"),T(A))}function T(A){return A===null||A===124||Fn(A)?(e.exit("data"),M(A)):(e.consume(A),A===92?L:T)}function L(A){return A===92||A===124?(e.consume(A),T):T(A)}}function Mde(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const p=new kde;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(RA(p,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",c,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Im(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Im(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Im(p,t,i,a,n,f)):o[1]!==0&&(f=Im(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&RA(p,t,l,c,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Nde(t.events,n))}return e}function Im(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Zc(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Zc(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=Zc(t.events,n[2]),d=Zc(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,y=n[3]-n[2]-1;e.add(h,y,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Zc(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function RA(e,t,n,r,a){const i=[],o=Zc(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Zc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Ede={name:"tasklistCheck",tokenize:Pde};function Ade(){return{text:{91:Ede}}}function Pde(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Fn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return It(l)?t(l):sn(l)?e.check({tokenize:Tde},t,n)(l):n(l)}}function Tde(e,t,n){return gn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Ode(e){return CL([rde(),pde(),wde(e),jde(),Ade()])}const Dde={};function Ide(e){const t=this,n=e||Dde,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Ode(n)),i.push(Jue()),o.push(ede(n))}const Uv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',yF=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),gy=v.createContext({}),YS=v.createContext(null),yy=typeof document<"u",_de=yy?v.useLayoutEffect:v.useEffect,vF=v.createContext({strict:!1}),GS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Lde="framerAppearId",bF="data-"+GS(Lde);function Fde(e,t,n,r){const{visualElement:a}=v.useContext(gy),i=v.useContext(vF),o=v.useContext(YS),s=v.useContext(yF).reducedMotion,l=v.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,o)});const d=v.useRef(!!(n[bF]&&!window.HandoffComplete));return _de(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function pu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Rde(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):pu(n)&&(n.current=r))},[t])}function Qf(e){return typeof e=="string"||Array.isArray(e)}function vy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const XS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QS=["initial",...XS];function by(e){return vy(e.animate)||QS.some(t=>Qf(e[t]))}function xF(e){return!!(by(e)||e.variants)}function $de(e,t){if(by(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Qf(n)?n:void 0,animate:Qf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Bde(e){const{initial:t,animate:n}=$de(e,v.useContext(gy));return v.useMemo(()=>({initial:t,animate:n}),[$A(t),$A(n)])}function $A(e){return Array.isArray(e)?e.join(" "):e}const BA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zf={};for(const e in BA)Zf[e]={isEnabled:t=>BA[e].some(n=>!!t[n])};function Ude(e){for(const t in e)Zf[t]={...Zf[t],...e[t]}}const wF=v.createContext({}),kF=v.createContext({}),zde=Symbol.for("motionComponentSymbol");function Vde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&Ude(e);function i(s,l){let c;const d={...v.useContext(yF),...s,layoutId:qde(s)},{isStatic:f}=d,p=Bde(s),m=r(s,f);if(!f&&yy){p.visualElement=Fde(a,m,d,t);const h=v.useContext(kF),y=v.useContext(vF).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,y,e,h))}return v.createElement(gy.Provider,{value:p},c&&p.visualElement?v.createElement(c,{visualElement:p.visualElement,...d}):null,n(a,s,Rde(m,p.visualElement,l),m,f,p.visualElement))}const o=v.forwardRef(i);return o[zde]=a,o}function qde({layoutId:e}){const t=v.useContext(wF).id;return t&&e!==void 0?t+"-"+e:e}function Wde(e){function t(r,a={}){return Vde(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const Hde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZS(e){return typeof e!="string"||e.includes("-")?!1:!!(Hde.indexOf(e)>-1||/[A-Z]/.test(e))}const Fg={};function Kde(e){Object.assign(Fg,e)}const $p=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set($p);function SF(e,{layout:t,layoutId:n}){return Ec.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Fg[e]||e==="opacity")}const ni=e=>!!(e&&e.getVelocity),Yde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gde=$p.length;function Xde(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<Gde;o++){const s=$p[o];if(e[s]!==void 0){const l=Yde[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const NF=e=>t=>typeof t=="string"&&t.startsWith(e),jF=NF("--"),lw=NF("var(--"),Qde=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Zde=(e,t)=>t&&typeof e=="number"?t.transform(e):e,hl=(e,t,n)=>Math.min(Math.max(n,e),t),Ac={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},af={...Ac,transform:e=>hl(0,1,e)},_m={...Ac,default:1},of=e=>Math.round(e*1e5)/1e5,xy=/(-)?([\d]*\.?[\d])+/g,CF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Jde=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bp(e){return typeof e=="string"}const Up=e=>({test:t=>Bp(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Us=Up("deg"),Bo=Up("%"),zt=Up("px"),efe=Up("vh"),tfe=Up("vw"),UA={...Bo,parse:e=>Bo.parse(e)/100,transform:e=>Bo.transform(e*100)},zA={...Ac,transform:Math.round},MF={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,size:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:Us,skewX:Us,skewY:Us,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:af,originX:UA,originY:UA,originZ:zt,zIndex:zA,fillOpacity:af,strokeOpacity:af,numOctaves:zA};function JS(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const f in t){const p=t[f];if(jF(f)){i[f]=p;continue}const m=MF[f],h=Zde(p,m);if(Ec.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=Xde(e.transform,n,d,r):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const eN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EF(e,t,n){for(const r in t)!ni(t[r])&&!SF(r,n)&&(e[r]=t[r])}function nfe({transformTemplate:e},t,n){return v.useMemo(()=>{const r=eN();return JS(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function rfe(e,t,n){const r=e.style||{},a={};return EF(a,r,e),Object.assign(a,nfe(e,t,n)),e.transformValues?e.transformValues(a):a}function afe(e,t,n){const r={},a=rfe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const ife=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ife.has(e)}let AF=e=>!Rg(e);function ofe(e){e&&(AF=t=>t.startsWith("on")?!Rg(t):e(t))}try{ofe(require("@emotion/is-prop-valid").default)}catch{}function sfe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(AF(a)||n===!0&&Rg(a)||!t&&!Rg(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function VA(e,t,n){return typeof e=="string"?e:zt.transform(t+n*e)}function lfe(e,t,n){const r=VA(t,e.x,e.width),a=VA(n,e.y,e.height);return`${r} ${a}`}const cfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ufe={offset:"strokeDashoffset",array:"strokeDasharray"};function dfe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?cfe:ufe;e[i.offset]=zt.transform(-r);const o=zt.transform(t),s=zt.transform(n);e[i.array]=`${o} ${s}`}function tN(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,f,p){if(JS(e,c,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:y}=e;m.transform&&(y&&(h.transform=m.transform),delete m.transform),y&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=lfe(y,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&dfe(m,o,s,l,!1)}const PF=()=>({...eN(),attrs:{}}),nN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ffe(e,t,n,r){const a=v.useMemo(()=>{const i=PF();return tN(i,t,{enableHardwareAcceleration:!1},nN(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};EF(i,e.style,e),a.style={...i,...a.style}}return a}function pfe(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(ZS(t)?ffe:afe)(n,a,i,t),s={...sfe(n,typeof t=="string",e),...o,ref:r},{children:l}=n,c=v.useMemo(()=>ni(l)?l.get():l,[l]);return v.createElement(t,{...s,children:c})}}function TF(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const OF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DF(e,t,n,r){TF(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(OF.has(a)?a:GS(a),t.attrs[a])}function rN(e,t){const{style:n}=e,r={};for(const a in n)(ni(n[a])||t.style&&ni(t.style[a])||SF(a,e))&&(r[a]=n[a]);return r}function IF(e,t){const n=rN(e,t);for(const r in e)if(ni(e[r])||ni(t[r])){const a=$p.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function aN(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function mfe(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const $g=e=>Array.isArray(e),hfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),gfe=e=>$g(e)?e[e.length-1]||0:e;function ch(e){const t=ni(e)?e.get():e;return hfe(t)?t.toValue():t}function yfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:vfe(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const _F=e=>(t,n)=>{const r=v.useContext(gy),a=v.useContext(YS),i=()=>yfe(e,t,r,a);return n?i():mfe(i)};function vfe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=ch(i[p]);let{initial:o,animate:s}=e;const l=by(e),c=xF(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!vy(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=aN(e,p);if(!m)return;const{transitionEnd:h,transition:y,...x}=m;for(const g in x){let b=x[g];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(a[g]=b)}for(const g in h)a[g]=h[g]}),a}const Ar=e=>e;class qA{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function bfe(e){let t=new qA,n=new qA,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const f=d&&a,p=f?t:n;return c&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Lm=["prepare","read","update","preRender","render","postRender"],xfe=40;function wfe(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Lm.reduce((c,d)=>(c[d]=bfe(()=>n=!0),c),{}),o=c=>i[c].process(a),s=()=>{const c=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(c-a.timestamp,xfe),1),a.timestamp=c,a.isProcessing=!0,Lm.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Lm.reduce((c,d)=>{const f=i[d];return c[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),c},{}),cancel:c=>Lm.forEach(d=>i[d].cancel(c)),state:a,steps:i}}const{schedule:tr,cancel:xs,state:ga,steps:zv}=wfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ar,!0),kfe={useVisualState:_F({scrapeMotionValuesFromProps:IF,createRenderState:PF,onMount:(e,t,{renderState:n,latestValues:r})=>{tr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tr.render(()=>{tN(n,r,{enableHardwareAcceleration:!1},nN(t.tagName),e.transformTemplate),DF(t,n)})}})},Sfe={useVisualState:_F({scrapeMotionValuesFromProps:rN,createRenderState:eN})};function Nfe(e,{forwardMotionProps:t=!1},n,r){return{...ZS(e)?kfe:Sfe,preloadedFeatures:n,useRender:pfe(t),createVisualElement:r,Component:e}}function as(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const LF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function wy(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const jfe=e=>t=>LF(t)&&e(t,wy(t));function ls(e,t,n,r){return as(e,t,jfe(n),r)}const Cfe=(e,t)=>n=>t(e(n)),ul=(...e)=>e.reduce(Cfe);function FF(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const WA=FF("dragHorizontal"),HA=FF("dragVertical");function RF(e){let t=!1;if(e==="y")t=HA();else if(e==="x")t=WA();else{const n=WA(),r=HA();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function $F(){const e=RF(!0);return e?(e(),!1):!0}class jl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function KA(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||$F())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&tr.update(()=>s[r](i,o))};return ls(e.current,n,a,{passive:!e.getProps()[r]})}class Mfe extends jl{mount(){this.unmount=ul(KA(this.node,!0),KA(this.node,!1))}unmount(){}}class Efe extends jl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ul(as(this.node.current,"focus",()=>this.onFocus()),as(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const BF=(e,t)=>t?e===t?!0:BF(e,t.parentElement):!1;function Vv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,wy(n))}class Afe extends jl{constructor(){super(...arguments),this.removeStartListeners=Ar,this.removeEndListeners=Ar,this.removeAccessibleListeners=Ar,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ls(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:d}=this.node.getProps();tr.update(()=>{!d&&!BF(this.node.current,o.target)?c&&c(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=ls(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ul(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Vv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&tr.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=as(this.node.current,"keyup",o),Vv("down",(s,l)=>{this.startPress(s,l)})},n=as(this.node.current,"keydown",t),r=()=>{this.isPressing&&Vv("cancel",(i,o)=>this.cancelPress(i,o))},a=as(this.node.current,"blur",r);this.removeAccessibleListeners=ul(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$F()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ls(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=as(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ul(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cw=new WeakMap,qv=new WeakMap,Pfe=e=>{const t=cw.get(e.target);t&&t(e)},Tfe=e=>{e.forEach(Pfe)};function Ofe({root:e,...t}){const n=e||document;qv.has(n)||qv.set(n,{});const r=qv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Tfe,{root:e,...t})),r[a]}function Dfe(e,t,n){const r=Ofe(t);return cw.set(e,n),r.observe(e),()=>{cw.delete(e),r.unobserve(e)}}const Ife={some:0,all:1};class _fe extends jl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Ife[a]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return Dfe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Lfe(t,n))&&this.startObserver()}unmount(){}}function Lfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ffe={inView:{Feature:_fe},tap:{Feature:Afe},focus:{Feature:Efe},hover:{Feature:Mfe}};function UF(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Rfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function $fe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function ky(e,t,n){const r=e.getProps();return aN(r,t,n!==void 0?n:r.custom,Rfe(e),$fe(e))}let iN=Ar;const oc=e=>e*1e3,cs=e=>e/1e3,Bfe={current:!1},zF=e=>Array.isArray(e)&&typeof e[0]=="number";function VF(e){return!!(!e||typeof e=="string"&&qF[e]||zF(e)||Array.isArray(e)&&e.every(VF))}const Vd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,qF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vd([0,.65,.55,1]),circOut:Vd([.55,0,1,.45]),backIn:Vd([.31,.01,.66,-.59]),backOut:Vd([.33,1.53,.69,.99])};function WF(e){if(e)return zF(e)?Vd(e):Array.isArray(e)?e.map(WF):qF[e]}function Ufe(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=WF(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function zfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const HF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Vfe=1e-7,qfe=12;function Wfe(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=HF(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Vfe&&++s<qfe);return o}function zp(e,t,n,r){if(e===t&&n===r)return Ar;const a=i=>Wfe(i,0,1,e,n);return i=>i===0||i===1?i:HF(a(i),t,r)}const Hfe=zp(.42,0,1,1),Kfe=zp(0,0,.58,1),KF=zp(.42,0,.58,1),Yfe=e=>Array.isArray(e)&&typeof e[0]!="number",YF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,GF=e=>t=>1-e(1-t),oN=e=>1-Math.sin(Math.acos(e)),XF=GF(oN),Gfe=YF(oN),QF=zp(.33,1.53,.69,.99),sN=GF(QF),Xfe=YF(sN),Qfe=e=>(e*=2)<1?.5*sN(e):.5*(2-Math.pow(2,-10*(e-1))),Zfe={linear:Ar,easeIn:Hfe,easeInOut:KF,easeOut:Kfe,circIn:oN,circInOut:Gfe,circOut:XF,backIn:sN,backInOut:Xfe,backOut:QF,anticipate:Qfe},YA=e=>{if(Array.isArray(e)){iN(e.length===4);const[t,n,r,a]=e;return zp(t,n,r,a)}else if(typeof e=="string")return Zfe[e];return e},lN=(e,t)=>n=>!!(Bp(n)&&Jde.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),ZF=(e,t,n)=>r=>{if(!Bp(r))return r;const[a,i,o,s]=r.match(xy);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},Jfe=e=>hl(0,255,e),Wv={...Ac,transform:e=>Math.round(Jfe(e))},Zl={test:lN("rgb","red"),parse:ZF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Wv.transform(e)+", "+Wv.transform(t)+", "+Wv.transform(n)+", "+of(af.transform(r))+")"};function epe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const uw={test:lN("#"),parse:epe,transform:Zl.transform},mu={test:lN("hsl","hue"),parse:ZF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bo.transform(of(t))+", "+Bo.transform(of(n))+", "+of(af.transform(r))+")"},Oa={test:e=>Zl.test(e)||uw.test(e)||mu.test(e),parse:e=>Zl.test(e)?Zl.parse(e):mu.test(e)?mu.parse(e):uw.parse(e),transform:e=>Bp(e)?e:e.hasOwnProperty("red")?Zl.transform(e):mu.transform(e)},pr=(e,t,n)=>-n*e+n*t+e;function Hv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tpe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Hv(l,s,e+1/3),i=Hv(l,s,e),o=Hv(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Kv=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},npe=[uw,Zl,mu],rpe=e=>npe.find(t=>t.test(e));function GA(e){const t=rpe(e);let n=t.parse(e);return t===mu&&(n=tpe(n)),n}const JF=(e,t)=>{const n=GA(e),r=GA(t),a={...n};return i=>(a.red=Kv(n.red,r.red,i),a.green=Kv(n.green,r.green,i),a.blue=Kv(n.blue,r.blue,i),a.alpha=pr(n.alpha,r.alpha,i),Zl.transform(a))};function ape(e){var t,n;return isNaN(e)&&Bp(e)&&(((t=e.match(xy))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(CF))===null||n===void 0?void 0:n.length)||0)>0}const eR={regex:Qde,countKey:"Vars",token:"${v}",parse:Ar},tR={regex:CF,countKey:"Colors",token:"${c}",parse:Oa.parse},nR={regex:xy,countKey:"Numbers",token:"${n}",parse:Ac.parse};function Yv(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function Bg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Yv(n,eR),Yv(n,tR),Yv(n,nR),n}function rR(e){return Bg(e).values}function aR(e){const{values:t,numColors:n,numVars:r,tokenised:a}=Bg(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(eR.token,o[l]):l<r+n?s=s.replace(tR.token,Oa.transform(o[l])):s=s.replace(nR.token,of(o[l]));return s}}const ipe=e=>typeof e=="number"?0:e;function ope(e){const t=rR(e);return aR(e)(t.map(ipe))}const gl={test:ape,parse:rR,createTransformer:aR,getAnimatableNone:ope},iR=(e,t)=>n=>`${n>0?t:e}`;function oR(e,t){return typeof e=="number"?n=>pr(e,t,n):Oa.test(e)?JF(e,t):e.startsWith("var(")?iR(e,t):lR(e,t)}const sR=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>oR(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},spe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=oR(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},lR=(e,t)=>{const n=gl.createTransformer(t),r=Bg(e),a=Bg(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?ul(sR(r.values,a.values),n):iR(e,t)},Jf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},XA=(e,t)=>n=>pr(e,t,n);function lpe(e){return typeof e=="number"?XA:typeof e=="string"?Oa.test(e)?JF:lR:Array.isArray(e)?sR:typeof e=="object"?spe:XA}function cpe(e,t,n){const r=[],a=n||lpe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ar:t;s=ul(l,s)}r.push(s)}return r}function cR(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(iN(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=cpe(t,r,a),s=o.length,l=c=>{let d=0;if(s>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Jf(e[d],e[d+1],c);return o[d](f)};return n?c=>l(hl(e[0],e[i-1],c)):l}function upe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Jf(0,t,r);e.push(pr(n,1,a))}}function dpe(e){const t=[0];return upe(t,e.length-1),t}function fpe(e,t){return e.map(n=>n*t)}function ppe(e,t){return e.map(()=>t||KF).splice(0,e.length-1)}function Ug({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Yfe(r)?r.map(YA):YA(r),i={done:!1,value:t[0]},o=fpe(n&&n.length===t.length?n:dpe(t),e),s=cR(o,t,{ease:Array.isArray(a)?a:ppe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function uR(e,t){return t?e*(1e3/t):0}const mpe=5;function dR(e,t,n){const r=Math.max(t-mpe,0);return uR(n-e(r),t-r)}const Gv=.001,hpe=.01,gpe=10,ype=.05,vpe=1;function bpe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=hl(ype,vpe,o),e=hl(hpe,gpe,cs(e)),o<1?(a=c=>{const d=c*o,f=d*e,p=d-n,m=dw(c,o),h=Math.exp(-f);return Gv-p/m*h},i=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),h=dw(Math.pow(c,2),o);return(-a(c)+Gv>0?-1:1)*((f-p)*m)/h}):(a=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Gv+d*f},i=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const s=5/e,l=wpe(a,i,s);if(e=oc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const xpe=12;function wpe(e,t,n){let r=n;for(let a=1;a<xpe;a++)r=r-e(r)/t(r);return r}function dw(e,t){return e*Math.sqrt(1-t*t)}const kpe=["duration","bounce"],Spe=["stiffness","damping","mass"];function QA(e,t){return t.some(n=>e[n]!==void 0)}function Npe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!QA(e,Spe)&&QA(e,kpe)){const n=bpe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function fR({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=Npe({...r,velocity:-cs(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*c)),y=i-a,x=cs(Math.sqrt(s/c)),g=Math.abs(y)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let b;if(h<1){const w=dw(x,h);b=S=>{const C=Math.exp(-h*x*S);return i-C*((m+h*x*y)/w*Math.sin(w*S)+y*Math.cos(w*S))}}else if(h===1)b=w=>i-Math.exp(-x*w)*(y+(m+x*y)*w);else{const w=x*Math.sqrt(h*h-1);b=S=>{const C=Math.exp(-h*x*S),N=Math.min(w*S,300);return i-C*((m+h*x*y)*Math.sinh(N)+w*y*Math.cosh(N))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=b(w);if(p)o.done=w>=d;else{let C=m;w!==0&&(h<1?C=dR(b,w,S):C=0);const N=Math.abs(C)<=n,M=Math.abs(i-S)<=t;o.done=N&&M}return o.value=o.done?i:S,o}}}function ZA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=T=>s!==void 0&&T<s||l!==void 0&&T>l,h=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let y=n*t;const x=f+y,g=o===void 0?x:o(x);g!==x&&(y=g-f);const b=T=>-y*Math.exp(-T/r),w=T=>g+b(T),S=T=>{const L=b(T),A=w(T);p.done=Math.abs(L)<=c,p.value=p.done?g:A};let C,N;const M=T=>{m(p.value)&&(C=T,N=fR({keyframes:[p.value,h(p.value)],velocity:dR(w,T,p.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return M(0),{calculatedDuration:null,next:T=>{let L=!1;return!N&&C===void 0&&(L=!0,S(T),M(T)),C!==void 0&&T>C?N.next(T-C):(!L&&S(T),p)}}}const jpe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tr.update(t,!0),stop:()=>xs(t),now:()=>ga.isProcessing?ga.timestamp:performance.now()}},JA=2e4;function e5(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<JA;)t+=n,r=e.next(t);return t>=JA?1/0:t}const Cpe={decay:ZA,inertia:ZA,tween:Ug,keyframes:Ug,spring:fR};function zg({autoplay:e=!0,delay:t=0,driver:n=jpe,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,y,x;const g=()=>{x=new Promise(O=>{y=O})};g();let b;const w=Cpe[a]||Ug;let S;w!==Ug&&typeof r[0]!="number"&&(S=cR([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let N;s==="mirror"&&(N=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let M="idle",T=null,L=null,A=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=e5(C));const{calculatedDuration:P}=C;let I=1/0,z=1/0;P!==null&&(I=P+o,z=I*(i+1)-o);let G=0;const J=O=>{if(L===null)return;m>0&&(L=Math.min(L,O)),m<0&&(L=Math.min(O-z/m,L)),T!==null?G=T:G=Math.round(O-L)*m;const E=G-t*(m>=0?1:-1),j=m>=0?E<0:E>z;G=Math.max(E,0),M==="finished"&&T===null&&(G=z);let V=G,Q=C;if(i){const _=Math.min(G,z)/I;let te=Math.floor(_),ge=_%1;!ge&&_>=1&&(ge=1),ge===1&&te--,te=Math.min(te,i+1),te%2&&(s==="reverse"?(ge=1-ge,o&&(ge-=o/I)):s==="mirror"&&(Q=N)),V=hl(0,1,ge)*I}const W=j?{done:!1,value:r[0]}:Q.next(V);S&&(W.value=S(W.value));let{done:H}=W;!j&&P!==null&&(H=m>=0?G>=z:G<=0);const ee=T===null&&(M==="finished"||M==="running"&&H);return f&&f(W.value),ee&&B(),W},ce=()=>{b&&b.stop(),b=void 0},$=()=>{M="idle",ce(),y(),g(),L=A=null},B=()=>{M="finished",d&&d(),ce(),y()},re=()=>{if(h)return;b||(b=n(J));const O=b.now();l&&l(),T!==null?L=O-T:(!L||M==="finished")&&(L=O),M==="finished"&&g(),A=L,T=null,M="running",b.start()};e&&re();const k={then(O,E){return x.then(O,E)},get time(){return cs(G)},set time(O){O=oc(O),G=O,T!==null||!b||m===0?T=O:L=b.now()-O/m},get duration(){const O=C.calculatedDuration===null?e5(C):C.calculatedDuration;return cs(O)},get speed(){return m},set speed(O){O===m||!b||(m=O,k.time=cs(G))},get state(){return M},play:re,pause:()=>{M="paused",T=G},stop:()=>{h=!0,M!=="idle"&&(M="idle",c&&c(),$())},cancel:()=>{A!==null&&J(A),$()},complete:()=>{M="finished"},sample:O=>(L=0,J(O))};return k}function Mpe(e){let t;return()=>(t===void 0&&(t=e()),t)}const Epe=Mpe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ape=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Fm=10,Ppe=2e4,Tpe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!VF(t.ease);function Ope(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Epe()&&Ape.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const c=()=>{s=new Promise(g=>{o=g})};c();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Tpe(t,a)){const g=zg({...a,repeat:0,delay:0});let b={done:!1,value:d[0]};const w=[];let S=0;for(;!b.done&&S<Ppe;)b=g.sample(S),w.push(b.value),S+=Fm;m=void 0,d=w,f=S-Fm,p="linear"}const h=Ufe(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),y=()=>{l=!1,h.cancel()},x=()=>{l=!0,tr.update(y),o(),c()};return h.onfinish=()=>{l||(e.set(zfe(d,a)),r&&r(),x())},{then(g,b){return s.then(g,b)},attachTimeline(g){return h.timeline=g,h.onfinish=null,Ar},get time(){return cs(h.currentTime||0)},set time(g){h.currentTime=oc(g)},get speed(){return h.playbackRate},set speed(g){h.playbackRate=g},get duration(){return cs(f)},play:()=>{i||(h.play(),xs(y))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:g}=h;if(g){const b=zg({...a,autoplay:!1});e.setWithVelocity(b.sample(g-Fm).value,b.sample(g).value,Fm)}x()},complete:()=>{l||h.finish()},cancel:x}}function Dpe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ar,pause:Ar,stop:Ar,then:i=>(i(),Promise.resolve()),cancel:Ar,complete:Ar});return t?zg({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Ipe={type:"spring",stiffness:500,damping:25,restSpeed:10},_pe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lpe={type:"keyframes",duration:.8},Fpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rpe=(e,{keyframes:t})=>t.length>2?Lpe:Ec.has(e)?e.startsWith("scale")?_pe(t[1]):Ipe:Fpe,fw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gl.test(t)||t==="0")&&!t.startsWith("url(")),$pe=new Set(["brightness","contrast","saturate","opacity"]);function Bpe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xy)||[];if(!r)return e;const a=n.replace(r,"");let i=$pe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Upe=/([a-z-]*)\(.*?\)/g,pw={...gl,getAnimatableNone:e=>{const t=e.match(Upe);return t?t.map(Bpe).join(" "):e}},zpe={...MF,color:Oa,backgroundColor:Oa,outlineColor:Oa,fill:Oa,stroke:Oa,borderColor:Oa,borderTopColor:Oa,borderRightColor:Oa,borderBottomColor:Oa,borderLeftColor:Oa,filter:pw,WebkitFilter:pw},cN=e=>zpe[e];function pR(e,t){let n=cN(e);return n!==pw&&(n=gl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mR=e=>/^0[^.\s]+$/.test(e);function Vpe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||mR(e)}function qpe(e,t,n,r){const a=fw(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Vpe(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(s=i[c]);if(a&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];i[d]=pR(t,s)}return i}function Wpe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function uN(e,t){return e[t]||e.default||e}const Hpe={skipAnimations:!1},dN=(e,t,n,r={})=>a=>{const i=uN(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-oc(o);const l=qpe(t,e,n,i),c=l[0],d=l[l.length-1],f=fw(e,c),p=fw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(Wpe(i)||(m={...m,...Rpe(e,m)}),m.duration&&(m.duration=oc(m.duration)),m.repeatDelay&&(m.repeatDelay=oc(m.repeatDelay)),!f||!p||Bfe.current||i.type===!1||Hpe.skipAnimations)return Dpe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Ope(t,e,m);if(h)return h}return zg(m)};function Vg(e){return!!(ni(e)&&e.add)}const hR=e=>/^\-?\d*\.?\d+$/.test(e);function fN(e,t){e.indexOf(t)===-1&&e.push(t)}function pN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class mN{constructor(){this.subscriptions=[]}add(t){return fN(this.subscriptions,t),()=>pN(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kpe=e=>!isNaN(parseFloat(e));class Ype{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=ga;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,tr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Kpe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new mN);const r=this.events[t].add(n);return t==="change"?()=>{r(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?uR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hu(e,t){return new Ype(e,t)}const gR=e=>t=>t.test(e),Gpe={test:e=>e==="auto",parse:e=>e},yR=[Ac,zt,Bo,Us,tfe,efe,Gpe],_d=e=>yR.find(gR(e)),Xpe=[...yR,Oa,gl],Qpe=e=>Xpe.find(gR(e));function Zpe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hu(n))}function Jpe(e,t){const n=ky(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=gfe(i[o]);Zpe(e,o,s)}}function eme(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(hR(d)||mR(d))?d=parseFloat(d):!Qpe(d)&&gl.test(c)&&(d=pR(l,c)),e.addValue(l,Hu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function tme(e,t){return t?(t[e]||t.default||t).from:void 0}function nme(e,t,n){const r={};for(const a in e){const i=tme(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function rme({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ame(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function vR(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&rme(d,f))continue;const h={delay:n,elapsed:0,...uN(i||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[bF];if(g){const b=window.HandoffAppearAnimations(g,f,p,tr);b!==null&&(h.elapsed=b,h.isHandoff=!0)}}let y=!h.isHandoff&&!ame(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(dN(f,p,m,e.shouldReduceMotion&&Ec.has(f)?{type:!1}:h));const x=p.animation;Vg(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&Jpe(e,o)}),c}function mw(e,t,n={}){const r=ky(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(vR(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return ime(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,c]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function ime(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(ome).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(mw(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function ome(e,t){return e.sortNodePosition(t)}function sme(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>mw(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=mw(e,t,n);else{const a=typeof t=="function"?ky(e,t,n.custom):t;r=Promise.all(vR(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const lme=[...XS].reverse(),cme=XS.length;function ume(e){return t=>Promise.all(t.map(({animation:n,options:r})=>sme(e,n,r)))}function dme(e){let t=ume(e);const n=pme();let r=!0;const a=(l,c)=>{const d=ky(e,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},y=1/0;for(let g=0;g<cme;g++){const b=lme[g],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Qf(S),N=b===c?w.isActive:null;N===!1&&(y=g);let M=S===f[b]&&S!==d[b]&&C;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...h},!w.isActive&&N===null||!S&&!w.prevProp||vy(S)||typeof S=="boolean")continue;let T=fme(w.prevProp,S)||b===c&&w.isActive&&!M&&C||g>y&&C,L=!1;const A=Array.isArray(S)?S:[S];let P=A.reduce(a,{});N===!1&&(P={});const{prevResolvedValues:I={}}=w,z={...I,...P},G=J=>{T=!0,m.has(J)&&(L=!0,m.delete(J)),w.needsAnimating[J]=!0};for(const J in z){const ce=P[J],$=I[J];if(h.hasOwnProperty(J))continue;let B=!1;$g(ce)&&$g($)?B=!UF(ce,$):B=ce!==$,B?ce!==void 0?G(J):m.add(J):ce!==void 0&&m.has(J)?G(J):w.protectedKeys[J]=!0}w.prevProp=S,w.prevResolvedValues=P,w.isActive&&(h={...h,...P}),r&&e.blockInitialAnimation&&(T=!1),T&&(!M||L)&&p.push(...A.map(J=>({animation:J,options:{type:b,...l}})))}if(m.size){const g={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(g[b]=w)}),p.push({animation:g})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(p):Promise.resolve()}function s(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function fme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!UF(t,e):!1}function Il(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pme(){return{animate:Il(!0),whileInView:Il(),whileHover:Il(),whileTap:Il(),whileDrag:Il(),whileFocus:Il(),exit:Il()}}class mme extends jl{constructor(t){super(t),t.animationState||(t.animationState=dme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),vy(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let hme=0;class gme extends jl{constructor(){super(...arguments),this.id=hme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const yme={animation:{Feature:mme},exit:{Feature:gme}},t5=(e,t)=>Math.abs(e-t);function vme(e,t){const n=t5(e.x,t.x),r=t5(e.y,t.y);return Math.sqrt(n**2+r**2)}class bR{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=vme(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:y}=ga;this.history.push({...h,timestamp:y});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Xv(p,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Qv(f.type==="pointercancel"?this.lastMoveEventInfo:Xv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),h&&h(f,x)},!LF(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=wy(t),s=Xv(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=ga;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Qv(s,this.history)),this.removeListeners=ul(ls(this.contextWindow,"pointermove",this.handlePointerMove),ls(this.contextWindow,"pointerup",this.handlePointerUp),ls(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xs(this.updatePoint)}}function Xv(e,t){return t?{point:t(e.point)}:e}function n5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qv({point:e},t){return{point:e,delta:n5(e,xR(t)),offset:n5(e,bme(t)),velocity:xme(t,.1)}}function bme(e){return e[0]}function xR(e){return e[e.length-1]}function xme(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=xR(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>oc(t)));)n--;if(!r)return{x:0,y:0};const i=cs(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ji(e){return e.max-e.min}function hw(e,t=0,n=.01){return Math.abs(e-t)<=n}function r5(e,t,n,r=.5){e.origin=r,e.originPoint=pr(t.min,t.max,e.origin),e.scale=ji(n)/ji(t),(hw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pr(n.min,n.max,e.origin)-e.originPoint,(hw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function sf(e,t,n,r){r5(e.x,t.x,n.x,r?r.originX:void 0),r5(e.y,t.y,n.y,r?r.originY:void 0)}function a5(e,t,n){e.min=n.min+t.min,e.max=e.min+ji(t)}function wme(e,t,n){a5(e.x,t.x,n.x),a5(e.y,t.y,n.y)}function i5(e,t,n){e.min=t.min-n.min,e.max=e.min+ji(t)}function lf(e,t,n){i5(e.x,t.x,n.x),i5(e.y,t.y,n.y)}function kme(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?pr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?pr(n,e,r.max):Math.min(e,n)),e}function o5(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Sme(e,{top:t,left:n,bottom:r,right:a}){return{x:o5(e.x,n,a),y:o5(e.y,t,r)}}function s5(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Nme(e,t){return{x:s5(e.x,t.x),y:s5(e.y,t.y)}}function jme(e,t){let n=.5;const r=ji(e),a=ji(t);return a>r?n=Jf(t.min,t.max-r,e.min):r>a&&(n=Jf(e.min,e.max-a,t.min)),hl(0,1,n)}function Cme(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const gw=.35;function Mme(e=gw){return e===!1?e=0:e===!0&&(e=gw),{x:l5(e,"left","right"),y:l5(e,"top","bottom")}}function l5(e,t,n){return{min:c5(e,t),max:c5(e,n)}}function c5(e,t){return typeof e=="number"?e:e[t]||0}const u5=()=>({translate:0,scale:1,origin:0,originPoint:0}),hu=()=>({x:u5(),y:u5()}),d5=()=>({min:0,max:0}),Ir=()=>({x:d5(),y:d5()});function $i(e){return[e("x"),e("y")]}function wR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Eme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ame(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zv(e){return e===void 0||e===1}function yw({scale:e,scaleX:t,scaleY:n}){return!Zv(e)||!Zv(t)||!Zv(n)}function Ul(e){return yw(e)||kR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function kR(e){return f5(e.x)||f5(e.y)}function f5(e){return e&&e!=="0%"}function qg(e,t,n){const r=e-n,a=t*r;return n+a}function p5(e,t,n,r,a){return a!==void 0&&(e=qg(e,a,r)),qg(e,n,r)+t}function vw(e,t=0,n=1,r,a){e.min=p5(e.min,t,n,r,a),e.max=p5(e.max,t,n,r,a)}function SR(e,{x:t,y:n}){vw(e.x,t.translate,t.scale,t.originPoint),vw(e.y,n.translate,n.scale,n.originPoint)}function Pme(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,SR(e,o)),r&&Ul(i.latestValues)&&gu(e,i.latestValues))}t.x=m5(t.x),t.y=m5(t.y)}function m5(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Hs(e,t){e.min=e.min+t,e.max=e.max+t}function h5(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=pr(e.min,e.max,i);vw(e,t[n],t[r],o,t.scale)}const Tme=["x","scaleX","originX"],Ome=["y","scaleY","originY"];function gu(e,t){h5(e.x,t,Tme),h5(e.y,t,Ome)}function NR(e,t){return wR(Ame(e.getBoundingClientRect(),t))}function Dme(e,t,n){const r=NR(e,n),{scroll:a}=t;return a&&(Hs(r.x,a.offset.x),Hs(r.y,a.offset.y)),r}const jR=({current:e})=>e?e.ownerDocument.defaultView:null,Ime=new WeakMap;class _me{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ir(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wy(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=RF(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$i(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Bo.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[x];w&&(g=ji(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),h&&tr.update(()=>h(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=Lme(x),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&y(d,f)},s=(d,f)=>this.stop(d,f),l=()=>$i(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new bR(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:jR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&tr.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Rm(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=kme(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&pu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Sme(a.layoutBox,n):this.constraints=!1,this.elastic=Mme(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&$i(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Cme(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Dme(r,a.root,this.visualElement.getTransformPagePoint());let o=Nme(a.layout.layoutBox,i);if(n){const s=n(Eme(o));this.hasMutatedConstraints=!!s,s&&(o=wR(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=$i(d=>{if(!Rm(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(dN(t,r,0,n))}stopAnimation(){$i(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$i(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){$i(n=>{const{drag:r}=this.getProps();if(!Rm(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-pr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$i(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=jme({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$i(o=>{if(!Rm(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(pr(l,c,a[o]))})}addListeners(){if(!this.visualElement.current)return;Ime.set(this.visualElement,this);const t=this.visualElement.current,n=ls(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();pu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=as(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&($i(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=gw,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Rm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Lme(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Fme extends jl{constructor(t){super(t),this.removeGroupControls=Ar,this.removeListeners=Ar,this.controls=new _me(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const g5=e=>(t,n)=>{e&&tr.update(()=>e(t,n))};class Rme extends jl{constructor(){super(...arguments),this.removePointerDownListener=Ar}onPointerDown(t){this.session=new bR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:g5(t),onStart:g5(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&tr.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=ls(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $me(){const e=v.useContext(YS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=v.useId();return v.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const uh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ld={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(zt.test(e))e=parseFloat(e);else return e;const n=y5(e,t.target.x),r=y5(e,t.target.y);return`${n}% ${r}%`}},Bme={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=gl.parse(e);if(a.length>5)return r;const i=gl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const c=pr(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=c),typeof a[3+o]=="number"&&(a[3+o]/=c),i(a)}};class Ume extends Hg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Kde(zme),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),uh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||tr.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CR(e){const[t,n]=$me(),r=v.useContext(wF);return Hg.createElement(Ume,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(kF),isPresent:t,safeToRemove:n})}const zme={borderRadius:{...Ld,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ld,borderTopRightRadius:Ld,borderBottomLeftRadius:Ld,borderBottomRightRadius:Ld,boxShadow:Bme},MR=["TopLeft","TopRight","BottomLeft","BottomRight"],Vme=MR.length,v5=e=>typeof e=="string"?parseFloat(e):e,b5=e=>typeof e=="number"||zt.test(e);function qme(e,t,n,r,a,i){a?(e.opacity=pr(0,n.opacity!==void 0?n.opacity:1,Wme(r)),e.opacityExit=pr(t.opacity!==void 0?t.opacity:1,0,Hme(r))):i&&(e.opacity=pr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Vme;o++){const s=`border${MR[o]}Radius`;let l=x5(t,s),c=x5(n,s);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||b5(l)===b5(c)?(e[s]=Math.max(pr(v5(l),v5(c),r),0),(Bo.test(c)||Bo.test(l))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=pr(t.rotate||0,n.rotate||0,r))}function x5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Wme=ER(0,.5,XF),Hme=ER(.5,.95,Ar);function ER(e,t,n){return r=>r<e?0:r>t?1:n(Jf(e,t,r))}function w5(e,t){e.min=t.min,e.max=t.max}function Li(e,t){w5(e.x,t.x),w5(e.y,t.y)}function k5(e,t,n,r,a){return e-=t,e=qg(e,1/n,r),a!==void 0&&(e=qg(e,1/a,r)),e}function Kme(e,t=0,n=1,r=.5,a,i=e,o=e){if(Bo.test(t)&&(t=parseFloat(t),t=pr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=pr(i.min,i.max,r);e===i&&(s-=t),e.min=k5(e.min,t,n,s,a),e.max=k5(e.max,t,n,s,a)}function S5(e,t,[n,r,a],i,o){Kme(e,t[n],t[r],t[a],t.scale,i,o)}const Yme=["x","scaleX","originX"],Gme=["y","scaleY","originY"];function N5(e,t,n,r){S5(e.x,t,Yme,n?n.x:void 0,r?r.x:void 0),S5(e.y,t,Gme,n?n.y:void 0,r?r.y:void 0)}function j5(e){return e.translate===0&&e.scale===1}function AR(e){return j5(e.x)&&j5(e.y)}function Xme(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function PR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function C5(e){return ji(e.x)/ji(e.y)}class Qme{constructor(){this.members=[]}add(t){fN(this.members,t),t.scheduleRender()}remove(t){if(pN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M5(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const Zme=(e,t)=>e.depth-t.depth;class Jme{constructor(){this.children=[],this.isDirty=!1}add(t){fN(this.children,t),this.isDirty=!0}remove(t){pN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Zme),this.isDirty=!1,this.children.forEach(t)}}function ehe(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(xs(r),e(i-t))};return tr.read(r,!0),()=>xs(r)}function the(e){window.MotionDebug&&window.MotionDebug.record(e)}function nhe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function rhe(e,t,n){const r=ni(e)?e:Hu(e);return r.start(dN("",r,t,n)),r.animation}const E5=["","X","Y","Z"],ahe={visibility:"hidden"},A5=1e3;let ihe=0;const zl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function TR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=ihe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zl.totalNodes=zl.resolvedTargetDeltas=zl.recalculatedProjection=0,this.nodes.forEach(lhe),this.nodes.forEach(phe),this.nodes.forEach(mhe),this.nodes.forEach(che),the(zl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jme)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new mN),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nhe(i),this.instance=i;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=ehe(f,250),uh.hasAnimatedSinceResize&&(uh.hasAnimatedSinceResize=!1,this.nodes.forEach(T5))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||c.getDefaultTransition()||bhe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!PR(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...uN(h,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||T5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hhe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P5);return}this.isUpdating||this.nodes.forEach(dhe),this.isUpdating=!1,this.nodes.forEach(fhe),this.nodes.forEach(ohe),this.nodes.forEach(she),this.clearAllSnapshots();const i=performance.now();ga.delta=hl(0,1e3/60,i-ga.timestamp),ga.timestamp=i,ga.isProcessing=!0,zv.update.process(ga),zv.preRender.process(ga),zv.render.process(ga),ga.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(uhe),this.sharedNodes.forEach(ghe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!AR(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;i&&(o||Ul(this.latestValues)||c)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),xhe(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Ir();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Hs(o.x,s.offset.x),Hs(o.y,s.offset.y)),o}removeElementScroll(i){const o=Ir();Li(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:c,options:d}=l;if(l!==this.root&&c&&d.layoutScroll){if(c.isRoot){Li(o,i);const{scroll:f}=this.root;f&&(Hs(o.x,-f.offset.x),Hs(o.y,-f.offset.y))}Hs(o.x,c.offset.x),Hs(o.y,c.offset.y)}}return o}applyTransform(i,o=!1){const s=Ir();Li(s,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&gu(s,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ul(c.latestValues)&&gu(s,c.latestValues)}return Ul(this.latestValues)&&gu(s,this.latestValues),s}removeTransform(i){const o=Ir();Li(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Ul(l.latestValues))continue;yw(l.latestValues)&&l.updateSnapshot();const c=Ir(),d=l.measurePageBox();Li(c,d),N5(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Ul(this.latestValues)&&N5(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ga.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=ga.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),lf(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ir(),this.targetWithTransforms=Ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),SR(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),lf(this.relativeTargetOrigin,this.target,f.target),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yw(this.parent.latestValues)||kR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ga.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Li(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Pme(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=hu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=hu(),this.projectionDeltaWithTransform=hu());const h=this.projectionTransform;sf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=M5(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),zl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},c={...this.latestValues},d=hu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Ir(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,y=this.getStack(),x=!y||y.members.length<=1,g=!!(h&&!x&&this.options.crossfade===!0&&!this.path.some(vhe));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;O5(d.x,i.x,S),O5(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yhe(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&Xme(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ir()),Li(b,this.relativeTarget)),h&&(this.animationValues=c,qme(c,l,this.latestValues,S,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{uh.hasAnimatedSinceResize=!0,this.currentAnimation=rhe(0,A5,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:c}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&OR(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Ir();const d=ji(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=ji(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}Li(o,s),gu(o,c),sf(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Qme),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let c=0;c<E5.length;c++){const d="rotate"+E5[c];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const c in l)i.setStaticValue(c,l[c]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ahe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ch(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=ch(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Ul(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=M5(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in Fg){if(f[h]===void 0)continue;const{correct:y,applyTo:x}=Fg[h],g=l.transform==="none"?f[h]:y(f[h],d);if(x){const b=x.length;for(let w=0;w<b;w++)l[x[w]]=g}else l[h]=g}return this.options.layoutId&&(l.pointerEvents=d===this?ch(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(P5),this.root.sharedNodes.clear()}}}function ohe(e){e.updateLayout()}function she(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?$i(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=ji(p);p.min=r[f].min,p.max=p.min+m}):OR(i,n.layoutBox,r)&&$i(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=ji(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=hu();sf(s,r,n.layoutBox);const l=hu();o?sf(l,e.applyTransform(a,!0),n.measuredBox):sf(l,r,n.layoutBox);const c=!AR(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=Ir();lf(h,n.layoutBox,p.layoutBox);const y=Ir();lf(y,r,m.layoutBox),PR(h,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function lhe(e){zl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function che(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uhe(e){e.clearSnapshot()}function P5(e){e.clearMeasurements()}function dhe(e){e.isLayoutDirty=!1}function fhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function T5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function phe(e){e.resolveTargetDelta()}function mhe(e){e.calcProjection()}function hhe(e){e.resetRotation()}function ghe(e){e.removeLeadSnapshot()}function O5(e,t,n){e.translate=pr(t.translate,0,n),e.scale=pr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function D5(e,t,n,r){e.min=pr(t.min,n.min,r),e.max=pr(t.max,n.max,r)}function yhe(e,t,n,r){D5(e.x,t.x,n.x,r),D5(e.y,t.y,n.y,r)}function vhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bhe={duration:.45,ease:[.4,0,.1,1]},I5=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),_5=I5("applewebkit/")&&!I5("chrome/")?Math.round:Ar;function L5(e){e.min=_5(e.min),e.max=_5(e.max)}function xhe(e){L5(e.x),L5(e.y)}function OR(e,t,n){return e==="position"||e==="preserve-aspect"&&!hw(C5(t),C5(n),.2)}const whe=TR({attachResizeListener:(e,t)=>as(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jv={current:void 0},DR=TR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jv.current){const e=new whe({});e.mount(window),e.setOptions({layoutScroll:!0}),Jv.current=e}return Jv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),khe={pan:{Feature:Rme},drag:{Feature:Fme,ProjectionNode:DR,MeasureLayout:CR}},She=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Nhe(e){const t=She.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function bw(e,t,n=1){const[r,a]=Nhe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return hR(o)?parseFloat(o):o}else return lw(a)?bw(a,t,n+1):a}function jhe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!lw(i))return;const o=bw(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!lw(i))continue;const o=bw(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const Che=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),IR=e=>Che.has(e),Mhe=e=>Object.keys(e).some(IR),F5=e=>e===Ac||e===zt,R5=(e,t)=>parseFloat(e.split(", ")[t]),$5=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return R5(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?R5(i[1],e):0}},Ehe=new Set(["x","y","z"]),Ahe=$p.filter(e=>!Ehe.has(e));function Phe(e){const t=[];return Ahe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ku={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:$5(4,13),y:$5(5,14)};Ku.translateX=Ku.x;Ku.translateY=Ku.y;const The=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{s[c]=Ku[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(s[c]),e[c]=Ku[c](l,i)}),e},Ohe=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(IR);let i=[],o=!1;const s=[];if(a.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=_d(d);const p=t[l];let m;if($g(p)){const h=p.length,y=p[0]===null?1:0;d=p[y],f=_d(d);for(let x=y;x<h&&p[x]!==null;x++)m?iN(_d(p[x])===m):m=_d(p[x])}else m=_d(p);if(f!==m)if(F5(f)&&F5(m)){const h=c.get();typeof h=="string"&&c.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===zt&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(p):(o||(i=Phe(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=The(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),yy&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Dhe(e,t,n,r){return Mhe(t)?Ohe(e,t,n,r):{target:t,transitionEnd:r}}const Ihe=(e,t,n,r)=>{const a=jhe(e,t,r);return t=a.target,r=a.transitionEnd,Dhe(e,t,n,r)},xw={current:null},_R={current:!1};function _he(){if(_R.current=!0,!!yy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xw.current=e.matches;e.addListener(t),t()}else xw.current=!1}function Lhe(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(ni(i))e.addValue(a,i),Vg(r)&&r.add(a);else if(ni(o))e.addValue(a,Hu(i,{owner:e})),Vg(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,Hu(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const B5=new WeakMap,LR=Object.keys(Zf),Fhe=LR.length,U5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Rhe=QS.length;class $he{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tr.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=by(n),this.isVariantNode=xF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&ni(p)&&(p.set(s[f],!1),Vg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,B5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_R.current||_he(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){B5.delete(this.current),this.projection&&this.projection.unmount(),xs(this.notifyUpdate),xs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ec.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&tr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<Fhe;l++){const c=LR[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Zf[c];p&&(o=p),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&pu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ir()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<U5.length;r++){const a=U5[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=Lhe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Rhe;r++){const a=QS[r],i=this.props[a];(Qf(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Hu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=aN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ni(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new mN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class FR extends $he{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=nme(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){eme(this,r,o);const s=Ihe(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function Bhe(e){return window.getComputedStyle(e)}class Uhe extends FR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ec.has(n)){const r=cN(n);return r&&r.default||0}else{const r=Bhe(t),a=(jF(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return NR(t,n)}build(t,n,r,a){JS(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return rN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ni(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){TF(t,n,r,a)}}class zhe extends FR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ec.has(n)){const r=cN(n);return r&&r.default||0}return n=OF.has(n)?n:GS(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ir()}scrapeMotionValuesFromProps(t,n){return IF(t,n)}build(t,n,r,a){tN(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){DF(t,n,r,a)}mount(t){this.isSVGTag=nN(t.tagName),super.mount(t)}}const Vhe=(e,t)=>ZS(e)?new zhe(t,{enableHardwareAcceleration:!1}):new Uhe(t,{enableHardwareAcceleration:!0}),qhe={layout:{ProjectionNode:DR,MeasureLayout:CR}},Whe={...yme,...Ffe,...khe,...qhe},To=Wde((e,t)=>Nfe(e,t,Whe,Vhe));function Hhe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:y,children:x}){return e?u.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:g=>g.target===g.currentTarget&&t(),children:u.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),onFocus:o,onBlur:g=>s(g.relatedTarget),onKeyDown:g=>{g.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((g,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(g)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:g.section}),u.jsx("div",{className:"truncate",children:d(g.text,n)})]},`${g.hitId}-${b}-${g.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Ua,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[p.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((g,b)=>{const w=g.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${g.level===1?"proof-of-work-toc-item--l1":g.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":g.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(g),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:g.text})]},`${g.id}-${g.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:y,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:x})})]})})]})}):null}const _l="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",eb="arcbridge_web_theme_override",z5="__default__",Khe=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},Yhe=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Ghe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},V5=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},Xhe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},q5=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Qhe=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,c=t-r;return r+=s,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:c,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},Zhe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function Jhe(){var e;const[t,n]=v.useState(null),[r,a]=v.useState(null),[i,o]=v.useState(null),[s,l]=v.useState(null),[c,d]=v.useState(""),[f,p]=v.useState(null),[m,h]=v.useState(null),[y,x]=v.useState(!1),[g,b]=v.useState(!1),[w,S]=v.useState("classic"),[C,N]=v.useState("classic"),[M,T]=v.useState(oh.id),[L,A]=v.useState(null),[P,I]=v.useState(!1),[z,G]=v.useState(!1),[J,ce]=v.useState(""),[$,B]=v.useState(""),[re,k]=v.useState([]),[O,E]=v.useState(!1),[j,V]=v.useState("overview"),[Q,W]=v.useState("kdr"),[H,ee]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),_=v.useRef(null),te=v.useRef(null),ge=v.useRef(null),R=v.useRef(null),ae=v.useRef(null),K=v.useRef(new Map),F=v.useRef(null),ie=v.useRef(null),be=v.useMemo(()=>{let Y=window.location.pathname||"/";const de=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return Y.endsWith("/index.html")&&(Y=Y.slice(0,-11)),Y.includes("/reports/")&&(Y=Y.replace(/\/reports\/[^/]+\/?$/,"")),de&&(Y=Y.replace(/^\/web\/web(?=\/|$)/,"/web")),Y.endsWith("/")||(Y=`${Y}/`),Y},[]),et=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),ue=v.useMemo(()=>{const Y=[be,"./","/"],de=[];return Y.forEach(Oe=>{let Ke=Oe||"/";Ke!=="./"&&!Ke.endsWith("/")&&(Ke=`${Ke}/`),de.includes(Ke)||de.push(Ke)}),de},[be,et]),[We,$e]=v.useState(ue[0]||"/"),gt=Y=>{var de;return typeof Y=="string"||typeof Y=="number"?String(Y):Array.isArray(Y)?Y.map(gt).join(""):Y&&typeof Y=="object"&&"props"in Y?gt((de=Y.props)==null?void 0:de.children):""},Gt=Y=>{const de=q5(Y||"section")||"section",Oe=K.current,Ke=(Oe.get(de)??0)+1;return Oe.set(de,Ke),Ke===1?de:`${de}-${Ke}`},Sn=v.useMemo(()=>{const Y=Uv.split(`
`),de=new Map,Oe=[],Ke=Lt=>{const kt=q5(Lt||"section")||"section",pt=(de.get(kt)??0)+1;return de.set(kt,pt),pt===1?kt:`${kt}-${pt}`};for(const Lt of Y){const kt=/^(#{1,3})\s+(.*)\s*$/.exec(Lt);if(!kt)continue;const pt=kt[1].length,Jt=kt[2].trim();Jt&&Oe.push({level:pt,text:Jt,id:Ke(Jt)})}return Oe},[Uv]),An=(Y,de)=>{const Oe=Y==="./"?"./":Y.endsWith("/")?Y:`${Y}/`,Ke=String(de||"").replace(/^\/+/,"");return`${Oe}${Ke}`};v.useEffect(()=>{const Y=Khe(eb);if(Y)try{const de=JSON.parse(Y),Oe=typeof(de==null?void 0:de.themeId)=="string"?de.themeId:null;Oe&&Od.some(Ke=>Ke.id===Oe)&&A(Oe)}catch{}},[]),v.useEffect(()=>{const Y=L||M,de=Od.find(Oe=>Oe.id===Y)||oh;p(de)},[L,M]),v.useEffect(()=>{if(!L){S(C);return}if(L===ah){S("matte");return}if(L===ih){S("kinetic");return}if(L==="CRT"){S("crt");return}S(C)},[L,C]),v.useEffect(()=>{$e(ue[0]||"/");let Y=!0;return(async()=>{for(const de of ue)try{if((await fetch(An(de,"ui-theme.json"),{cache:"no-store"})).ok){Y&&$e(de);return}}catch{}})(),()=>{Y=!1}},[ue]);const he=(Y,de)=>{const Oe=de.trim();if(!Oe)return Y;const Ke=Y.toLowerCase(),Lt=Oe.toLowerCase(),kt=Ke.indexOf(Lt);if(kt===-1)return Y;const pt=Y.slice(0,kt),Jt=Y.slice(kt,kt+Oe.length),vn=Y.slice(kt+Oe.length);return u.jsxs(u.Fragment,{children:[pt,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:Jt}),vn]})},Fe=(Y,de)=>{const Oe=te.current;if(!Oe)return;let Ke=Oe.querySelector(`[data-search-hit="${Y}"]`);if(!Ke&&de){const Lt=de.trim().replace(/\s+/g," "),kt=Array.from(Oe.querySelectorAll("h1, h2, h3, p, li, code"));Ke=kt.find(pt=>(pt.textContent||"").trim().replace(/\s+/g," ")===Lt)||null,Ke||(Ke=kt.find(pt=>(pt.textContent||"").toLowerCase().includes(Lt.toLowerCase()))||null)}Ke&&requestAnimationFrame(()=>{const Lt=Oe.getBoundingClientRect(),kt=Ke.getBoundingClientRect(),pt=Math.max(0,Oe.scrollTop+(kt.top-Lt.top)-12);Oe.scrollTop=pt,Ke.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ae.current&&window.clearTimeout(ae.current),ae.current=window.setTimeout(()=>{Ke.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Tt=Y=>{const de=te.current,Oe=Y.trim().toLowerCase();if(!de||Oe.length<2){k([]);return}const Ke=Array.from(de.querySelectorAll("h1, h2, h3, p, li, code"));Ke.forEach(pt=>pt.removeAttribute("data-search-hit"));const Lt=[];let kt=0;Ke.forEach((pt,Jt)=>{const vn=(pt.textContent||"").trim();if(vn&&vn.toLowerCase().includes(Oe)){let cr="";for(let ur=Jt;ur>=0;ur-=1){const _e=Ke[ur];if(_e&&["H1","H2","H3"].includes(_e.tagName)){cr=(_e.textContent||"").trim();break}}pt.setAttribute("data-search-hit",String(kt)),Lt.push({index:Jt,text:vn,section:cr||"Unlabeled Section",hitId:kt}),kt+=1}}),k(Lt.slice(0,12))};v.useEffect(()=>{var Y;if(!z)return;ce(((Y=Sn[0])==null?void 0:Y.id)||"");const de=Oe=>{var Ke;const Lt=Oe.target;Lt&&((Ke=ge.current)!=null&&Ke.contains(Lt)||(E(!1),k([])))};return window.addEventListener("mousedown",de),()=>{window.removeEventListener("mousedown",de)}},[z,Sn]),v.useEffect(()=>{if(!z){ce("");return}const Y=te.current;if(!Y)return;let de=0;const Oe=()=>{var Lt;const kt=Array.from(Y.querySelectorAll("[data-heading-id]"));if(kt.length===0)return;const pt=Y.getBoundingClientRect().top+18,Jt=kt.map((on,en)=>({index:en,id:on.dataset.headingId||on.id||"",top:on.getBoundingClientRect().top})).filter(on=>!!on.id);if(Jt.length===0)return;let vn=0,cr=!1;for(const on of Jt){if(on.top<=pt){vn=on.index,cr=!0;continue}cr||(vn=on.index);break}Y.scrollTop+Y.clientHeight>=Y.scrollHeight-2&&(vn=Math.max(0,Jt.length-1));const ur=Sn[vn],_e=((Lt=Jt[vn])==null?void 0:Lt.id)||"",tt=(ur==null?void 0:ur.id)||_e;tt&&ce(tt)};Oe();const Ke=()=>{de&&cancelAnimationFrame(de),de=requestAnimationFrame(Oe)};return Y.addEventListener("scroll",Ke,{passive:!0}),window.addEventListener("resize",Ke),()=>{de&&cancelAnimationFrame(de),Y.removeEventListener("scroll",Ke),window.removeEventListener("resize",Ke)}},[z,Sn]);const _t=v.useMemo(()=>[{id:"overview",label:"Overview",icon:xU,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:tc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Zs},{id:"top-players",label:"Top Players",icon:tc},{id:"top-skills-outgoing",label:"Top Skills",icon:h1},{id:"squad-composition",label:"Classes",icon:Nr},{id:"timeline",label:"Squad vs Enemy Size",icon:Nr},{id:"map-distribution",label:"Map Distribution",icon:b1}]},{id:"roster",label:"Roster Intel",icon:Cf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Cf},{id:"squad-comp-fight",label:"Squad Comp",icon:Nr},{id:"fight-comp",label:"Fight Comp",icon:Zs}]},{id:"offense",label:"Offensive Stats",icon:Zs,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:dL},{id:"player-breakdown",label:"Player Breakdown",icon:v1},{id:"spike-damage",label:"Spike Damage",icon:Mf},{id:"conditions-outgoing",label:"Conditions",icon:l0}]},{id:"defense",label:"Defensive Stats",icon:Iu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Iu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Mf},{id:"defense-mitigation",label:"Damage Mitigation",icon:S1},{id:"boon-output",label:"Boon Output",icon:k1},{id:"support-detailed",label:"Support Detailed",icon:x1},{id:"healing-stats",label:"Healing Stats",icon:fO}]},{id:"other",label:"Other Metrics",icon:c0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:g1},{id:"special-buffs",label:"Special Buffs",icon:Lh},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:N1},{id:"skill-usage",label:"Skill Usage",icon:y1},{id:"apm-stats",label:"APM Breakdown",icon:w1}]}],[]),pn=v.useMemo(()=>{const Y=new Map;return _t.forEach(de=>{Y.set(de.id.toLowerCase(),de.id),(de.sectionIds||[]).forEach(Oe=>Y.set(String(Oe).toLowerCase(),de.id)),(de.items||[]).forEach(Oe=>Y.set(String(Oe.id).toLowerCase(),de.id))}),Y.set("report-top","overview"),Y.set("overview","overview"),Y.set("kdr","overview"),Y},[_t]),Cn=v.useMemo(()=>_t.find(Y=>Y.id===j)||_t[0],[_t,j]),Hn=w==="kinetic",ja=v.useMemo(()=>{const Y=((Cn==null?void 0:Cn.sectionIds)||((Cn==null?void 0:Cn.items)||[]).map(de=>de.id)).map(de=>de==="kdr"?"overview":de);return new Set(Y)},[Cn]),Ei=Y=>{if(Y==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const de=Y==="kdr"?"overview":Y,Oe=de==="overview"&&Y!=="kdr"?"report-top":de,Ke=document.getElementById(Oe);if(!Ke||Ke.getAttribute("data-section-visible")==="false"||!Ke.offsetParent)return!1;const Lt=Ke.getBoundingClientRect();if(Lt.height<=0)return!1;let kt=0;if(Oe==="stats-view-top"){const Jt=document.getElementById("report-top");Jt&&(kt=Jt.getBoundingClientRect().height+12)}const pt=Lt.top+window.scrollY-12-kt;return window.scrollTo({top:Math.max(0,pt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Oe}`),!0},pa=(Y,de=0)=>{Ei(Y)||de>=12||window.setTimeout(()=>{requestAnimationFrame(()=>pa(Y,de+1))},40)};v.useEffect(()=>{if(!t)return;const Y=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(de=>{de.scrollHeight})});return()=>cancelAnimationFrame(Y)},[t]),v.useEffect(()=>{const Y=F.current;if(!Y)return;let de=0;const Oe=()=>{if(Ei(Y)){F.current=null;return}if(de+=1,de>=20){F.current=null;return}window.setTimeout(()=>requestAnimationFrame(Oe),40)};requestAnimationFrame(Oe)},[j]),v.useEffect(()=>{const Y=()=>{var de,Oe;const Ke=(window.location.hash||"").replace(/^#/,"").trim();if(!Ke)return;let Lt=Ke;try{Lt=decodeURIComponent(Ke)}catch{Lt=Ke}const kt=Lt.toLowerCase(),pt=pn.get(kt);if(pt){if(V(pt),ee(()=>{const Jt={};return _t.forEach(vn=>{Jt[vn.id]=vn.id===pt}),Jt}),kt==="report-top")W("kdr");else{const Jt=_t.find(vn=>vn.id.toLowerCase()===kt);W(((Oe=(de=Jt==null?void 0:Jt.items)==null?void 0:de[0])==null?void 0:Oe.id)||kt)}F.current=kt==="report-top"?"kdr":kt}};return Y(),window.addEventListener("hashchange",Y),()=>{window.removeEventListener("hashchange",Y)}},[pn,_t]);const Zt=w==="matte",cn=f??oh,Cr=Hn?"90, 80, 68":cn.rgb,yn=Zt?"#d8e1eb":Hn?"#24211d":"var(--accent)",Ca={"--accent":`rgb(${Cr})`,"--accent-rgb":Cr,"--accent-soft":`rgba(${Cr}, ${Hn?"0.18":"0.32"})`,"--accent-strong":`rgba(${Cr}, ${Hn?"0.78":"0.95"})`,"--accent-border":`rgba(${Cr}, ${Hn?"0.22":"0.4"})`,"--accent-glow":`rgba(${Cr}, ${Hn?"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${Cr}, ${Hn?"0.04":"0.08"})`},Pr=w==="modern"||w==="matte"||w==="kinetic",Pc=cn.pattern?Zt||Hn?void 0:Pr?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${cn.pattern}`:cn.pattern:void 0,za=Hn?{backgroundImage:"none",backgroundColor:"rgba(220, 210, 196, 0.95)",borderColor:"rgba(78, 67, 56, 0.18)"}:Zt?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Pr?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var Y;let de=!0;const Oe=new URLSearchParams(window.location.search).get("report")||((Y=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:Y[1])||null,Ke=Oe?`${be}reports/${Oe}/report.json`:`${be}report.json`;Oe&&l(Ke);const Lt=pt=>{var Jt,vn,cr;const ur=new Set((((Jt=pt==null?void 0:pt.meta)==null?void 0:Jt.commanders)||[]).map(tt=>String(tt)));if(ur.size===0)return pt;const _e=pt.stats;return(vn=_e==null?void 0:_e.leaderboards)!=null&&vn.closestToTag&&(_e.leaderboards.closestToTag=_e.leaderboards.closestToTag.map(tt=>ur.has(String(tt==null?void 0:tt.account))?{...tt,value:0}:tt)),(cr=_e==null?void 0:_e.closestToTag)!=null&&cr.player&&ur.has(String(_e.closestToTag.player))&&(_e.closestToTag={..._e.closestToTag,value:0}),pt},kt=pt=>{var Jt,vn,cr,ur,_e;const tt=pt==null?void 0:pt.stats;if(!tt||typeof tt!="object")return pt;const on=Array.isArray((Jt=tt==null?void 0:tt.leaderboards)==null?void 0:Jt.downContrib)?tt.leaderboards.downContrib:[];if(!on.length)return pt;const en=on.map($n=>({...$n,value:Number(($n==null?void 0:$n.value)??0)})).filter($n=>Number.isFinite($n.value)).sort(($n,Ma)=>Ma.value-$n.value||String(($n==null?void 0:$n.account)||"").localeCompare(String((Ma==null?void 0:Ma.account)||"")))[0];return en&&(tt.maxDownContrib={...tt.maxDownContrib||{},value:Number(en.value||0),player:String(en.account||((vn=tt.maxDownContrib)==null?void 0:vn.player)||"-"),count:Number(en.count||((cr=tt.maxDownContrib)==null?void 0:cr.count)||0),profession:String(en.profession||((ur=tt.maxDownContrib)==null?void 0:ur.profession)||"Unknown"),professionList:Array.isArray(en.professionList)?en.professionList:((_e=tt.maxDownContrib)==null?void 0:_e.professionList)||[]}),pt};return fetch(Ke,{cache:"no-store"}).then(pt=>pt.ok?pt.json():Promise.reject()).then(pt=>{var Jt,vn,cr,ur;if(!de)return;const _e=kt(Lt(pt));n(_e);const tt=(Jt=_e==null?void 0:_e.stats)==null?void 0:Jt.uiTheme;tt==="modern"||tt==="classic"||tt==="crt"||tt==="matte"||tt==="kinetic"?N(tt):((vn=_e==null?void 0:_e.stats)==null?void 0:vn.webThemeId)===ah?N("matte"):((cr=_e==null?void 0:_e.stats)==null?void 0:cr.webThemeId)===ih&&N("kinetic"),typeof((ur=_e==null?void 0:_e.stats)==null?void 0:ur.webThemeId)=="string"&&_e.stats.webThemeId&&T(_e.stats.webThemeId)}).catch(()=>{if(Oe){if(!de)return;o("Report not found yet. It may still be deploying.")}fetch(`${be}reports/index.json`,{cache:"no-store"}).then(pt=>pt.ok?pt.json():Promise.reject()).then(pt=>{de&&a(Array.isArray(pt)?pt:[])}).catch(()=>{de&&o("No report data found.")})}),()=>{de=!1}},[be]),v.useEffect(()=>{if(t){const Y=t.meta.dateLabel||V5(t.meta.dateStart,t.meta.dateEnd);document.title=Y?`ArcBridge  ${t.meta.title}  ${Y}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),v.useEffect(()=>{var Y;const de=(Y=t==null?void 0:t.stats)==null?void 0:Y.webThemeId;typeof de=="string"&&de&&T(de)},[t]),v.useEffect(()=>{const Y=document.body;Y.classList.add("web-report"),Y.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic"),Zt?Y.classList.add("theme-matte"):w==="modern"?Y.classList.add("theme-modern"):w==="crt"?Y.classList.add("theme-crt"):w==="kinetic"?Y.classList.add("theme-kinetic"):Y.classList.add("theme-classic")},[w,Zt]),v.useEffect(()=>{var Y;if(et&&(Y=t==null?void 0:t.stats)!=null&&Y.webThemeId)return;let de=!0;return fetch(An(We,"theme.json"),{cache:"no-store"}).then(Oe=>Oe.ok?Oe.json():Promise.reject()).then(Oe=>{de&&typeof(Oe==null?void 0:Oe.id)=="string"&&Oe.id&&T(Oe.id)}).catch(()=>{}),()=>{de=!1}},[We,et,t]),v.useEffect(()=>{var Y,de;const Oe=(Y=t==null?void 0:t.stats)==null?void 0:Y.webThemeId,Ke=(de=t==null?void 0:t.stats)==null?void 0:de.uiTheme;if((Ke==="modern"||Ke==="classic"||Ke==="crt"||Ke==="matte"||Ke==="kinetic")&&!(Oe===ah&&Ke!=="matte"||Oe===ih&&Ke!=="kinetic"||Oe==="CRT"&&Ke!=="crt"))return;let Lt=!0;return fetch(An(We,"ui-theme.json"),{cache:"no-store"}).then(kt=>kt.ok?kt.json():Promise.reject()).then(kt=>{if(!Lt)return;const pt=kt==null?void 0:kt.theme;(pt==="modern"||pt==="classic"||pt==="crt"||pt==="matte"||pt==="kinetic")&&N(pt)}).catch(()=>{}),()=>{Lt=!1}},[We,t]),v.useEffect(()=>{let Y=!0;return fetch(An(We,"logo.json"),{cache:"no-store"}).then(de=>de.ok?de.json():Promise.reject()).then(de=>{if(!Y)return;const Oe="svg/ArcBridge.svg",Ke=de!=null&&de.path?String(de.path):Oe,Lt=de!=null&&de.updatedAt?String(de.updatedAt):"",kt=An(We,Ke),pt=Lt?`${kt}?v=${encodeURIComponent(Lt)}`:kt;h(pt),x(!(de!=null&&de.path)||Ke===Oe)}).catch(()=>{Y&&(h(null),x(!1))}),()=>{Y=!1}},[We]);const si=v.useMemo(()=>r?[...r].sort((Y,de)=>{const Oe=new Date(Y.dateEnd||Y.dateStart).getTime();return new Date(de.dateEnd||de.dateStart).getTime()-Oe}):[],[r]),Ai=v.useMemo(()=>{if(!si.length)return[];const Y=c.trim().toLowerCase();return Y?si.filter(de=>{var Oe;const Ke=((Oe=de.commanders)==null?void 0:Oe.join(" "))||"";return`${de.title} ${Ke} ${de.dateLabel}`.toLowerCase().includes(Y)}):si},[si,c]),Tc=Y=>{if(!Y){Ghe(eb);return}Yhe(eb,JSON.stringify({themeId:Y}))},Cl=Y=>{const de=Y===z5?null:Y;de&&!Od.some(Oe=>Oe.id===de)||(A(de),Tc(de),I(!1))};v.useEffect(()=>{const Y=Oe=>{R.current&&(R.current.contains(Oe.target)||I(!1))},de=Oe=>{Oe.key==="Escape"&&I(!1)};return window.addEventListener("mousedown",Y),window.addEventListener("keydown",de),()=>{window.removeEventListener("mousedown",Y),window.removeEventListener("keydown",de)}},[]),v.useEffect(()=>()=>{ie.current!==null&&(cancelAnimationFrame(ie.current),ie.current=null)},[]);const Oc=v.useMemo(()=>{if(!L)return"Default";const Y=Od.find(de=>de.id===L);return(Y==null?void 0:Y.label)||"Default"},[L]),Dc=u.jsxs("div",{className:"relative flex items-center gap-2",ref:R,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>I(Y=>!Y),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:Oc}),u.jsx("span",{className:`transition-transform ${P?"rotate-180":""}`,children:""})]}),P&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Cl(z5),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Od.map(Y=>u.jsx("button",{type:"button",onClick:()=>Cl(Y.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${L===Y.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:Y.label},Y.id))]})]}),Ic=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Dc}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:Y=>{Y.preventDefault(),G(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),_c=u.jsxs(Hhe,{isOpen:z,onClose:()=>G(!1),searchValue:$,searchFocused:O,searchResults:re,onSearchChange:Y=>{B(Y),requestAnimationFrame(()=>Tt(Y))},onSearchFocus:()=>{E(!0),requestAnimationFrame(()=>Tt($))},onSearchBlur:Y=>{var de;Y&&(de=ge.current)!=null&&de.contains(Y)||E(!1)},onSearchEnter:()=>{re.length>0&&Fe(re[0].hitId,re[0].text)},onSearchResultMouseDown:Y=>{E(!0),Fe(Y.hitId,Y.text)},renderHighlightedMatch:he,searchRef:ge,tocItems:Sn,activeTocId:J,onTocClick:Y=>{const de=te.current;if(!de)return;let Oe=de.querySelector(`[data-heading-id="${Y.id}"]`);if(!Oe){const Ke=Y.text.trim().replace(/\s+/g," ");Oe=Array.from(de.querySelectorAll("h1, h2, h3")).find(Lt=>(Lt.textContent||"").trim().replace(/\s+/g," ")===Ke)||null}Oe&&(ce(Y.id),requestAnimationFrame(()=>{const Ke=de.getBoundingClientRect(),Lt=Oe.getBoundingClientRect(),kt=de.scrollTop+(Lt.top-Ke.top)-12;de.scrollTop=Math.max(0,kt)}))},contentRef:te,children:[(K.current=new Map,null),u.jsx(wce,{remarkPlugins:[Ide],components:{h1:({children:Y})=>{const de=gt(Y),Oe=Gt(de);return u.jsx("h1",{id:Oe,"data-heading-id":Oe,className:"text-2xl font-bold text-white scroll-mt-6",children:Y})},h2:({children:Y})=>{const de=gt(Y),Oe=Gt(de);return u.jsx("h2",{id:Oe,"data-heading-id":Oe,className:"text-xl font-semibold text-white scroll-mt-6",children:Y})},h3:({children:Y})=>{const de=gt(Y),Oe=Gt(de);return u.jsx("h3",{id:Oe,"data-heading-id":Oe,className:"text-lg font-semibold text-white scroll-mt-6",children:Y})},p:({children:Y})=>u.jsx("p",{className:"leading-6 text-gray-200",children:Y}),ul:({children:Y})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:Y}),ol:({children:Y})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:Y}),li:({children:Y})=>u.jsx("li",{className:"leading-6",children:Y}),blockquote:({children:Y})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:Y}),a:({href:Y,children:de})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:Y,target:"_blank",rel:"noreferrer",children:de}),table:({children:Y})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:Y})}),th:({children:Y})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:Y}),td:({children:Y})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:Y}),pre:({children:Y})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:Y}),code:Y=>{const{inline:de,children:Oe}=Y;return de===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Oe}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Oe})}},children:Uv})]});if(t){const Y=An(We,"svg/ArcBridge.svg"),de=()=>{ie.current!==null&&(cancelAnimationFrame(ie.current),ie.current=null);const _e=window.scrollY||window.pageYOffset||0;if(_e<=1){window.scrollTo({top:0,behavior:"auto"});return}const tt=320,on=performance.now(),en=$n=>{const Ma=$n-on,Tr=Math.min(1,Ma/tt),Ho=1-Math.pow(1-Tr,3),cd=Math.max(0,Math.round(_e*(1-Ho)));window.scrollTo({top:cd,behavior:"auto"}),Tr<1?ie.current=requestAnimationFrame(en):(ie.current=null,window.scrollTo({top:0,behavior:"auto"}))};ie.current=requestAnimationFrame(en)},Oe=_e=>{ee(()=>{const tt={};return _t.forEach(on=>{tt[on.id]=on.id===_e}),tt})},Ke=_e=>{var tt,on;F.current=null,V(_e);const en=_t.find($n=>$n.id===_e);W(((on=(tt=en==null?void 0:en.items)==null?void 0:tt[0])==null?void 0:on.id)||"kdr"),de()},Lt=_e=>{if(!H[_e]){Oe(_e),Ke(_e);return}if(_e!==j){Ke(_e);return}ee(tt=>({...tt,[_e]:!1}))},kt=(_e,tt)=>{H[_e]||Oe(_e),W(tt);const on=_e===j;on||(F.current=tt,V(_e),requestAnimationFrame(()=>pa(tt))),on&&requestAnimationFrame(()=>pa(tt))},pt=_e=>{const tt=_e.currentTarget;if(!(tt.scrollHeight>tt.clientHeight)){window.scrollBy({top:_e.deltaY,behavior:"auto"}),_e.preventDefault();return}const on=tt.scrollTop<=0,en=tt.scrollTop+tt.clientHeight>=tt.scrollHeight-1;(on&&_e.deltaY<0||en&&_e.deltaY>0)&&(window.scrollBy({top:_e.deltaY,behavior:"auto"}),_e.preventDefault())},Jt=_e=>{const tt=_.current;if(!tt)return;const on=_e.target;if(!on||!tt.contains(on))return;let en=on;for(;en&&en!==tt;){const $n=window.getComputedStyle(en).overflowY;if(($n==="auto"||$n==="scroll")&&en.scrollHeight>en.clientHeight+1){const Ma=en.scrollTop<=0,Tr=en.scrollTop+en.clientHeight>=en.scrollHeight-1;(_e.deltaY<0&&Ma||_e.deltaY>0&&Tr)&&(window.scrollBy({top:_e.deltaY,behavior:"auto"}),_e.preventDefault());return}en=en.parentElement}},vn=_e=>{const tt=Math.max(0,6-_e);return{accordionDuration:.5+tt*.07,itemDuration:.34+tt*.035,stagger:.05+tt*.01,delayChildren:.06+tt*.015}},cr=_e=>{const tt=vn(_e);return{open:{transition:{staggerChildren:tt.stagger,delayChildren:tt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,tt.stagger*.7),staggerDirection:-1}}}},ur={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Zt?"var(--bg-base)":Hn?"#d8d1c5":Pr?"#0f141c":"#0f172a",backgroundImage:Zt?"none":Pc,...Ca},children:[!Zt&&!Hn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${g?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>b(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${g?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:pt,children:_t.map(_e=>{const tt=_e.icon,on=_e.id===j,en=!!H[_e.id],$n=vn(_e.items.length),Ma=cr(_e.items.length);return u.jsxs(To.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Lt(_e.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${on?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(tt,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:_e.label}),u.jsx(To.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:en?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Kb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(To.div,{initial:!1,animate:en?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:$n.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(To.div,{variants:Ma,initial:!1,animate:en?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:_e.items.map(Tr=>{const Ho=Tr.icon;return u.jsxs(To.button,{variants:ur,transition:{duration:$n.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{kt(_e.id,Tr.id),b(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${Q===Tr.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Ho,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Tr.label]},Tr.id)})})},`${_e.id}-submenu-mobile`)]},_e.id)})})]})}),u.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:yn,maskImage:`url(${Y})`,WebkitMaskImage:`url(${Y})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:pt,children:_t.map(_e=>{const tt=_e.icon,on=_e.id===j,en=!!H[_e.id],$n=vn(_e.items.length),Ma=cr(_e.items.length);return u.jsxs(To.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Lt(_e.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${on?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(tt,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:_e.label}),u.jsx(To.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:en?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Kb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(To.div,{initial:!1,animate:en?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:$n.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(To.div,{variants:Ma,initial:!1,animate:en?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:_e.items.map(Tr=>{const Ho=Tr.icon;return u.jsxs(To.button,{variants:ur,transition:{duration:$n.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>kt(_e.id,Tr.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${Q===Tr.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Ho,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Tr.label]},Tr.id)})})},`${_e.id}-submenu-desktop`)]},_e.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${_l} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:za,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:yn,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||V5(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(z2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(dU,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Nr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(pO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Cn==null?void 0:Cn.items)||[]).map(_e=>{const tt=_e.icon;return u.jsxs("button",{onClick:()=>kt((Cn==null?void 0:Cn.id)||"overview",_e.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${Q===_e.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(tt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),_e.label]},`chip-${_e.id}`)})})]}),u.jsx("div",{ref:_,onWheelCapture:Jt,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Fae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(e=t.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:w,sectionVisibility:_e=>ja.has(_e),dashboardTitle:`Statistics Dashboard - ${(Cn==null?void 0:Cn.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Ic})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(uO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(z2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(uU,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),_c]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Zt?"var(--bg-base)":Hn?"#d8d1c5":Pr?"#0f141c":"#0f172a",backgroundImage:Zt?"none":Pc,...Ca},children:[!Zt&&!Hn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${_l} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:za,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:yn,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Ai.length," Reports"]})})]}),u.jsxs("div",{className:`${_l} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:za,children:[u.jsx("input",{type:"search",value:c,onChange:Y=>d(Y.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Ai.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:si.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:za,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!r&&u.jsx("div",{className:`${_l} p-6 text-gray-300`,style:za,children:"Loading reports..."}),Ai.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Ai.map(Y=>{var de,Oe,Ke,Lt;return u.jsx("a",{href:Y.url,className:`${_l} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:za,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:Y.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:Xhe(Y.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Nr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:Y.commanders.length?Y.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(de=Y.summary)!=null&&de.mapSlices&&Y.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(Qhe,{slices:Y.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Zhe,{value:(Oe=Y.summary)==null?void 0:Oe.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((Ke=Y.summary)==null?void 0:Ke.avgSquadSize)??"--"," / ",((Lt=Y.summary)==null?void 0:Lt.avgEnemySize)??"--"]})]}),u.jsx(gU,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},Y.id)})}),!i&&r&&si.length===0&&u.jsx("div",{className:`${_l} p-6 text-gray-300`,style:za,children:"No reports uploaded yet."}),!i&&r&&si.length>0&&Ai.length===0&&u.jsx("div",{className:`${_l} p-6 text-gray-300`,style:za,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Ic})]}),_c]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");tb.createRoot(document.getElementById("root")).render(u.jsx(Hg.StrictMode,{children:u.jsx(Jhe,{})}));
